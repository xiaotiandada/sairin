<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>i18n - Blog(issues)</title><meta property="og:type" content="artical"/><meta property="og:title" content="i18n"/><meta property="og:image" content="
        https://og-image.vercel.app/i18n.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fvercel-triangle-black.svg
      "/><meta property="article:published_time" content="2021-01-19T06:27:40Z"/><meta property="article:author" content="xiaotiandada"/><meta name="twitter:card" content="i18n"/><meta name="twitter:title" content="i18n"/><meta name="twitter:image" content="
        https://og-image.vercel.app/i18n.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fvercel-triangle-black.svg
      "/><meta name="next-head-count" content="4"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""/><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&amp;display=swap" rel="stylesheet"/><link rel="preload" href="/_next/static/css/b78bfc7021c6877d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b78bfc7021c6877d.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-2190439a97dca295.js" defer=""></script><script src="/_next/static/chunks/pages/_app-2aac380799256b7f.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...path%5D-e0b96643230aac68.js" defer=""></script><script src="/_next/static/YPEk3V-eoVeml18YoUSCM/_buildManifest.js" defer=""></script><script src="/_next/static/YPEk3V-eoVeml18YoUSCM/_ssgManifest.js" defer=""></script><script src="/_next/static/YPEk3V-eoVeml18YoUSCM/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div><div class="container mx-auto mt-24 max-w-2xl px-4 sm:px-0"><div><div class="flex my-8 font-bold"><a href="/">Blog(issues)</a></div></div><div class="mb-8"><div class="text-3xl font-medium">i18n</div><div class="flex mt-4 items-center gap-2"><img class="w-8 h-8 rounded-full" src="https://avatars.githubusercontent.com/u/24250627?u=51a93e07957381123eb9fbdd6407de36033b578d&amp;v=4"/><a target="_blank" href="https://github.com/xiaotiandada">xiaotiandada</a><a class="underline text-sm" target="_blank" href="https://github.com/xiaotiandada/blog/issues/34">View on GitHub</a></div><div class="my-8"><div class="flex gap-4 flex-wrap"></div></div></div><div class="post-body"><h3 id="next">Next</h3>
<ul>
<li><a href="https://jasonlam.cc/blog/ZitySpace/the-experience-of-website-internationalization">https://jasonlam.cc/blog/ZitySpace/the-experience-of-website-internationalization</a></li>
<li><a href="https://github.com/isaachinman/next-i18next/issues/1552">https://github.com/isaachinman/next-i18next/issues/1552</a></li>
</ul>
<h3 id="vue-i18n-为什么切换语言部分的数据会不变？">vue-i18n 为什么切换语言部分的数据会不变？</h3>
<p>2019-09-26 15:48:12</p>
<p><strong>vue-i18n国际化在data中切换不起作用</strong></p>
<p><a href="https://www.bbsmax.com/A/qVdep96p5P/">https://www.bbsmax.com/A/qVdep96p5P/</a></p>
<p>配置会写在另一篇文章里面!!</p>
<pre><code>将this.$t() 写到了data属性里，切换语言不起作用

data是一次性生产的，你这么写只能是在 data 初始化的时候拿到这些被国际化的值，并不能响应变化。

官方的解决办法是，建议我们将表达式写到computed属性里，不要写到data里

copy⬆️
</code></pre><p>因为在 js 中的this.options只会在初始化的时候执行一次，它的数据并不会随着你本地 lang的变化而变化，所以需要你在lang变化的时候手动重设this.options。 -- copy</p>
<p><a href="https://panjiachen.github.io/vue-element-admin-site/zh/guide/advanced/i18n.html">https://panjiachen.github.io/vue-element-admin-site/zh/guide/advanced/i18n.html</a></p>
<p>有些数据又不想写在computed里面怎么办???</p>
<p>解决方案</p>
<ol>
<li>刷新页面 (体验不太好</li>
<li>写入computed</li>
<li>通过监听locale重新赋值</li>
</ol>
<pre class="language-js"><code class="language-js">  <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">'$i18n.locale'</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$i18n<span class="token punctuation">.</span>locale<span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 重新设置一下值</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre></div><hr class="my-12"/><div class="font-sans"><div class="mb-12"><a target="_blank" href="https://github.com/xiaotiandada/blog/issues/34" class="font-medium border border-gray-700 hover:bg-gray-700 hover:text-gray-100 transition-all text-gray-700 text-sm rounded px-4 py-2">Add comment</a></div></div><div class="my-12"><div class="text-sm">Powered by <a class="underline" target="_blank" href="https://github.com/djyde/sairin">Sairin</a></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"MDU6SXNzdWU3ODg3NDU0NTA=","url":"https://github.com/xiaotiandada/blog/issues/34","title":"i18n","updatedAt":"2022-05-16T07:47:25Z","createdAt":"2021-01-19T06:27:40Z","body":"### Next\r\n- https://jasonlam.cc/blog/ZitySpace/the-experience-of-website-internationalization\r\n- https://github.com/isaachinman/next-i18next/issues/1552\r\n\r\n\r\n###  vue-i18n 为什么切换语言部分的数据会不变？\r\n\r\n2019-09-26 15:48:12\r\n\r\n**vue-i18n国际化在data中切换不起作用**\r\n\r\nhttps://www.bbsmax.com/A/qVdep96p5P/\r\n\r\n配置会写在另一篇文章里面!!\r\n\r\n\r\n```\r\n将this.$t() 写到了data属性里，切换语言不起作用\r\n\r\ndata是一次性生产的，你这么写只能是在 data 初始化的时候拿到这些被国际化的值，并不能响应变化。\r\n\r\n官方的解决办法是，建议我们将表达式写到computed属性里，不要写到data里\r\n\r\ncopy⬆️\r\n\r\n```\r\n\r\n因为在 js 中的this.options只会在初始化的时候执行一次，它的数据并不会随着你本地 lang的变化而变化，所以需要你在lang变化的时候手动重设this.options。 -- copy\r\n\r\nhttps://panjiachen.github.io/vue-element-admin-site/zh/guide/advanced/i18n.html\r\n\r\n有些数据又不想写在computed里面怎么办???\r\n\r\n解决方案\r\n\r\n1. 刷新页面 (体验不太好\r\n2. 写入computed\r\n3. 通过监听locale重新赋值\r\n\r\n```js\r\n  watch: {\r\n    '$i18n.locale'() {\r\n      console.log(this.$i18n.locale)\r\n      this.setContent() // 重新设置一下值\r\n    }\r\n  },\r\n```","comments":{"nodes":[]},"reactionGroups":[{"content":"THUMBS_UP","reactors":{"totalCount":0}},{"content":"THUMBS_DOWN","reactors":{"totalCount":0}},{"content":"LAUGH","reactors":{"totalCount":0}},{"content":"HOORAY","reactors":{"totalCount":0}},{"content":"CONFUSED","reactors":{"totalCount":0}},{"content":"HEART","reactors":{"totalCount":0}},{"content":"ROCKET","reactors":{"totalCount":0}},{"content":"EYES","reactors":{"totalCount":0}}],"author":{"login":"xiaotiandada","url":"https://github.com/xiaotiandada","avatarUrl":"https://avatars.githubusercontent.com/u/24250627?u=51a93e07957381123eb9fbdd6407de36033b578d\u0026v=4"},"html":"\u003ch3 id=\"next\"\u003eNext\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://jasonlam.cc/blog/ZitySpace/the-experience-of-website-internationalization\"\u003ehttps://jasonlam.cc/blog/ZitySpace/the-experience-of-website-internationalization\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/isaachinman/next-i18next/issues/1552\"\u003ehttps://github.com/isaachinman/next-i18next/issues/1552\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"vue-i18n-为什么切换语言部分的数据会不变？\"\u003evue-i18n 为什么切换语言部分的数据会不变？\u003c/h3\u003e\n\u003cp\u003e2019-09-26 15:48:12\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003evue-i18n国际化在data中切换不起作用\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.bbsmax.com/A/qVdep96p5P/\"\u003ehttps://www.bbsmax.com/A/qVdep96p5P/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e配置会写在另一篇文章里面!!\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e将this.$t() 写到了data属性里，切换语言不起作用\n\ndata是一次性生产的，你这么写只能是在 data 初始化的时候拿到这些被国际化的值，并不能响应变化。\n\n官方的解决办法是，建议我们将表达式写到computed属性里，不要写到data里\n\ncopy⬆️\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e因为在 js 中的this.options只会在初始化的时候执行一次，它的数据并不会随着你本地 lang的变化而变化，所以需要你在lang变化的时候手动重设this.options。 -- copy\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://panjiachen.github.io/vue-element-admin-site/zh/guide/advanced/i18n.html\"\u003ehttps://panjiachen.github.io/vue-element-admin-site/zh/guide/advanced/i18n.html\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e有些数据又不想写在computed里面怎么办???\u003c/p\u003e\n\u003cp\u003e解决方案\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e刷新页面 (体验不太好\u003c/li\u003e\n\u003cli\u003e写入computed\u003c/li\u003e\n\u003cli\u003e通过监听locale重新赋值\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e  \u003cspan class=\"token literal-property property\"\u003ewatch\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token string\"\u003e'$i18n.locale'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      console\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e$i18n\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003elocale\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003esetContent\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// 重新设置一下值\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e","attributes":{}},"themeConfig":{"title":"Blog(issues)","links":[{"title":"GitHub","url":"https://github.com/xiaotiandada/blog"},{"title":"Twitter","url":"https://twitter.com/XiaoTianIsMe"}]}},"__N_SSG":true},"page":"/[...path]","query":{"path":["MDU6SXNzdWU3ODg3NDU0NTA="]},"buildId":"YPEk3V-eoVeml18YoUSCM","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>