{"pageProps":{"post":{"id":"I_kwDOD_pKSM5JOjia","url":"https://github.com/xiaotiandada/blog/issues/105","title":"Yarn","updatedAt":"2022-05-29T10:05:39Z","createdAt":"2022-05-07T07:11:34Z","body":"```\r\n➤ YN0000: └ Completed in 0s 488ms\r\n➤ YN0000: ┌ Fetch step\r\n➤ YN0013: │ ethereumjs-abi@https://github.com/ethereumjs/ethereumjs-abi.git#commit=ee3994657fa7a427238e6ba92a84d0b529bbcde0 ca\r\n➤ YN0013: │ ethereumjs-abi@https://github.com/ethereumjs/ethereumjs-abi.git#commit=ee3994657fa7a427238e6ba92a84d0b529bbcde0 ca\r\n➤ YN0018: │ ethereumjs-abi@https://github.com/ethereumjs/ethereumjs-abi.git#commit=ee3994657fa7a427238e6ba92a84d0b529bbcde0: The remote archive doesn't match the expected checksum\r\n➤ YN0000: └ Completed in 6s 167ms\r\n➤ YN0000: Failed with errors in 6s 661ms\r\n```\r\n\r\n- https://yarnpkg.com/advanced/error-codes#yn0018---cache_checksum_mismatch\r\n- https://github.com/yarnpkg/berry/issues/1142#issuecomment-607272809\r\n\r\n```\r\nyarn cache clean --all\r\nYARN_CHECKSUM_BEHAVIOR=update yarn\r\n```\r\n\r\n\r\n### Github Actions\r\n\r\n- https://yarnpkg.com/cli/install\r\n- https://classic.yarnpkg.com/lang/en/docs/cli/install/\r\n- https://stackoverflow.com/questions/58482655/what-is-the-closest-to-npm-ci-in-yarn\r\n- https://yarnpkg.com/getting-started/migration#step-by-step\r\n- https://github.com/actions/setup-node/pull/495\r\n- https://stackoverflow.com/questions/52630404/how-to-install-packages-based-on-the-lock-file-with-yarn\r\n`YN0050: The --frozen-lockfile option is deprecated; use --immutable and/or --immutable-cache instead`\r\n\r\n```yml\r\nsteps:\r\n- uses: actions/checkout@v3\r\n- uses: actions/setup-node@v3\r\n  with:\r\n    node-version: '14'\r\n    cache: 'yarn'\r\n- run: yarn install --frozen-lockfile\r\n- run: yarn test\r\n```\r\n\r\n```yml\r\n - run: yarn install --immutable\r\n```\r\n\r\n### npm/yarn scripts 使用指南\r\n- [npm scripts 使用指南](https://www.ruanyifeng.com/blog/2016/10/npm_scripts.html)\r\n- https://yarnpkg.com/advanced/lifecycle-scripts","comments":{"nodes":[]},"reactionGroups":[{"content":"THUMBS_UP","reactors":{"totalCount":0}},{"content":"THUMBS_DOWN","reactors":{"totalCount":0}},{"content":"LAUGH","reactors":{"totalCount":0}},{"content":"HOORAY","reactors":{"totalCount":0}},{"content":"CONFUSED","reactors":{"totalCount":0}},{"content":"HEART","reactors":{"totalCount":0}},{"content":"ROCKET","reactors":{"totalCount":0}},{"content":"EYES","reactors":{"totalCount":0}}],"author":{"login":"xiaotiandada","url":"https://github.com/xiaotiandada","avatarUrl":"https://avatars.githubusercontent.com/u/24250627?u=51a93e07957381123eb9fbdd6407de36033b578d&v=4"},"html":"<pre><code>➤ YN0000: └ Completed in 0s 488ms\n➤ YN0000: ┌ Fetch step\n➤ YN0013: │ ethereumjs-abi@https://github.com/ethereumjs/ethereumjs-abi.git#commit=ee3994657fa7a427238e6ba92a84d0b529bbcde0 ca\n➤ YN0013: │ ethereumjs-abi@https://github.com/ethereumjs/ethereumjs-abi.git#commit=ee3994657fa7a427238e6ba92a84d0b529bbcde0 ca\n➤ YN0018: │ ethereumjs-abi@https://github.com/ethereumjs/ethereumjs-abi.git#commit=ee3994657fa7a427238e6ba92a84d0b529bbcde0: The remote archive doesn't match the expected checksum\n➤ YN0000: └ Completed in 6s 167ms\n➤ YN0000: Failed with errors in 6s 661ms</code></pre><ul>\n<li><a href=\"https://yarnpkg.com/advanced/error-codes#yn0018---cache_checksum_mismatch\">https://yarnpkg.com/advanced/error-codes#yn0018---cache_checksum_mismatch</a></li>\n<li><a href=\"https://github.com/yarnpkg/berry/issues/1142#issuecomment-607272809\">https://github.com/yarnpkg/berry/issues/1142#issuecomment-607272809</a></li>\n</ul>\n<pre><code>yarn cache clean --all\nYARN_CHECKSUM_BEHAVIOR=update yarn</code></pre><h3 id=\"github-actions\">Github Actions</h3>\n<ul>\n<li><a href=\"https://yarnpkg.com/cli/install\">https://yarnpkg.com/cli/install</a></li>\n<li><a href=\"https://classic.yarnpkg.com/lang/en/docs/cli/install/\">https://classic.yarnpkg.com/lang/en/docs/cli/install/</a></li>\n<li><a href=\"https://stackoverflow.com/questions/58482655/what-is-the-closest-to-npm-ci-in-yarn\">https://stackoverflow.com/questions/58482655/what-is-the-closest-to-npm-ci-in-yarn</a></li>\n<li><a href=\"https://yarnpkg.com/getting-started/migration#step-by-step\">https://yarnpkg.com/getting-started/migration#step-by-step</a></li>\n<li><a href=\"https://github.com/actions/setup-node/pull/495\">https://github.com/actions/setup-node/pull/495</a></li>\n<li><a href=\"https://stackoverflow.com/questions/52630404/how-to-install-packages-based-on-the-lock-file-with-yarn\">https://stackoverflow.com/questions/52630404/how-to-install-packages-based-on-the-lock-file-with-yarn</a>\n<code>YN0050: The --frozen-lockfile option is deprecated; use --immutable and/or --immutable-cache instead</code></li>\n</ul>\n<pre class=\"language-yml\"><code class=\"language-yml\">steps:\n- uses: actions/checkout@v3\n- uses: actions/setup-node@v3\n  with:\n    node-version: '14'\n    cache: 'yarn'\n- run: yarn install --frozen-lockfile\n- run: yarn test</code></pre><pre class=\"language-yml\"><code class=\"language-yml\"> - run: yarn install --immutable</code></pre><h3 id=\"npmyarn-scripts-使用指南\">npm/yarn scripts 使用指南</h3>\n<ul>\n<li><a href=\"https://www.ruanyifeng.com/blog/2016/10/npm_scripts.html\">npm scripts 使用指南</a></li>\n<li><a href=\"https://yarnpkg.com/advanced/lifecycle-scripts\">https://yarnpkg.com/advanced/lifecycle-scripts</a></li>\n</ul>\n","attributes":{}},"themeConfig":{"title":"Blog(issues)","links":[{"title":"GitHub","url":"https://github.com/xiaotiandada/blog"},{"title":"Twitter","url":"https://twitter.com/XiaoTianIsMe"}]}},"__N_SSG":true}