{"pageProps":{"post":{"id":"MDU6SXNzdWU3ODg3MDk1NjE=","url":"https://github.com/xiaotiandada/blog/issues/20","title":"ShuffleanArray","updatedAt":"2021-01-19T05:04:32Z","createdAt":"2021-01-19T05:04:32Z","body":"2019-06-13 00:06:35\r\n\r\nShuffle an Array (carry)\r\n[Shuffle an Array](http://www.jstips.co/en/javascript/shuffle-an-array/)\r\n\r\nThis snippet here uses Fisher-Yates Shuffling Algorithm to shuffle a given array.\r\n\r\n[Fisher-Yates Shuffling](https://www.wikiwand.com/en/Fisher%E2%80%93Yates_shuffle)\r\n[Fisher-Yates Shuffling](https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle)\r\n\r\n<!-- more -->\r\n\r\n## example\r\n\r\n```js\r\nfunction shuffle(arr) {\r\n    var i,\r\n        j,\r\n        temp;\r\n    for (i = arr.length - 1; i > 0; i--) {\r\n        j = Math.floor(Math.random() * (i + 1));\r\n        temp = arr[i];\r\n        arr[i] = arr[j];\r\n        arr[j] = temp;\r\n    }\r\n    return arr;    \r\n};\r\n\r\nvar a = [1, 2, 3, 4, 5, 6, 7, 8];\r\nvar b = shuffle(a);\r\nconsole.log(b);\r\n// [2, 7, 8, 6, 5, 3, 1, 4]\r\n\r\n```\r\n\r\n## self\r\n\r\n```js\r\nlet arr = [1,2,3,4,5,6,7,8]\r\nconst shuffle = arr => {\r\n  // 7 6 5 4 ... 2 1\r\n  for(let i = arr.length - 1; i > 0; i--) {\r\n    let temp = null\r\n    let j = null\r\n    // 0-7 0-6 0-5 ... ... 0-1\r\n    j = Math.floor(Math.random() * (i + 1))\r\n    temp = arr[j]\r\n    arr[j] = arr[i]\r\n    arr[i] = temp\r\n  }\r\n  return arr\r\n}\r\n\r\nconsole.log(shuffle(arr))\r\n\r\n// [8, 4, 2, 3, 6, 1, 5, 7]\r\n// [5, 4, 7, 3, 1, 6, 8, 2]\r\n// [4, 5, 6, 8, 1, 2, 3, 7]\r\n// [7, 5, 3, 4, 6, 8, 1, 2]\r\n// [5, 7, 6, 3, 2, 1, 8, 4]\r\n// [7, 6, 5, 3, 1, 8, 2, 4]\r\n// [5, 6, 7, 8, 3, 1, 4, 2]\r\n// [8, 3, 1, 7, 4, 5, 6, 2]\r\n// [5, 8, 1, 4, 6, 7, 3, 2]\r\n// [6, 5, 4, 2, 8, 3, 7, 1]\r\n\r\n```","comments":{"nodes":[]},"reactionGroups":[{"content":"THUMBS_UP","reactors":{"totalCount":0}},{"content":"THUMBS_DOWN","reactors":{"totalCount":0}},{"content":"LAUGH","reactors":{"totalCount":0}},{"content":"HOORAY","reactors":{"totalCount":0}},{"content":"CONFUSED","reactors":{"totalCount":0}},{"content":"HEART","reactors":{"totalCount":0}},{"content":"ROCKET","reactors":{"totalCount":0}},{"content":"EYES","reactors":{"totalCount":0}}],"author":{"login":"xiaotiandada","url":"https://github.com/xiaotiandada","avatarUrl":"https://avatars.githubusercontent.com/u/24250627?u=51a93e07957381123eb9fbdd6407de36033b578d&v=4"},"html":"<p>2019-06-13 00:06:35</p>\n<p>Shuffle an Array (carry)\n<a href=\"http://www.jstips.co/en/javascript/shuffle-an-array/\">Shuffle an Array</a></p>\n<p>This snippet here uses Fisher-Yates Shuffling Algorithm to shuffle a given array.</p>\n<p><a href=\"https://www.wikiwand.com/en/Fisher%E2%80%93Yates_shuffle\">Fisher-Yates Shuffling</a>\n<a href=\"https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\">Fisher-Yates Shuffling</a></p>\n<!-- more -->\n\n<h2 id=\"example\">example</h2>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">shuffle</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> i<span class=\"token punctuation\">,</span>\n        j<span class=\"token punctuation\">,</span>\n        temp<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">--</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        j <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        temp <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        arr<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> temp<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> arr<span class=\"token punctuation\">;</span>    \n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> b <span class=\"token operator\">=</span> <span class=\"token function\">shuffle</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// [2, 7, 8, 6, 5, 3, 1, 4]</span>\n</code></pre><h2 id=\"self\">self</h2>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span><span class=\"token number\">7</span><span class=\"token punctuation\">,</span><span class=\"token number\">8</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">shuffle</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">arr</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 7 6 5 4 ... 2 1</span>\n  <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">--</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> temp <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\n    <span class=\"token keyword\">let</span> j <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\n    <span class=\"token comment\">// 0-7 0-6 0-5 ... ... 0-1</span>\n    j <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    temp <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span>\n    arr<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>\n    arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> temp\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> arr\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">shuffle</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// [8, 4, 2, 3, 6, 1, 5, 7]</span>\n<span class=\"token comment\">// [5, 4, 7, 3, 1, 6, 8, 2]</span>\n<span class=\"token comment\">// [4, 5, 6, 8, 1, 2, 3, 7]</span>\n<span class=\"token comment\">// [7, 5, 3, 4, 6, 8, 1, 2]</span>\n<span class=\"token comment\">// [5, 7, 6, 3, 2, 1, 8, 4]</span>\n<span class=\"token comment\">// [7, 6, 5, 3, 1, 8, 2, 4]</span>\n<span class=\"token comment\">// [5, 6, 7, 8, 3, 1, 4, 2]</span>\n<span class=\"token comment\">// [8, 3, 1, 7, 4, 5, 6, 2]</span>\n<span class=\"token comment\">// [5, 8, 1, 4, 6, 7, 3, 2]</span>\n<span class=\"token comment\">// [6, 5, 4, 2, 8, 3, 7, 1]</span>\n</code></pre>","attributes":{}},"themeConfig":{"title":"Blog(issues)","links":[{"title":"GitHub","url":"https://github.com/xiaotiandada/blog"},{"title":"Twitter","url":"https://twitter.com/XiaoTianIsMe"}]}},"__N_SSG":true}