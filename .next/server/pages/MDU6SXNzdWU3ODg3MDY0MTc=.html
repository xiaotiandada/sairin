<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>vue-lottie动画效果 - Blog(issues)</title><meta property="og:type" content="artical"/><meta property="og:title" content="vue-lottie动画效果"/><meta property="og:image" content="
        https://og-image.vercel.app/vue-lottie动画效果.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fvercel-triangle-black.svg
      "/><meta property="article:published_time" content="2021-01-19T04:56:23Z"/><meta property="article:author" content="xiaotiandada"/><meta name="twitter:card" content="vue-lottie动画效果"/><meta name="twitter:title" content="vue-lottie动画效果"/><meta name="twitter:image" content="
        https://og-image.vercel.app/vue-lottie动画效果.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fvercel-triangle-black.svg
      "/><meta name="next-head-count" content="4"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""/><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&amp;display=swap" rel="stylesheet"/><link rel="preload" href="/_next/static/css/b78bfc7021c6877d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b78bfc7021c6877d.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-2190439a97dca295.js" defer=""></script><script src="/_next/static/chunks/pages/_app-2aac380799256b7f.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...path%5D-e0b96643230aac68.js" defer=""></script><script src="/_next/static/YPEk3V-eoVeml18YoUSCM/_buildManifest.js" defer=""></script><script src="/_next/static/YPEk3V-eoVeml18YoUSCM/_ssgManifest.js" defer=""></script><script src="/_next/static/YPEk3V-eoVeml18YoUSCM/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div><div class="container mx-auto mt-24 max-w-2xl px-4 sm:px-0"><div><div class="flex my-8 font-bold"><a href="/">Blog(issues)</a></div></div><div class="mb-8"><div class="text-3xl font-medium">vue-lottie动画效果</div><div class="flex mt-4 items-center gap-2"><img class="w-8 h-8 rounded-full" src="https://avatars.githubusercontent.com/u/24250627?u=51a93e07957381123eb9fbdd6407de36033b578d&amp;v=4"/><a target="_blank" href="https://github.com/xiaotiandada">xiaotiandada</a><a class="underline text-sm" target="_blank" href="https://github.com/xiaotiandada/blog/issues/5">View on GitHub</a></div><div class="my-8"><div class="flex gap-4 flex-wrap"></div></div></div><div class="post-body"><p>2018-06-06 18:45:38</p>
<h3 id="vue-lottie动画效果">vue-lottie动画效果</h3>
<p><a href="https://github.com/xiaotiandada/Case/tree/master/Anime/sanDemo">仓库地址</a></p>
<p><a href="https://xiaotiandada.github.io/Case/Anime/sanDemo/app/">模仿demo</a></p>
<p><a href="https://xiaotiandada.github.io/">blog</a></p>
<p><a href="https://juejin.im/post/5aff09ee6fb9a07a9b36365b">掘金</a></p>
<p>用lottie的好处有很多(.......此处省略ｎ字) 简单来说就是简单高效的还原设计的动画效果</p>
<p>然后在个人项目使用vue-lottie　分享一些小小经验吧</p>
<p>废话不多说～～～ (正经分割线)</p>
<!-- more -->

<hr>
<h3 id="分析官方demo">分析官方demo</h3>
<p>先来一个简单的尝尝鲜</p>
<p><a href="https://github.com/chenqingspring/vue-lottie">vue-lottie仓库</a></p>
<p><a href="https://chenqingspring.github.io/vue-lottie/">vue-lottie demo</a></p>
<p>打开仓库可以看见很多很棒的效果（nice</p>
<h4 id="installation">Installation</h4>
<pre class="language-bash"><code class="language-bash">npm install --save vue-lottie</code></pre><h4 id="usage">Usage</h4>
<pre class="language-bash"><code class="language-bash"><template>
    <div id="app">
        <lottie :options="defaultOptions" :height="400" :width="400" v-on:animCreated="handleAnimation"/>
        <div>
            <p>Speed: x{{animationSpeed}}</p>
            <input type="range" value="1" min="0" max="3" step="0.5"
                   v-on:change="onSpeedChange" v-model="animationSpeed">
        </div>
        <button v-on:click="stop">stop</button>
        <button v-on:click="pause">pause</button>
        <button v-on:click="play">play</button>
    </div>
</template>

<script>
  import Lottie from './lottie.vue';
  import * as animationData from './assets/pinjump.json';

  export default {
    name: 'app',
    components: {
      'lottie': Lottie
    },
    data() {
      return {
        defaultOptions: {animationData: animationData},
        animationSpeed: 1
      }
    },
    methods: {
      handleAnimation: function (anim) {
        this.anim = anim;
      },

      stop: function () {
        this.anim.stop();
      },

      play: function () {
        this.anim.play();
      },

      pause: function () {
        this.anim.pause();
      },

      onSpeedChange: function () {
        this.anim.setSpeed(this.animationSpeed);
      }
    }
  }
</script></code></pre><p>这是之前官方给的demo代码　基本上和平时使用没啥不一样(所以只需要复制粘贴就ok了)</p>
<pre class="language-bash"><code class="language-bash"># json 动画效果AE转json后的文件
import * as animationData from './assets/pinjump.json';</code></pre><p>引入的json需要改！！！</p>
<pre class="language-bash"><code class="language-bash"># 这里引入了　lottie组件
import Lottie from './lottie.vue';</code></pre><pre class="language-bash"><code class="language-bash"># lottie.vue
<template>
    <div :style="style" ref="lavContainer"></div>
</template>

<script>
  import lottie from 'lottie-web'
export default {
    props: {
      options: {
        type: Object,
        required: true
      },
      height: Number,
      width: Number
    },
    data() {
      return {
        style: {
          width: this.width ? `${this.width}px` : '100%',
          height: this.height ? `${this.height}px` : '100%',
          overflow: 'hidden',
          margin: '0 auto'
        }
      }
    },
    mounted() {
      this.anim = lottie.loadAnimation({
        container: this.$refs.lavContainer,
        renderer: 'svg',
        loop: this.options.loop !== false,
        autoplay: this.options.autoplay !== false,
        animationData: this.options.animationData,
        rendererSettings: this.options.rendererSettings
      }
      )
      this.$emit('animCreated', this.anim)
    }
  }
</script></code></pre><p>然后会发现还是有错误(缺少组件！)　其实很简单啦，打开仓库进入src然后打开lottle组件然后复制过去就ok啦hhh(简单)</p>
<p><img src="vue-lottie%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/one.png" alt="效果图"></p>
<p>这是效果图（是不是很简单２３３</p>
<h3 id="使用别的json文件">使用别的json文件</h3>
<p>官方给给了一个很好的效果网站　<a href="https://www.lottiefiles.com/">地址</a></p>
<p>下载json文件　然后更换引入的json</p>
<pre class="language-bash"><code class="language-bash"># json 动画效果AE转json后的文件
import * as animationData from './assets/blood_transfusion_kawaii.json.json';
</code></pre><p><img src="vue-lottie%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/two.png" alt="效果图"></p>
<p>是不是也很简单！！！</p>
<h3 id="使用vue-lottie模仿san官网的动画效果">使用vue-lottie模仿san官网的动画效果</h3>
<p>先来效果图～～～</p>
<p><img src="vue-lottie%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/three.png" alt="效果图"></p>
<p>因为有多个需要用到lottie动画，想了半天不知道怎么解决调用方法的问题　最后想了一个简单的方法</p>
<p>直接将每一个动画抽到一个组件　组件内依然用之前的方法（稍微改造一下就行</p>
<p>然后利用父子组件传数据的形式传递json文件　子组件props接收</p>
<pre class="language-bash"><code class="language-bash"># html
<template>
  <div class="card-panel" @mouseenter="lottiePlay" @mouseleave="lottieStop">
    <div class="card-panel-icon-wrapper icon-shoppingCard">
      <lottie :options="defaultOptions" :height="80" :width="80" v-on:animCreated="handleAnimation" />
    </div>
    <div class="card-panel-description">
      <div class="card-panel-text">今日活跃</div>
      <div class="card-panel-num">2600</div>
    </div>
  </div>
</template></code></pre><pre class="language-bash"><code class="language-bash"># props
props: {
    animationDataPath: {
      type: Object,
      default: null
    }
  },
  data() {
  return {
    defaultOptions: {
      // animationData: animationDataPath,
      animationData: this.animationDataPath,
      autoplay: false,  # 不自动播放
      loop: false　　　　　# 不循环
    }
  }
}</code></pre><pre class="language-bash"><code class="language-bash"># 事件调用
@mouseenter="lottiePlay" @mouseleave="lottieStop"

lottiePlay: function() {
  this.anim.play()
},
lottieStop: function() {
  this.anim.stop()
}</code></pre><p>然后就到了父组件传数据</p>
<pre class="language-bash"><code class="language-bash"># 父组件
<panel-lottie :animationDataPath="animationDataPathOne"></panel-lottie>

animationDataPathOne: require('../../../public/json/compass.json')</code></pre><p>自己用到了require引入json　然后打包出来　一样可以正常运行　如果大家有很好的方法可以教我！我好学习学习</p>
<hr>
<p>emmmmm　大概就是这么多吧～</p>
<p>如果实在需要这个的源码可以打开我的github仓库　由于项目还是一个半成品　所以地址就放在最后面了</p>
<p><a href="https://github.com/xiaotiandada/My-music/tree/master/client/src/views/admin/About">vue-lottie源码</a></p>
<p><a href="https://github.com/xiaotiandada/My-music">项目地址</a></p>
<blockquote>
<p>如果大家觉得不错的话　可以点star哦（厚脸皮２３３</p>
</blockquote>
</div><hr class="my-12"/><div class="font-sans"><div class="mb-12"><a target="_blank" href="https://github.com/xiaotiandada/blog/issues/5" class="font-medium border border-gray-700 hover:bg-gray-700 hover:text-gray-100 transition-all text-gray-700 text-sm rounded px-4 py-2">Add comment</a></div></div><div class="my-12"><div class="text-sm">Powered by <a class="underline" target="_blank" href="https://github.com/djyde/sairin">Sairin</a></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"MDU6SXNzdWU3ODg3MDY0MTc=","url":"https://github.com/xiaotiandada/blog/issues/5","title":"vue-lottie动画效果","updatedAt":"2021-01-19T04:56:23Z","createdAt":"2021-01-19T04:56:23Z","body":"2018-06-06 18:45:38\r\n\r\n### vue-lottie动画效果\r\n\r\n[仓库地址](https://github.com/xiaotiandada/Case/tree/master/Anime/sanDemo)\r\n\r\n[模仿demo](https://xiaotiandada.github.io/Case/Anime/sanDemo/app/)\r\n\r\n[blog](https://xiaotiandada.github.io/)\r\n\r\n[掘金](https://juejin.im/post/5aff09ee6fb9a07a9b36365b)\r\n\r\n用lottie的好处有很多(.......此处省略ｎ字) 简单来说就是简单高效的还原设计的动画效果\r\n\r\n然后在个人项目使用vue-lottie　分享一些小小经验吧\r\n\r\n废话不多说～～～ (正经分割线)\r\n\r\n\u003c!-- more --\u003e\r\n\r\n---\r\n\r\n### 分析官方demo\r\n\r\n先来一个简单的尝尝鲜\r\n\r\n[vue-lottie仓库](https://github.com/chenqingspring/vue-lottie)\r\n\r\n[vue-lottie demo](https://chenqingspring.github.io/vue-lottie/)\r\n\r\n打开仓库可以看见很多很棒的效果（nice\r\n\r\n\r\n#### Installation\r\n\r\n```bash\r\nnpm install --save vue-lottie\r\n```\r\n\r\n#### Usage\r\n\r\n``` bash\r\n\u003ctemplate\u003e\r\n    \u003cdiv id=\"app\"\u003e\r\n        \u003clottie :options=\"defaultOptions\" :height=\"400\" :width=\"400\" v-on:animCreated=\"handleAnimation\"/\u003e\r\n        \u003cdiv\u003e\r\n            \u003cp\u003eSpeed: x{{animationSpeed}}\u003c/p\u003e\r\n            \u003cinput type=\"range\" value=\"1\" min=\"0\" max=\"3\" step=\"0.5\"\r\n                   v-on:change=\"onSpeedChange\" v-model=\"animationSpeed\"\u003e\r\n        \u003c/div\u003e\r\n        \u003cbutton v-on:click=\"stop\"\u003estop\u003c/button\u003e\r\n        \u003cbutton v-on:click=\"pause\"\u003epause\u003c/button\u003e\r\n        \u003cbutton v-on:click=\"play\"\u003eplay\u003c/button\u003e\r\n    \u003c/div\u003e\r\n\u003c/template\u003e\r\n\r\n\u003cscript\u003e\r\n  import Lottie from './lottie.vue';\r\n  import * as animationData from './assets/pinjump.json';\r\n\r\n  export default {\r\n    name: 'app',\r\n    components: {\r\n      'lottie': Lottie\r\n    },\r\n    data() {\r\n      return {\r\n        defaultOptions: {animationData: animationData},\r\n        animationSpeed: 1\r\n      }\r\n    },\r\n    methods: {\r\n      handleAnimation: function (anim) {\r\n        this.anim = anim;\r\n      },\r\n\r\n      stop: function () {\r\n        this.anim.stop();\r\n      },\r\n\r\n      play: function () {\r\n        this.anim.play();\r\n      },\r\n\r\n      pause: function () {\r\n        this.anim.pause();\r\n      },\r\n\r\n      onSpeedChange: function () {\r\n        this.anim.setSpeed(this.animationSpeed);\r\n      }\r\n    }\r\n  }\r\n\u003c/script\u003e\r\n```\r\n\r\n这是之前官方给的demo代码　基本上和平时使用没啥不一样(所以只需要复制粘贴就ok了)\r\n\r\n```bash\r\n# json 动画效果AE转json后的文件\r\nimport * as animationData from './assets/pinjump.json';\r\n```\r\n\r\n引入的json需要改！！！\r\n\r\n```bash\r\n# 这里引入了　lottie组件\r\nimport Lottie from './lottie.vue';\r\n```\r\n\r\n```bash\r\n# lottie.vue\r\n\u003ctemplate\u003e\r\n    \u003cdiv :style=\"style\" ref=\"lavContainer\"\u003e\u003c/div\u003e\r\n\u003c/template\u003e\r\n\r\n\u003cscript\u003e\r\n  import lottie from 'lottie-web'\r\nexport default {\r\n    props: {\r\n      options: {\r\n        type: Object,\r\n        required: true\r\n      },\r\n      height: Number,\r\n      width: Number\r\n    },\r\n    data() {\r\n      return {\r\n        style: {\r\n          width: this.width ? `${this.width}px` : '100%',\r\n          height: this.height ? `${this.height}px` : '100%',\r\n          overflow: 'hidden',\r\n          margin: '0 auto'\r\n        }\r\n      }\r\n    },\r\n    mounted() {\r\n      this.anim = lottie.loadAnimation({\r\n        container: this.$refs.lavContainer,\r\n        renderer: 'svg',\r\n        loop: this.options.loop !== false,\r\n        autoplay: this.options.autoplay !== false,\r\n        animationData: this.options.animationData,\r\n        rendererSettings: this.options.rendererSettings\r\n      }\r\n      )\r\n      this.$emit('animCreated', this.anim)\r\n    }\r\n  }\r\n\u003c/script\u003e\r\n```\r\n\r\n然后会发现还是有错误(缺少组件！)　其实很简单啦，打开仓库进入src然后打开lottle组件然后复制过去就ok啦hhh(简单)\r\n\r\n![效果图](vue-lottie动画效果/one.png)\r\n\r\n这是效果图（是不是很简单２３３\r\n\r\n### 使用别的json文件\r\n\r\n官方给给了一个很好的效果网站　[地址](https://www.lottiefiles.com/)\r\n\r\n下载json文件　然后更换引入的json\r\n\r\n```bash\r\n# json 动画效果AE转json后的文件\r\nimport * as animationData from './assets/blood_transfusion_kawaii.json.json';\r\n\r\n```\r\n\r\n![效果图](vue-lottie动画效果/two.png)\r\n\r\n是不是也很简单！！！\r\n\r\n\r\n### 使用vue-lottie模仿san官网的动画效果\r\n\r\n先来效果图～～～\r\n\r\n![效果图](vue-lottie动画效果/three.png)\r\n\r\n因为有多个需要用到lottie动画，想了半天不知道怎么解决调用方法的问题　最后想了一个简单的方法\r\n\r\n直接将每一个动画抽到一个组件　组件内依然用之前的方法（稍微改造一下就行\r\n\r\n然后利用父子组件传数据的形式传递json文件　子组件props接收\r\n\r\n```bash\r\n# html\r\n\u003ctemplate\u003e\r\n  \u003cdiv class=\"card-panel\" @mouseenter=\"lottiePlay\" @mouseleave=\"lottieStop\"\u003e\r\n    \u003cdiv class=\"card-panel-icon-wrapper icon-shoppingCard\"\u003e\r\n      \u003clottie :options=\"defaultOptions\" :height=\"80\" :width=\"80\" v-on:animCreated=\"handleAnimation\" /\u003e\r\n    \u003c/div\u003e\r\n    \u003cdiv class=\"card-panel-description\"\u003e\r\n      \u003cdiv class=\"card-panel-text\"\u003e今日活跃\u003c/div\u003e\r\n      \u003cdiv class=\"card-panel-num\"\u003e2600\u003c/div\u003e\r\n    \u003c/div\u003e\r\n  \u003c/div\u003e\r\n\u003c/template\u003e\r\n```\r\n\r\n```bash\r\n# props\r\nprops: {\r\n    animationDataPath: {\r\n      type: Object,\r\n      default: null\r\n    }\r\n  },\r\n  data() {\r\n  return {\r\n    defaultOptions: {\r\n      // animationData: animationDataPath,\r\n      animationData: this.animationDataPath,\r\n      autoplay: false,  # 不自动播放\r\n      loop: false　　　　　# 不循环\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n```bash\r\n# 事件调用\r\n@mouseenter=\"lottiePlay\" @mouseleave=\"lottieStop\"\r\n\r\nlottiePlay: function() {\r\n  this.anim.play()\r\n},\r\nlottieStop: function() {\r\n  this.anim.stop()\r\n}\r\n```\r\n\r\n然后就到了父组件传数据\r\n\r\n```bash\r\n# 父组件\r\n\u003cpanel-lottie :animationDataPath=\"animationDataPathOne\"\u003e\u003c/panel-lottie\u003e\r\n\r\nanimationDataPathOne: require('../../../public/json/compass.json')\r\n```\r\n\r\n自己用到了require引入json　然后打包出来　一样可以正常运行　如果大家有很好的方法可以教我！我好学习学习\r\n\r\n---\r\n\r\nemmmmm　大概就是这么多吧～\r\n\r\n如果实在需要这个的源码可以打开我的github仓库　由于项目还是一个半成品　所以地址就放在最后面了\r\n\r\n[vue-lottie源码](https://github.com/xiaotiandada/My-music/tree/master/client/src/views/admin/About)\r\n\r\n[项目地址](https://github.com/xiaotiandada/My-music)\r\n\r\n\u003e 如果大家觉得不错的话　可以点star哦（厚脸皮２３３","comments":{"nodes":[]},"reactionGroups":[{"content":"THUMBS_UP","reactors":{"totalCount":0}},{"content":"THUMBS_DOWN","reactors":{"totalCount":0}},{"content":"LAUGH","reactors":{"totalCount":0}},{"content":"HOORAY","reactors":{"totalCount":0}},{"content":"CONFUSED","reactors":{"totalCount":0}},{"content":"HEART","reactors":{"totalCount":0}},{"content":"ROCKET","reactors":{"totalCount":0}},{"content":"EYES","reactors":{"totalCount":0}}],"author":{"login":"xiaotiandada","url":"https://github.com/xiaotiandada","avatarUrl":"https://avatars.githubusercontent.com/u/24250627?u=51a93e07957381123eb9fbdd6407de36033b578d\u0026v=4"},"html":"\u003cp\u003e2018-06-06 18:45:38\u003c/p\u003e\n\u003ch3 id=\"vue-lottie动画效果\"\u003evue-lottie动画效果\u003c/h3\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/xiaotiandada/Case/tree/master/Anime/sanDemo\"\u003e仓库地址\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://xiaotiandada.github.io/Case/Anime/sanDemo/app/\"\u003e模仿demo\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://xiaotiandada.github.io/\"\u003eblog\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://juejin.im/post/5aff09ee6fb9a07a9b36365b\"\u003e掘金\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e用lottie的好处有很多(.......此处省略ｎ字) 简单来说就是简单高效的还原设计的动画效果\u003c/p\u003e\n\u003cp\u003e然后在个人项目使用vue-lottie　分享一些小小经验吧\u003c/p\u003e\n\u003cp\u003e废话不多说～～～ (正经分割线)\u003c/p\u003e\n\u003c!-- more --\u003e\n\n\u003chr\u003e\n\u003ch3 id=\"分析官方demo\"\u003e分析官方demo\u003c/h3\u003e\n\u003cp\u003e先来一个简单的尝尝鲜\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/chenqingspring/vue-lottie\"\u003evue-lottie仓库\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://chenqingspring.github.io/vue-lottie/\"\u003evue-lottie demo\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e打开仓库可以看见很多很棒的效果（nice\u003c/p\u003e\n\u003ch4 id=\"installation\"\u003eInstallation\u003c/h4\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003enpm install --save vue-lottie\u003c/code\u003e\u003c/pre\u003e\u003ch4 id=\"usage\"\u003eUsage\u003c/h4\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e\u003ctemplate\u003e\n    \u003cdiv id=\"app\"\u003e\n        \u003clottie :options=\"defaultOptions\" :height=\"400\" :width=\"400\" v-on:animCreated=\"handleAnimation\"/\u003e\n        \u003cdiv\u003e\n            \u003cp\u003eSpeed: x{{animationSpeed}}\u003c/p\u003e\n            \u003cinput type=\"range\" value=\"1\" min=\"0\" max=\"3\" step=\"0.5\"\n                   v-on:change=\"onSpeedChange\" v-model=\"animationSpeed\"\u003e\n        \u003c/div\u003e\n        \u003cbutton v-on:click=\"stop\"\u003estop\u003c/button\u003e\n        \u003cbutton v-on:click=\"pause\"\u003epause\u003c/button\u003e\n        \u003cbutton v-on:click=\"play\"\u003eplay\u003c/button\u003e\n    \u003c/div\u003e\n\u003c/template\u003e\n\n\u003cscript\u003e\n  import Lottie from './lottie.vue';\n  import * as animationData from './assets/pinjump.json';\n\n  export default {\n    name: 'app',\n    components: {\n      'lottie': Lottie\n    },\n    data() {\n      return {\n        defaultOptions: {animationData: animationData},\n        animationSpeed: 1\n      }\n    },\n    methods: {\n      handleAnimation: function (anim) {\n        this.anim = anim;\n      },\n\n      stop: function () {\n        this.anim.stop();\n      },\n\n      play: function () {\n        this.anim.play();\n      },\n\n      pause: function () {\n        this.anim.pause();\n      },\n\n      onSpeedChange: function () {\n        this.anim.setSpeed(this.animationSpeed);\n      }\n    }\n  }\n\u003c/script\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e这是之前官方给的demo代码　基本上和平时使用没啥不一样(所以只需要复制粘贴就ok了)\u003c/p\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e# json 动画效果AE转json后的文件\nimport * as animationData from './assets/pinjump.json';\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e引入的json需要改！！！\u003c/p\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e# 这里引入了　lottie组件\nimport Lottie from './lottie.vue';\u003c/code\u003e\u003c/pre\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e# lottie.vue\n\u003ctemplate\u003e\n    \u003cdiv :style=\"style\" ref=\"lavContainer\"\u003e\u003c/div\u003e\n\u003c/template\u003e\n\n\u003cscript\u003e\n  import lottie from 'lottie-web'\nexport default {\n    props: {\n      options: {\n        type: Object,\n        required: true\n      },\n      height: Number,\n      width: Number\n    },\n    data() {\n      return {\n        style: {\n          width: this.width ? `${this.width}px` : '100%',\n          height: this.height ? `${this.height}px` : '100%',\n          overflow: 'hidden',\n          margin: '0 auto'\n        }\n      }\n    },\n    mounted() {\n      this.anim = lottie.loadAnimation({\n        container: this.$refs.lavContainer,\n        renderer: 'svg',\n        loop: this.options.loop !== false,\n        autoplay: this.options.autoplay !== false,\n        animationData: this.options.animationData,\n        rendererSettings: this.options.rendererSettings\n      }\n      )\n      this.$emit('animCreated', this.anim)\n    }\n  }\n\u003c/script\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e然后会发现还是有错误(缺少组件！)　其实很简单啦，打开仓库进入src然后打开lottle组件然后复制过去就ok啦hhh(简单)\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"vue-lottie%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/one.png\" alt=\"效果图\"\u003e\u003c/p\u003e\n\u003cp\u003e这是效果图（是不是很简单２３３\u003c/p\u003e\n\u003ch3 id=\"使用别的json文件\"\u003e使用别的json文件\u003c/h3\u003e\n\u003cp\u003e官方给给了一个很好的效果网站　\u003ca href=\"https://www.lottiefiles.com/\"\u003e地址\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e下载json文件　然后更换引入的json\u003c/p\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e# json 动画效果AE转json后的文件\nimport * as animationData from './assets/blood_transfusion_kawaii.json.json';\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cimg src=\"vue-lottie%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/two.png\" alt=\"效果图\"\u003e\u003c/p\u003e\n\u003cp\u003e是不是也很简单！！！\u003c/p\u003e\n\u003ch3 id=\"使用vue-lottie模仿san官网的动画效果\"\u003e使用vue-lottie模仿san官网的动画效果\u003c/h3\u003e\n\u003cp\u003e先来效果图～～～\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"vue-lottie%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/three.png\" alt=\"效果图\"\u003e\u003c/p\u003e\n\u003cp\u003e因为有多个需要用到lottie动画，想了半天不知道怎么解决调用方法的问题　最后想了一个简单的方法\u003c/p\u003e\n\u003cp\u003e直接将每一个动画抽到一个组件　组件内依然用之前的方法（稍微改造一下就行\u003c/p\u003e\n\u003cp\u003e然后利用父子组件传数据的形式传递json文件　子组件props接收\u003c/p\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e# html\n\u003ctemplate\u003e\n  \u003cdiv class=\"card-panel\" @mouseenter=\"lottiePlay\" @mouseleave=\"lottieStop\"\u003e\n    \u003cdiv class=\"card-panel-icon-wrapper icon-shoppingCard\"\u003e\n      \u003clottie :options=\"defaultOptions\" :height=\"80\" :width=\"80\" v-on:animCreated=\"handleAnimation\" /\u003e\n    \u003c/div\u003e\n    \u003cdiv class=\"card-panel-description\"\u003e\n      \u003cdiv class=\"card-panel-text\"\u003e今日活跃\u003c/div\u003e\n      \u003cdiv class=\"card-panel-num\"\u003e2600\u003c/div\u003e\n    \u003c/div\u003e\n  \u003c/div\u003e\n\u003c/template\u003e\u003c/code\u003e\u003c/pre\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e# props\nprops: {\n    animationDataPath: {\n      type: Object,\n      default: null\n    }\n  },\n  data() {\n  return {\n    defaultOptions: {\n      // animationData: animationDataPath,\n      animationData: this.animationDataPath,\n      autoplay: false,  # 不自动播放\n      loop: false　　　　　# 不循环\n    }\n  }\n}\u003c/code\u003e\u003c/pre\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e# 事件调用\n@mouseenter=\"lottiePlay\" @mouseleave=\"lottieStop\"\n\nlottiePlay: function() {\n  this.anim.play()\n},\nlottieStop: function() {\n  this.anim.stop()\n}\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e然后就到了父组件传数据\u003c/p\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e# 父组件\n\u003cpanel-lottie :animationDataPath=\"animationDataPathOne\"\u003e\u003c/panel-lottie\u003e\n\nanimationDataPathOne: require('../../../public/json/compass.json')\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e自己用到了require引入json　然后打包出来　一样可以正常运行　如果大家有很好的方法可以教我！我好学习学习\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eemmmmm　大概就是这么多吧～\u003c/p\u003e\n\u003cp\u003e如果实在需要这个的源码可以打开我的github仓库　由于项目还是一个半成品　所以地址就放在最后面了\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/xiaotiandada/My-music/tree/master/client/src/views/admin/About\"\u003evue-lottie源码\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/xiaotiandada/My-music\"\u003e项目地址\u003c/a\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e如果大家觉得不错的话　可以点star哦（厚脸皮２３３\u003c/p\u003e\n\u003c/blockquote\u003e\n","attributes":{}},"themeConfig":{"title":"Blog(issues)","links":[{"title":"GitHub","url":"https://github.com/xiaotiandada/blog"},{"title":"Twitter","url":"https://twitter.com/XiaoTianIsMe"}]}},"__N_SSG":true},"page":"/[...path]","query":{"path":["MDU6SXNzdWU3ODg3MDY0MTc="]},"buildId":"YPEk3V-eoVeml18YoUSCM","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>