<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title> dfs æ·±åº¦ä¼˜å…ˆæœç´¢ã€jsã€‘ - Blog(issues)</title><meta property="og:type" content="artical"/><meta property="og:title" content=" dfs æ·±åº¦ä¼˜å…ˆæœç´¢ã€jsã€‘"/><meta property="og:image" content="
        https://og-image.vercel.app/ dfs æ·±åº¦ä¼˜å…ˆæœç´¢ã€jsã€‘.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fvercel-triangle-black.svg
      "/><meta property="article:published_time" content="2021-01-19T06:23:14Z"/><meta property="article:author" content="xiaotiandada"/><meta name="twitter:card" content=" dfs æ·±åº¦ä¼˜å…ˆæœç´¢ã€jsã€‘"/><meta name="twitter:title" content=" dfs æ·±åº¦ä¼˜å…ˆæœç´¢ã€jsã€‘"/><meta name="twitter:image" content="
        https://og-image.vercel.app/ dfs æ·±åº¦ä¼˜å…ˆæœç´¢ã€jsã€‘.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fvercel-triangle-black.svg
      "/><meta name="next-head-count" content="4"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""/><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&amp;display=swap" rel="stylesheet"/><link rel="preload" href="/_next/static/css/b78bfc7021c6877d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b78bfc7021c6877d.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-2190439a97dca295.js" defer=""></script><script src="/_next/static/chunks/pages/_app-2aac380799256b7f.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...path%5D-e0b96643230aac68.js" defer=""></script><script src="/_next/static/YPEk3V-eoVeml18YoUSCM/_buildManifest.js" defer=""></script><script src="/_next/static/YPEk3V-eoVeml18YoUSCM/_ssgManifest.js" defer=""></script><script src="/_next/static/YPEk3V-eoVeml18YoUSCM/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div><div class="container mx-auto mt-24 max-w-2xl px-4 sm:px-0"><div><div class="flex my-8 font-bold"><a href="/">Blog(issues)</a></div></div><div class="mb-8"><div class="text-3xl font-medium"> dfs æ·±åº¦ä¼˜å…ˆæœç´¢ã€jsã€‘</div><div class="flex mt-4 items-center gap-2"><img class="w-8 h-8 rounded-full" src="https://avatars.githubusercontent.com/u/24250627?u=51a93e07957381123eb9fbdd6407de36033b578d&amp;v=4"/><a target="_blank" href="https://github.com/xiaotiandada">xiaotiandada</a><a class="underline text-sm" target="_blank" href="https://github.com/xiaotiandada/blog/issues/28">View on GitHub</a></div><div class="my-8"><div class="flex gap-4 flex-wrap"></div></div></div><div class="post-body"><p>2019-08-19 12:32:52</p>
<h1 id="èµ„æ–™">èµ„æ–™</h1>
<p>é¢˜ç›®: <a href="https://www.spoj.com/problems/PT07Z/">https://www.spoj.com/problems/PT07Z/</a></p>
<p><a href="https://zh.wikipedia.org/wiki/%E6%A0%91_(%E5%9B%BE%E8%AE%BA)">https://zh.wikipedia.org/wiki/%E6%A0%91_(%E5%9B%BE%E8%AE%BA)</a></p>
<p>è°¢è°¢å²›è€å¸ˆçš„æ•™å­¦</p>
<p><a href="http://www.shuizilong.com/house/">å²›å¨˜blog</a></p>
<p><a href="https://github.com/lychees">å²›å¨˜Github</a></p>
<p><a href="https://www.youtube.com/channel/UCkGmTVYI7xNW-ffuh5oV71Q">å²›å¨˜Youtube</a></p>
<p><a href="https://github.com/xiaotiandada/algorithm">code source</a></p>
<h1 id="go">Go</h1>
<p>ä¸‹é¢æ ¹æ®ä¸Šé¢èµ„æ–™çš„wikiå›¾æ¥ç”Ÿæˆçš„ç‚¹å’Œè¾¹ çœ‹ä¸è§å¯èƒ½éœ€è¦ç§‘å­¦ä¸Šç½‘</p>
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/24/Tree_graph.svg/360px-Tree_graph.svg.png">

<p>ç‚¹: 1 2 3 4 5 6</p>
<p>è¾¹: 14 24 34 45 56</p>
<h2 id="è®¾ç½®é¡¶ç‚¹">è®¾ç½®é¡¶ç‚¹</h2>
<p>ä½¿ç”¨ Map <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map</a></p>
<pre class="language-js"><code class="language-js"><span class="token keyword">let</span> vertexLen <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">// é¡¶ç‚¹æ•°</span>
<span class="token keyword">let</span> vertex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é¡¶ç‚¹æ•°æ®é›†åˆ map å¯ä»¥è®¾ç½®é”®å¯¹å€¼ 0 1 2 3 4 5 or 1 2 3 4 5 6 or A B C D E F G ... ...</span></code></pre><h2 id="è®¾ç½®é¡¶ç‚¹å’Œè¾¹">è®¾ç½®é¡¶ç‚¹å’Œè¾¹</h2>
<pre class="language-js"><code class="language-js"><span class="token comment">/**
 * è®¾ç½®é¡¶ç‚¹
 * @param {String || Number} v é¡¶ç‚¹
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">setVertex</span> <span class="token operator">=</span> <span class="token parameter">v</span> <span class="token operator">=></span> vertex<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * è®¾ç½®è¾¹
 * @param {String || Number} v1 ç‚¹
 * @param {String || Number} v2 ç‚¹
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">setVertexEdge</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">v1<span class="token punctuation">,</span> v2</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  vertex<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>v1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>v2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  vertex<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>v2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>v1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// è®¾ç½®ç‚¹</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> vertexLen<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">setVertex</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å®šä¹‰è¾¹</span>
<span class="token keyword">let</span> vertexEdge <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// è®¾ç½®è¾¹</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vertexEdge<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
  <span class="token function">setVertexEdge</span><span class="token punctuation">(</span>vertexEdge<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> vertexEdge<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>å¾—åˆ°çš„é›†åˆ</p>
<pre class="language-js"><code class="language-js">Map <span class="token punctuation">{</span>
  <span class="token number">1</span> <span class="token operator">=></span> <span class="token punctuation">[</span> <span class="token number">4</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token number">2</span> <span class="token operator">=></span> <span class="token punctuation">[</span> <span class="token number">4</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token number">3</span> <span class="token operator">=></span> <span class="token punctuation">[</span> <span class="token number">4</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token number">4</span> <span class="token operator">=></span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token number">5</span> <span class="token operator">=></span> <span class="token punctuation">[</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token number">6</span> <span class="token operator">=></span> <span class="token punctuation">[</span> <span class="token number">5</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span></code></pre><h2 id="dfs">dfs</h2>
<p>vertex ç»“æ„ç›®å‰æ˜¯è¿™æ ·ç‚¹ â¬†ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ â¬†ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ â¬†ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸</p>
<p>è¿™ä¸ªæ–¹æ³•ä¸»è¦é€šè¿‡å­˜æ”¾ä¸€ä¸ªmapä¿å­˜è®¿é—®çŠ¶æ€</p>
<p>å‚è€ƒåœ°å€ <a href="https://www.geeksforgeeks.org/implementation-graph-javascript/">https://www.geeksforgeeks.org/implementation-graph-javascript/</a></p>
<pre class="language-js"><code class="language-js"><span class="token comment">/**
 * dfs
 * @param {String || Number} startNode å¼€å§‹ç‚¹
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">dfs</span> <span class="token operator">=</span> <span class="token parameter">startNode</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> visited <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¿æŒå’Œé¡¶ç‚¹ç»“æ„ä¸€æ ·</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> vertexLen<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> visited<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®è®¿é—®çŠ¶æ€</span>

  <span class="token comment">// dfs æ–¹æ³•</span>
  <span class="token keyword">const</span> <span class="token function-variable function">dfsFunc</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">startNode<span class="token punctuation">,</span> visited</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// é•¿åº¦</span>
    visited<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>startNode<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç¬¬ä¸€ä¸ªç‚¹è®¾ç½®å·²è®¿é—®</span>
    <span class="token keyword">let</span> get_next <span class="token operator">=</span> vertex<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>startNode<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å¾—é¡¶ç‚¹çš„æ‰€æœ‰ä¸´æ¥ç‚¹</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> get_next<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// å¾ªç¯ä¸´æ¥ç‚¹</span>
      <span class="token keyword">let</span> get_elem <span class="token operator">=</span> get_next<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// å¾—åˆ°å…ƒç´ </span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>get_elem<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ˜¯å¦è®¿é—®</span>
        z <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>z<span class="token punctuation">,</span> <span class="token function">dfsFunc</span><span class="token punctuation">(</span>get_elem<span class="token punctuation">,</span> visited<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¢åŠ è¾¹æ•°</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> z<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">dfsFunc</span><span class="token punctuation">(</span>startNode<span class="token punctuation">,</span> visited<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="dfs-1">dfs</h2>
<p>ä¸‹é¢è¿™ä¸ªæ˜¯å²›è€å¸ˆğŸ‘¨â€ğŸ«æ•™æˆ‘æ–¹æ³•</p>
<p>ä¸»è¦é€šè¿‡å­˜çˆ¶èŠ‚ç‚¹æ¥åˆ¤æ–­</p>
<pre class="language-js"><code class="language-js"><span class="token comment">/**
 * dfs
 * @param {String || Number} startNode å¼€å§‹ç‚¹
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">dfs1</span> <span class="token operator">=</span> <span class="token parameter">startNode</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// è®°å½•å¼€å§‹ç‚¹å’Œçˆ¶çº§èŠ‚ç‚¹</span>
  <span class="token keyword">const</span> <span class="token function-variable function">dfsFunc</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">startNode<span class="token punctuation">,</span> parentNode <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// è®°å½•é•¿åº¦</span>
    <span class="token keyword">let</span> get_next <span class="token operator">=</span> vertex<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>startNode<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¾—åˆ°ç›¸é‚»èŠ‚ç‚¹</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> get_next<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// å¾ªç¯ç‚¹</span>
      <span class="token keyword">let</span> get_elem <span class="token operator">=</span> get_next<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// å¾—åˆ°ç‚¹</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>get_elem <span class="token operator">===</span> parentNode<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token comment">// å¦‚æœæ˜¯çˆ¶èŠ‚ç‚¹ è·³è¿‡</span>
      z <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>z<span class="token punctuation">,</span> <span class="token function">dfsFunc</span><span class="token punctuation">(</span>get_elem<span class="token punctuation">,</span> startNode<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é€’å½’æ·»åŠ é•¿åº¦</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> z<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">dfsFunc</span><span class="token punctuation">(</span>startNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><details>
<summary>æŸ¥çœ‹æ‰€æœ‰ä»£ç </summary>


<pre class="language-js"><code class="language-js"><span class="token keyword">let</span> vertexLen <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">// é¡¶ç‚¹æ•°</span>
<span class="token keyword">let</span> vertex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é¡¶ç‚¹æ•°æ®é›†åˆ map å¯ä»¥è®¾ç½®é”®å¯¹å€¼ 0 1 2 3 4 5 or 1 2 3 4 5 6 or A B C D E F G ... ...</span>

<span class="token comment">/**
 * è®¾ç½®é¡¶ç‚¹
 * @param {String || Number} v é¡¶ç‚¹
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">setVertex</span> <span class="token operator">=</span> <span class="token parameter">v</span> <span class="token operator">=></span> vertex<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * è®¾ç½®è¾¹
 * @param {String || Number} v1 ç‚¹
 * @param {String || Number} v2 ç‚¹
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">setVertexEdge</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">v1<span class="token punctuation">,</span> v2</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  vertex<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>v1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>v2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  vertex<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>v2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>v1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// è®¾ç½®ç‚¹</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> vertexLen<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">setVertex</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å®šä¹‰è¾¹</span>
<span class="token keyword">let</span> vertexEdge <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// è®¾ç½®è¾¹</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vertexEdge<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
  <span class="token function">setVertexEdge</span><span class="token punctuation">(</span>vertexEdge<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> vertexEdge<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * dfs
 * @param {String || Number} startNode å¼€å§‹ç‚¹
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">dfs</span> <span class="token operator">=</span> <span class="token parameter">startNode</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> visited <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¿æŒå’Œé¡¶ç‚¹ç»“æ„ä¸€æ ·</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> vertexLen<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> visited<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®è®¿é—®çŠ¶æ€</span>

  <span class="token comment">// dfs æ–¹æ³•</span>
  <span class="token keyword">const</span> <span class="token function-variable function">dfsFunc</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">startNode<span class="token punctuation">,</span> visited</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// é•¿åº¦</span>
    visited<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>startNode<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç¬¬ä¸€ä¸ªç‚¹è®¾ç½®å·²è®¿é—®</span>
    <span class="token keyword">let</span> get_next <span class="token operator">=</span> vertex<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>startNode<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å¾—é¡¶ç‚¹çš„æ‰€æœ‰ä¸´æ¥ç‚¹</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> get_next<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// å¾ªç¯ä¸´æ¥ç‚¹</span>
      <span class="token keyword">let</span> get_elem <span class="token operator">=</span> get_next<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// å¾—åˆ°å…ƒç´ </span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>get_elem<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ˜¯å¦è®¿é—®</span>
        z <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>z<span class="token punctuation">,</span> <span class="token function">dfsFunc</span><span class="token punctuation">(</span>get_elem<span class="token punctuation">,</span> visited<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¢åŠ è¾¹æ•°</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> z<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">dfsFunc</span><span class="token punctuation">(</span>startNode<span class="token punctuation">,</span> visited<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * dfs
 * @param {String || Number} startNode å¼€å§‹ç‚¹
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">dfs1</span> <span class="token operator">=</span> <span class="token parameter">startNode</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// è®°å½•å¼€å§‹ç‚¹å’Œçˆ¶çº§èŠ‚ç‚¹</span>
  <span class="token keyword">const</span> <span class="token function-variable function">dfsFunc</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">startNode<span class="token punctuation">,</span> parentNode <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// è®°å½•é•¿åº¦</span>
    <span class="token keyword">let</span> get_next <span class="token operator">=</span> vertex<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>startNode<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¾—åˆ°ç›¸é‚»èŠ‚ç‚¹</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> get_next<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// å¾ªç¯ç‚¹</span>
      <span class="token keyword">let</span> get_elem <span class="token operator">=</span> get_next<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// å¾—åˆ°ç‚¹</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>get_elem <span class="token operator">===</span> parentNode<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token comment">// å¦‚æœæ˜¯çˆ¶èŠ‚ç‚¹ è·³è¿‡</span>
      z <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>z<span class="token punctuation">,</span> <span class="token function">dfsFunc</span><span class="token punctuation">(</span>get_elem<span class="token punctuation">,</span> startNode<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é€’å½’æ·»åŠ é•¿åº¦</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> z<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">dfsFunc</span><span class="token punctuation">(</span>startNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> z1 <span class="token operator">=</span> <span class="token function">dfs1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>z1<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>vertex<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></details>

<hr>
<p>--- åˆ†å‰²çº¿ ---</p>
<p>å¾ˆé—æ†¾ä¸Šé¢çš„æ˜¯æœ‰é—®é¢˜çš„</p>
<p><a href="http://www.shuizilong.com/house/archives/pt07z/">å²›è€å¸ˆçš„ä½œä¸šæ‰¹æ”¹</a></p>
<ul>
<li><p>æ•°æ®æ²¡æœ‰ä» IO è¯»å…¥è¯»å‡ºã€‚</p>
</li>
<li><p>ç¬¬ä¸€ä¸ª dfs æ±‚å‡ºçš„ä¸æ˜¯æœ€è¿œçš„ç«¯ç‚¹ã€‚</p>
</li>
</ul>
<p>æ­£ç¡®çš„è§£æ³•åº”è¯¥æ˜¯å…ˆæ±‚æœ€æ·±çš„ä¸€ä¸ªç«¯ç‚¹,ç„¶åç”¨ä»è¿™ä¸ªç«¯ç‚¹å†æœç´¢ä¸€æ¬¡.</p>
<blockquote>
<p>Â Â å› ä¸º js åœ¨ <a href="https://www.spoj.com">https://www.spoj.com</a> è·‘ä¸è¿‡, åœ¨<a href="http://codeforces.com">http://codeforces.com</a> å¯ä»¥è·‘ä½†æ˜¯æ²¡æ‰¾åˆ°é¢˜ç›®,ç„¶åå°±é€‰ç”¨äº†c++ </p>
</blockquote>
<p>åœ¨codeforces jsè¾“å…¥è¾“å‡º</p>
<p><a href="http://codeforces.com/blog/entry/10594">http://codeforces.com/blog/entry/10594</a></p>
<p><a href="http://codeforces.com/blog/entry/64707">http://codeforces.com/blog/entry/64707</a></p>
<hr>
<pre class="language-c++"><code class="language-c++">// u å¼€å§‹ç‚¹ p çˆ¶èŠ‚ç‚¹
pair<int, int> dfs(int u, int p = -1) {
  // z first é•¿åº¦ z second æœ€æ·±ç‚¹
  // first += 1 second ä¸º u
  pair<int, int> z = {0, u};
  // for edge u çš„ è¾¹
  for(auto v: edge[u]) {
    // å¦‚æœæ˜¯çˆ¶çº§ç‚¹ è·³è¿‡
    if (v == p) continue;
    z = max(z, dfs(v, u));
  }
  // è¾¹+1
  z.first += 1;
  return z;
}</code></pre><details>
<summary>æŸ¥çœ‹æ‰€æœ‰ä»£ç </summary>


<pre class="language-c++"><code class="language-c++">#include <iostream>
#include <vector>
using namespace std;

const int N = 1e6;
vector<int> edge[N];

// u å¼€å§‹ç‚¹ p çˆ¶èŠ‚ç‚¹
pair<int, int> dfs(int u, int p = -1) {
  // z first é•¿åº¦ z second æœ€æ·±ç‚¹
  // first += 1 second ä¸º u
  pair<int, int> z = {0, u};
  // for edge u çš„ è¾¹
  for(auto v: edge[u]) {
    // å¦‚æœæ˜¯çˆ¶çº§ç‚¹ è·³è¿‡
    if (v == p) continue;
    z = max(z, dfs(v, u));
  }
  // è¾¹+1
  z.first += 1;
  return z;
}


int main() {
  int n;
  // è¾“å…¥
  cin >> n;
  
  // è¾“å…¥ç«¯ç‚¹å¾ªç¯ä¸‹é¢çš„è¾¹
  for(int i = 0; i < n - 1; i++) {
    int v, u;
    cin >> v >> u;
    edge[v].push_back(u);
    edge[u].push_back(v);
  }
  
  // å¾—åˆ°æœ€æ·±çš„ç«¯ç‚¹
  pair<int, int> z = dfs(1);
  // ä»æœ€æ·±çš„ç«¯ç‚¹æœç´¢
  z = dfs(z.second);

  // è¾¹-1
  cout << z.first-1 << endl;
}
</code></pre></details>


<p>å¸Œæœ›çœ‹åˆ°çš„å¤§ä½¬å¯ä»¥å¤šå¤šæŒ‡ç‚¹è¿·æ´¥!!! å³è¾¹æœ‰æˆ‘çš„è”ç³»æ–¹å¼ğŸ’—ğŸ’—</p>
</div><hr class="my-12"/><div class="font-sans"><div class="mb-12"><a target="_blank" href="https://github.com/xiaotiandada/blog/issues/28" class="font-medium border border-gray-700 hover:bg-gray-700 hover:text-gray-100 transition-all text-gray-700 text-sm rounded px-4 py-2">Add comment</a></div></div><div class="my-12"><div class="text-sm">Powered by <a class="underline" target="_blank" href="https://github.com/djyde/sairin">Sairin</a></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"MDU6SXNzdWU3ODg3NDMzNzQ=","url":"https://github.com/xiaotiandada/blog/issues/28","title":" dfs æ·±åº¦ä¼˜å…ˆæœç´¢ã€jsã€‘","updatedAt":"2021-01-19T06:23:14Z","createdAt":"2021-01-19T06:23:14Z","body":"2019-08-19 12:32:52\r\n\r\n# èµ„æ–™\r\n\r\né¢˜ç›®: https://www.spoj.com/problems/PT07Z/\r\n\r\n\r\nhttps://zh.wikipedia.org/wiki/%E6%A0%91_(%E5%9B%BE%E8%AE%BA)\r\n\r\nè°¢è°¢å²›è€å¸ˆçš„æ•™å­¦\r\n\r\n[å²›å¨˜blog](http://www.shuizilong.com/house/)\r\n\r\n[å²›å¨˜Github](https://github.com/lychees)\r\n\r\n[å²›å¨˜Youtube](https://www.youtube.com/channel/UCkGmTVYI7xNW-ffuh5oV71Q)\r\n\r\n[code source](https://github.com/xiaotiandada/algorithm)\r\n\r\n\r\n# Go\r\n\r\nä¸‹é¢æ ¹æ®ä¸Šé¢èµ„æ–™çš„wikiå›¾æ¥ç”Ÿæˆçš„ç‚¹å’Œè¾¹ çœ‹ä¸è§å¯èƒ½éœ€è¦ç§‘å­¦ä¸Šç½‘\r\n\r\n\u003cimg src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/2/24/Tree_graph.svg/360px-Tree_graph.svg.png\"\u003e\r\n\r\nç‚¹: 1 2 3 4 5 6\r\n\r\nè¾¹: 14 24 34 45 56\r\n\r\n## è®¾ç½®é¡¶ç‚¹\r\n\r\nä½¿ç”¨ Map https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map\r\n\r\n```js\r\nlet vertexLen = 6; // é¡¶ç‚¹æ•°\r\nlet vertex = new Map(); // é¡¶ç‚¹æ•°æ®é›†åˆ map å¯ä»¥è®¾ç½®é”®å¯¹å€¼ 0 1 2 3 4 5 or 1 2 3 4 5 6 or A B C D E F G ... ...\r\n```\r\n\r\n## è®¾ç½®é¡¶ç‚¹å’Œè¾¹\r\n\r\n```js\r\n/**\r\n * è®¾ç½®é¡¶ç‚¹\r\n * @param {String || Number} v é¡¶ç‚¹\r\n */\r\nconst setVertex = v =\u003e vertex.set(v, []);\r\n/**\r\n * è®¾ç½®è¾¹\r\n * @param {String || Number} v1 ç‚¹\r\n * @param {String || Number} v2 ç‚¹\r\n */\r\nconst setVertexEdge = (v1, v2) =\u003e {\r\n  vertex.get(v1).push(v2);\r\n  vertex.get(v2).push(v1);\r\n};\r\n\r\n// è®¾ç½®ç‚¹\r\nfor (let i = 1; i \u003c= vertexLen; i++) setVertex(i);\r\n\r\n// å®šä¹‰è¾¹\r\nlet vertexEdge = [[1, 4], [2, 4], [3, 4], [4, 5], [5, 6]];\r\n\r\n// è®¾ç½®è¾¹\r\nfor (let i = 0; i \u003c vertexEdge.length; i++)\r\n  setVertexEdge(vertexEdge[i][0], vertexEdge[i][1]);\r\n\r\n```\r\n\r\nå¾—åˆ°çš„é›†åˆ\r\n\r\n```js\r\nMap {\r\n  1 =\u003e [ 4 ],\r\n  2 =\u003e [ 4 ],\r\n  3 =\u003e [ 4 ],\r\n  4 =\u003e [ 1, 2, 3, 5 ],\r\n  5 =\u003e [ 4, 6 ],\r\n  6 =\u003e [ 5 ] }\r\n```\r\n\r\n## dfs\r\n\r\nvertex ç»“æ„ç›®å‰æ˜¯è¿™æ ·ç‚¹ â¬†ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ â¬†ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ â¬†ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸\r\n\r\n\r\nè¿™ä¸ªæ–¹æ³•ä¸»è¦é€šè¿‡å­˜æ”¾ä¸€ä¸ªmapä¿å­˜è®¿é—®çŠ¶æ€\r\n\r\nå‚è€ƒåœ°å€ https://www.geeksforgeeks.org/implementation-graph-javascript/\r\n\r\n``` js\r\n/**\r\n * dfs\r\n * @param {String || Number} startNode å¼€å§‹ç‚¹\r\n */\r\nconst dfs = startNode =\u003e {\r\n  let visited = new Map(); // ä¿æŒå’Œé¡¶ç‚¹ç»“æ„ä¸€æ ·\r\n  for (let i = 1; i \u003c= vertexLen; i++) visited.set(i, false); // è®¾ç½®è®¿é—®çŠ¶æ€\r\n\r\n  // dfs æ–¹æ³•\r\n  const dfsFunc = (startNode, visited) =\u003e {\r\n    let z = 0; // é•¿åº¦\r\n    visited.set(startNode, true); // ç¬¬ä¸€ä¸ªç‚¹è®¾ç½®å·²è®¿é—®\r\n    let get_next = vertex.get(startNode); // è·å¾—é¡¶ç‚¹çš„æ‰€æœ‰ä¸´æ¥ç‚¹\r\n    for (let i = 0; i \u003c get_next.length; i++) {\r\n      // å¾ªç¯ä¸´æ¥ç‚¹\r\n      let get_elem = get_next[i]; // å¾—åˆ°å…ƒç´ \r\n      if (!visited.get(get_elem)) {\r\n        // æ˜¯å¦è®¿é—®\r\n        z = Math.max(z, dfsFunc(get_elem, visited) + 1); // å¢åŠ è¾¹æ•°\r\n      }\r\n    }\r\n    return z;\r\n  };\r\n  return dfsFunc(startNode, visited);\r\n};\r\n```\r\n\r\n## dfs\r\n\r\nä¸‹é¢è¿™ä¸ªæ˜¯å²›è€å¸ˆğŸ‘¨â€ğŸ«æ•™æˆ‘æ–¹æ³•\r\n\r\nä¸»è¦é€šè¿‡å­˜çˆ¶èŠ‚ç‚¹æ¥åˆ¤æ–­\r\n\r\n``` js\r\n/**\r\n * dfs\r\n * @param {String || Number} startNode å¼€å§‹ç‚¹\r\n */\r\nconst dfs1 = startNode =\u003e {\r\n  // è®°å½•å¼€å§‹ç‚¹å’Œçˆ¶çº§èŠ‚ç‚¹\r\n  const dfsFunc = (startNode, parentNode = -1) =\u003e {\r\n    let z = 0; // è®°å½•é•¿åº¦\r\n    let get_next = vertex.get(startNode); // å¾—åˆ°ç›¸é‚»èŠ‚ç‚¹\r\n    for (let i = 0; i \u003c get_next.length; i++) { // å¾ªç¯ç‚¹\r\n      let get_elem = get_next[i]; // å¾—åˆ°ç‚¹\r\n      if (get_elem === parentNode) continue; // å¦‚æœæ˜¯çˆ¶èŠ‚ç‚¹ è·³è¿‡\r\n      z = Math.max(z, dfsFunc(get_elem, startNode) + 1); // é€’å½’æ·»åŠ é•¿åº¦\r\n    }\r\n    return z;\r\n  };\r\n  return dfsFunc(startNode);\r\n};\r\n\r\n```\r\n\r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eæŸ¥çœ‹æ‰€æœ‰ä»£ç \u003c/summary\u003e\r\n\r\n\r\n``` js\r\nlet vertexLen = 6; // é¡¶ç‚¹æ•°\r\nlet vertex = new Map(); // é¡¶ç‚¹æ•°æ®é›†åˆ map å¯ä»¥è®¾ç½®é”®å¯¹å€¼ 0 1 2 3 4 5 or 1 2 3 4 5 6 or A B C D E F G ... ...\r\n\r\n/**\r\n * è®¾ç½®é¡¶ç‚¹\r\n * @param {String || Number} v é¡¶ç‚¹\r\n */\r\nconst setVertex = v =\u003e vertex.set(v, []);\r\n/**\r\n * è®¾ç½®è¾¹\r\n * @param {String || Number} v1 ç‚¹\r\n * @param {String || Number} v2 ç‚¹\r\n */\r\nconst setVertexEdge = (v1, v2) =\u003e {\r\n  vertex.get(v1).push(v2);\r\n  vertex.get(v2).push(v1);\r\n};\r\n\r\n// è®¾ç½®ç‚¹\r\nfor (let i = 1; i \u003c= vertexLen; i++) setVertex(i);\r\n\r\n// å®šä¹‰è¾¹\r\nlet vertexEdge = [[1, 4], [2, 4], [3, 4], [4, 5], [5, 6]];\r\n\r\n// è®¾ç½®è¾¹\r\nfor (let i = 0; i \u003c vertexEdge.length; i++)\r\n  setVertexEdge(vertexEdge[i][0], vertexEdge[i][1]);\r\n\r\n/**\r\n * dfs\r\n * @param {String || Number} startNode å¼€å§‹ç‚¹\r\n */\r\nconst dfs = startNode =\u003e {\r\n  let visited = new Map(); // ä¿æŒå’Œé¡¶ç‚¹ç»“æ„ä¸€æ ·\r\n  for (let i = 1; i \u003c= vertexLen; i++) visited.set(i, false); // è®¾ç½®è®¿é—®çŠ¶æ€\r\n\r\n  // dfs æ–¹æ³•\r\n  const dfsFunc = (startNode, visited) =\u003e {\r\n    let z = 0; // é•¿åº¦\r\n    visited.set(startNode, true); // ç¬¬ä¸€ä¸ªç‚¹è®¾ç½®å·²è®¿é—®\r\n    let get_next = vertex.get(startNode); // è·å¾—é¡¶ç‚¹çš„æ‰€æœ‰ä¸´æ¥ç‚¹\r\n    for (let i = 0; i \u003c get_next.length; i++) {\r\n      // å¾ªç¯ä¸´æ¥ç‚¹\r\n      let get_elem = get_next[i]; // å¾—åˆ°å…ƒç´ \r\n      if (!visited.get(get_elem)) {\r\n        // æ˜¯å¦è®¿é—®\r\n        z = Math.max(z, dfsFunc(get_elem, visited) + 1); // å¢åŠ è¾¹æ•°\r\n      }\r\n    }\r\n    return z;\r\n  };\r\n  return dfsFunc(startNode, visited);\r\n};\r\n\r\n/**\r\n * dfs\r\n * @param {String || Number} startNode å¼€å§‹ç‚¹\r\n */\r\nconst dfs1 = startNode =\u003e {\r\n  // è®°å½•å¼€å§‹ç‚¹å’Œçˆ¶çº§èŠ‚ç‚¹\r\n  const dfsFunc = (startNode, parentNode = -1) =\u003e {\r\n    let z = 0; // è®°å½•é•¿åº¦\r\n    let get_next = vertex.get(startNode); // å¾—åˆ°ç›¸é‚»èŠ‚ç‚¹\r\n    for (let i = 0; i \u003c get_next.length; i++) { // å¾ªç¯ç‚¹\r\n      let get_elem = get_next[i]; // å¾—åˆ°ç‚¹\r\n      if (get_elem === parentNode) continue; // å¦‚æœæ˜¯çˆ¶èŠ‚ç‚¹ è·³è¿‡\r\n      z = Math.max(z, dfsFunc(get_elem, startNode) + 1); // é€’å½’æ·»åŠ é•¿åº¦\r\n    }\r\n    return z;\r\n  };\r\n  return dfsFunc(startNode);\r\n};\r\n\r\nlet z = dfs(1);\r\nconsole.log(z);\r\n\r\nlet z1 = dfs1(1);\r\nconsole.log(z1);\r\n\r\nconsole.log(vertex);\r\n\r\n```\r\n\r\n\u003c/details\u003e\r\n\r\n------\r\n\r\n\r\n--- åˆ†å‰²çº¿ ---\r\n\r\nå¾ˆé—æ†¾ä¸Šé¢çš„æ˜¯æœ‰é—®é¢˜çš„\r\n\r\n[å²›è€å¸ˆçš„ä½œä¸šæ‰¹æ”¹](http://www.shuizilong.com/house/archives/pt07z/)\r\n\r\n- æ•°æ®æ²¡æœ‰ä» IO è¯»å…¥è¯»å‡ºã€‚\r\n\r\n- ç¬¬ä¸€ä¸ª dfs æ±‚å‡ºçš„ä¸æ˜¯æœ€è¿œçš„ç«¯ç‚¹ã€‚\r\n\r\n\r\næ­£ç¡®çš„è§£æ³•åº”è¯¥æ˜¯å…ˆæ±‚æœ€æ·±çš„ä¸€ä¸ªç«¯ç‚¹,ç„¶åç”¨ä»è¿™ä¸ªç«¯ç‚¹å†æœç´¢ä¸€æ¬¡.\r\n\r\n\u003e Â Â å› ä¸º js åœ¨ https://www.spoj.com è·‘ä¸è¿‡, åœ¨http://codeforces.com å¯ä»¥è·‘ä½†æ˜¯æ²¡æ‰¾åˆ°é¢˜ç›®,ç„¶åå°±é€‰ç”¨äº†c++ \r\n\r\nåœ¨codeforces jsè¾“å…¥è¾“å‡º\r\n\r\nhttp://codeforces.com/blog/entry/10594\r\n\r\nhttp://codeforces.com/blog/entry/64707\r\n\r\n\r\n---\r\n\r\n``` c++\r\n// u å¼€å§‹ç‚¹ p çˆ¶èŠ‚ç‚¹\r\npair\u003cint, int\u003e dfs(int u, int p = -1) {\r\n  // z first é•¿åº¦ z second æœ€æ·±ç‚¹\r\n  // first += 1 second ä¸º u\r\n  pair\u003cint, int\u003e z = {0, u};\r\n  // for edge u çš„ è¾¹\r\n  for(auto v: edge[u]) {\r\n    // å¦‚æœæ˜¯çˆ¶çº§ç‚¹ è·³è¿‡\r\n    if (v == p) continue;\r\n    z = max(z, dfs(v, u));\r\n  }\r\n  // è¾¹+1\r\n  z.first += 1;\r\n  return z;\r\n}\r\n```\r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003eæŸ¥çœ‹æ‰€æœ‰ä»£ç \u003c/summary\u003e\r\n\r\n\r\n``` c++\r\n#include \u003ciostream\u003e\r\n#include \u003cvector\u003e\r\nusing namespace std;\r\n\r\nconst int N = 1e6;\r\nvector\u003cint\u003e edge[N];\r\n\r\n// u å¼€å§‹ç‚¹ p çˆ¶èŠ‚ç‚¹\r\npair\u003cint, int\u003e dfs(int u, int p = -1) {\r\n  // z first é•¿åº¦ z second æœ€æ·±ç‚¹\r\n  // first += 1 second ä¸º u\r\n  pair\u003cint, int\u003e z = {0, u};\r\n  // for edge u çš„ è¾¹\r\n  for(auto v: edge[u]) {\r\n    // å¦‚æœæ˜¯çˆ¶çº§ç‚¹ è·³è¿‡\r\n    if (v == p) continue;\r\n    z = max(z, dfs(v, u));\r\n  }\r\n  // è¾¹+1\r\n  z.first += 1;\r\n  return z;\r\n}\r\n\r\n\r\nint main() {\r\n  int n;\r\n  // è¾“å…¥\r\n  cin \u003e\u003e n;\r\n  \r\n  // è¾“å…¥ç«¯ç‚¹å¾ªç¯ä¸‹é¢çš„è¾¹\r\n  for(int i = 0; i \u003c n - 1; i++) {\r\n    int v, u;\r\n    cin \u003e\u003e v \u003e\u003e u;\r\n    edge[v].push_back(u);\r\n    edge[u].push_back(v);\r\n  }\r\n  \r\n  // å¾—åˆ°æœ€æ·±çš„ç«¯ç‚¹\r\n  pair\u003cint, int\u003e z = dfs(1);\r\n  // ä»æœ€æ·±çš„ç«¯ç‚¹æœç´¢\r\n  z = dfs(z.second);\r\n\r\n  // è¾¹-1\r\n  cout \u003c\u003c z.first-1 \u003c\u003c endl;\r\n}\r\n\r\n```\r\n\r\n\u003c/details\u003e\r\n\r\n\r\nå¸Œæœ›çœ‹åˆ°çš„å¤§ä½¬å¯ä»¥å¤šå¤šæŒ‡ç‚¹è¿·æ´¥!!! å³è¾¹æœ‰æˆ‘çš„è”ç³»æ–¹å¼ğŸ’—ğŸ’—","comments":{"nodes":[]},"reactionGroups":[{"content":"THUMBS_UP","reactors":{"totalCount":0}},{"content":"THUMBS_DOWN","reactors":{"totalCount":0}},{"content":"LAUGH","reactors":{"totalCount":0}},{"content":"HOORAY","reactors":{"totalCount":0}},{"content":"CONFUSED","reactors":{"totalCount":0}},{"content":"HEART","reactors":{"totalCount":0}},{"content":"ROCKET","reactors":{"totalCount":0}},{"content":"EYES","reactors":{"totalCount":0}}],"author":{"login":"xiaotiandada","url":"https://github.com/xiaotiandada","avatarUrl":"https://avatars.githubusercontent.com/u/24250627?u=51a93e07957381123eb9fbdd6407de36033b578d\u0026v=4"},"html":"\u003cp\u003e2019-08-19 12:32:52\u003c/p\u003e\n\u003ch1 id=\"èµ„æ–™\"\u003eèµ„æ–™\u003c/h1\u003e\n\u003cp\u003eé¢˜ç›®: \u003ca href=\"https://www.spoj.com/problems/PT07Z/\"\u003ehttps://www.spoj.com/problems/PT07Z/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://zh.wikipedia.org/wiki/%E6%A0%91_(%E5%9B%BE%E8%AE%BA)\"\u003ehttps://zh.wikipedia.org/wiki/%E6%A0%91_(%E5%9B%BE%E8%AE%BA)\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eè°¢è°¢å²›è€å¸ˆçš„æ•™å­¦\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://www.shuizilong.com/house/\"\u003eå²›å¨˜blog\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/lychees\"\u003eå²›å¨˜Github\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.youtube.com/channel/UCkGmTVYI7xNW-ffuh5oV71Q\"\u003eå²›å¨˜Youtube\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/xiaotiandada/algorithm\"\u003ecode source\u003c/a\u003e\u003c/p\u003e\n\u003ch1 id=\"go\"\u003eGo\u003c/h1\u003e\n\u003cp\u003eä¸‹é¢æ ¹æ®ä¸Šé¢èµ„æ–™çš„wikiå›¾æ¥ç”Ÿæˆçš„ç‚¹å’Œè¾¹ çœ‹ä¸è§å¯èƒ½éœ€è¦ç§‘å­¦ä¸Šç½‘\u003c/p\u003e\n\u003cimg src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/2/24/Tree_graph.svg/360px-Tree_graph.svg.png\"\u003e\n\n\u003cp\u003eç‚¹: 1 2 3 4 5 6\u003c/p\u003e\n\u003cp\u003eè¾¹: 14 24 34 45 56\u003c/p\u003e\n\u003ch2 id=\"è®¾ç½®é¡¶ç‚¹\"\u003eè®¾ç½®é¡¶ç‚¹\u003c/h2\u003e\n\u003cp\u003eä½¿ç”¨ Map \u003ca href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map\"\u003ehttps://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map\u003c/a\u003e\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e vertexLen \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e6\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// é¡¶ç‚¹æ•°\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e vertex \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eMap\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// é¡¶ç‚¹æ•°æ®é›†åˆ map å¯ä»¥è®¾ç½®é”®å¯¹å€¼ 0 1 2 3 4 5 or 1 2 3 4 5 6 or A B C D E F G ... ...\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"è®¾ç½®é¡¶ç‚¹å’Œè¾¹\"\u003eè®¾ç½®é¡¶ç‚¹å’Œè¾¹\u003c/h2\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token comment\"\u003e/**\n * è®¾ç½®é¡¶ç‚¹\n * @param {String || Number} v é¡¶ç‚¹\n */\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003esetVertex\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token parameter\"\u003ev\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e vertex\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eset\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ev\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e/**\n * è®¾ç½®è¾¹\n * @param {String || Number} v1 ç‚¹\n * @param {String || Number} v2 ç‚¹\n */\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003esetVertexEdge\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003ev1\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e v2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  vertex\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eget\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ev1\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003epush\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ev2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  vertex\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eget\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ev2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003epush\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ev1\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e// è®¾ç½®ç‚¹\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e\u0026lt;=\u003c/span\u003e vertexLen\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i\u003cspan class=\"token operator\"\u003e++\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token function\"\u003esetVertex\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e// å®šä¹‰è¾¹\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e vertexEdge \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e4\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e4\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e3\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e4\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e4\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e5\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e5\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e6\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e// è®¾ç½®è¾¹\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e\u0026lt;\u003c/span\u003e vertexEdge\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003elength\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i\u003cspan class=\"token operator\"\u003e++\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token function\"\u003esetVertexEdge\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003evertexEdge\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e vertexEdge\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eå¾—åˆ°çš„é›†åˆ\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003eMap \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token number\"\u003e1\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e \u003cspan class=\"token number\"\u003e4\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token number\"\u003e2\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e \u003cspan class=\"token number\"\u003e4\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token number\"\u003e3\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e \u003cspan class=\"token number\"\u003e4\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token number\"\u003e4\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e3\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e5\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token number\"\u003e5\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e \u003cspan class=\"token number\"\u003e4\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e6\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token number\"\u003e6\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e \u003cspan class=\"token number\"\u003e5\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"dfs\"\u003edfs\u003c/h2\u003e\n\u003cp\u003evertex ç»“æ„ç›®å‰æ˜¯è¿™æ ·ç‚¹ â¬†ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ â¬†ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ â¬†ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸\u003c/p\u003e\n\u003cp\u003eè¿™ä¸ªæ–¹æ³•ä¸»è¦é€šè¿‡å­˜æ”¾ä¸€ä¸ªmapä¿å­˜è®¿é—®çŠ¶æ€\u003c/p\u003e\n\u003cp\u003eå‚è€ƒåœ°å€ \u003ca href=\"https://www.geeksforgeeks.org/implementation-graph-javascript/\"\u003ehttps://www.geeksforgeeks.org/implementation-graph-javascript/\u003c/a\u003e\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token comment\"\u003e/**\n * dfs\n * @param {String || Number} startNode å¼€å§‹ç‚¹\n */\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003edfs\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token parameter\"\u003estartNode\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e visited \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eMap\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// ä¿æŒå’Œé¡¶ç‚¹ç»“æ„ä¸€æ ·\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e\u0026lt;=\u003c/span\u003e vertexLen\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i\u003cspan class=\"token operator\"\u003e++\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e visited\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eset\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// è®¾ç½®è®¿é—®çŠ¶æ€\u003c/span\u003e\n\n  \u003cspan class=\"token comment\"\u003e// dfs æ–¹æ³•\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003edfsFunc\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003estartNode\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e visited\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e z \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// é•¿åº¦\u003c/span\u003e\n    visited\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eset\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003estartNode\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// ç¬¬ä¸€ä¸ªç‚¹è®¾ç½®å·²è®¿é—®\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e get_next \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e vertex\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eget\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003estartNode\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// è·å¾—é¡¶ç‚¹çš„æ‰€æœ‰ä¸´æ¥ç‚¹\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e\u0026lt;\u003c/span\u003e get_next\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003elength\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i\u003cspan class=\"token operator\"\u003e++\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token comment\"\u003e// å¾ªç¯ä¸´æ¥ç‚¹\u003c/span\u003e\n      \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e get_elem \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e get_next\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// å¾—åˆ°å…ƒç´ \u003c/span\u003e\n      \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e!\u003c/span\u003evisited\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eget\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eget_elem\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token comment\"\u003e// æ˜¯å¦è®¿é—®\u003c/span\u003e\n        z \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e Math\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003emax\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ez\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token function\"\u003edfsFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eget_elem\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e visited\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// å¢åŠ è¾¹æ•°\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e z\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token function\"\u003edfsFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003estartNode\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e visited\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"dfs-1\"\u003edfs\u003c/h2\u003e\n\u003cp\u003eä¸‹é¢è¿™ä¸ªæ˜¯å²›è€å¸ˆğŸ‘¨â€ğŸ«æ•™æˆ‘æ–¹æ³•\u003c/p\u003e\n\u003cp\u003eä¸»è¦é€šè¿‡å­˜çˆ¶èŠ‚ç‚¹æ¥åˆ¤æ–­\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token comment\"\u003e/**\n * dfs\n * @param {String || Number} startNode å¼€å§‹ç‚¹\n */\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003edfs1\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token parameter\"\u003estartNode\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// è®°å½•å¼€å§‹ç‚¹å’Œçˆ¶çº§èŠ‚ç‚¹\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003edfsFunc\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003estartNode\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e parentNode \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e z \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// è®°å½•é•¿åº¦\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e get_next \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e vertex\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eget\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003estartNode\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// å¾—åˆ°ç›¸é‚»èŠ‚ç‚¹\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e\u0026lt;\u003c/span\u003e get_next\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003elength\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i\u003cspan class=\"token operator\"\u003e++\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// å¾ªç¯ç‚¹\u003c/span\u003e\n      \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e get_elem \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e get_next\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// å¾—åˆ°ç‚¹\u003c/span\u003e\n      \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eget_elem \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e parentNode\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token keyword\"\u003econtinue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// å¦‚æœæ˜¯çˆ¶èŠ‚ç‚¹ è·³è¿‡\u003c/span\u003e\n      z \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e Math\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003emax\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ez\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token function\"\u003edfsFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eget_elem\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e startNode\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// é€’å½’æ·»åŠ é•¿åº¦\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e z\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token function\"\u003edfsFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003estartNode\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cdetails\u003e\n\u003csummary\u003eæŸ¥çœ‹æ‰€æœ‰ä»£ç \u003c/summary\u003e\n\n\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e vertexLen \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e6\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// é¡¶ç‚¹æ•°\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e vertex \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eMap\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// é¡¶ç‚¹æ•°æ®é›†åˆ map å¯ä»¥è®¾ç½®é”®å¯¹å€¼ 0 1 2 3 4 5 or 1 2 3 4 5 6 or A B C D E F G ... ...\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e/**\n * è®¾ç½®é¡¶ç‚¹\n * @param {String || Number} v é¡¶ç‚¹\n */\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003esetVertex\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token parameter\"\u003ev\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e vertex\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eset\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ev\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e/**\n * è®¾ç½®è¾¹\n * @param {String || Number} v1 ç‚¹\n * @param {String || Number} v2 ç‚¹\n */\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003esetVertexEdge\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003ev1\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e v2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  vertex\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eget\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ev1\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003epush\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ev2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  vertex\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eget\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ev2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003epush\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ev1\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e// è®¾ç½®ç‚¹\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e\u0026lt;=\u003c/span\u003e vertexLen\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i\u003cspan class=\"token operator\"\u003e++\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token function\"\u003esetVertex\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e// å®šä¹‰è¾¹\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e vertexEdge \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e4\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e4\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e3\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e4\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e4\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e5\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e5\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e6\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e// è®¾ç½®è¾¹\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e\u0026lt;\u003c/span\u003e vertexEdge\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003elength\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i\u003cspan class=\"token operator\"\u003e++\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token function\"\u003esetVertexEdge\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003evertexEdge\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e vertexEdge\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e/**\n * dfs\n * @param {String || Number} startNode å¼€å§‹ç‚¹\n */\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003edfs\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token parameter\"\u003estartNode\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e visited \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eMap\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// ä¿æŒå’Œé¡¶ç‚¹ç»“æ„ä¸€æ ·\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e\u0026lt;=\u003c/span\u003e vertexLen\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i\u003cspan class=\"token operator\"\u003e++\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e visited\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eset\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// è®¾ç½®è®¿é—®çŠ¶æ€\u003c/span\u003e\n\n  \u003cspan class=\"token comment\"\u003e// dfs æ–¹æ³•\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003edfsFunc\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003estartNode\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e visited\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e z \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// é•¿åº¦\u003c/span\u003e\n    visited\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eset\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003estartNode\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// ç¬¬ä¸€ä¸ªç‚¹è®¾ç½®å·²è®¿é—®\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e get_next \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e vertex\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eget\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003estartNode\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// è·å¾—é¡¶ç‚¹çš„æ‰€æœ‰ä¸´æ¥ç‚¹\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e\u0026lt;\u003c/span\u003e get_next\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003elength\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i\u003cspan class=\"token operator\"\u003e++\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token comment\"\u003e// å¾ªç¯ä¸´æ¥ç‚¹\u003c/span\u003e\n      \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e get_elem \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e get_next\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// å¾—åˆ°å…ƒç´ \u003c/span\u003e\n      \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e!\u003c/span\u003evisited\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eget\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eget_elem\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token comment\"\u003e// æ˜¯å¦è®¿é—®\u003c/span\u003e\n        z \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e Math\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003emax\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ez\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token function\"\u003edfsFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eget_elem\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e visited\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// å¢åŠ è¾¹æ•°\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e z\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token function\"\u003edfsFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003estartNode\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e visited\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e/**\n * dfs\n * @param {String || Number} startNode å¼€å§‹ç‚¹\n */\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003edfs1\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token parameter\"\u003estartNode\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// è®°å½•å¼€å§‹ç‚¹å’Œçˆ¶çº§èŠ‚ç‚¹\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003edfsFunc\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003estartNode\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e parentNode \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e z \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// è®°å½•é•¿åº¦\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e get_next \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e vertex\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eget\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003estartNode\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// å¾—åˆ°ç›¸é‚»èŠ‚ç‚¹\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e\u0026lt;\u003c/span\u003e get_next\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003elength\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i\u003cspan class=\"token operator\"\u003e++\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// å¾ªç¯ç‚¹\u003c/span\u003e\n      \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e get_elem \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e get_next\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// å¾—åˆ°ç‚¹\u003c/span\u003e\n      \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eget_elem \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e parentNode\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token keyword\"\u003econtinue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// å¦‚æœæ˜¯çˆ¶èŠ‚ç‚¹ è·³è¿‡\u003c/span\u003e\n      z \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e Math\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003emax\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ez\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token function\"\u003edfsFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eget_elem\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e startNode\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// é€’å½’æ·»åŠ é•¿åº¦\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e z\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token function\"\u003edfsFunc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003estartNode\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e z \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003edfs\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\nconsole\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ez\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e z1 \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003edfs1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\nconsole\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ez1\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\nconsole\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003evertex\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/details\u003e\n\n\u003chr\u003e\n\u003cp\u003e--- åˆ†å‰²çº¿ ---\u003c/p\u003e\n\u003cp\u003eå¾ˆé—æ†¾ä¸Šé¢çš„æ˜¯æœ‰é—®é¢˜çš„\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://www.shuizilong.com/house/archives/pt07z/\"\u003eå²›è€å¸ˆçš„ä½œä¸šæ‰¹æ”¹\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003eæ•°æ®æ²¡æœ‰ä» IO è¯»å…¥è¯»å‡ºã€‚\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eç¬¬ä¸€ä¸ª dfs æ±‚å‡ºçš„ä¸æ˜¯æœ€è¿œçš„ç«¯ç‚¹ã€‚\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eæ­£ç¡®çš„è§£æ³•åº”è¯¥æ˜¯å…ˆæ±‚æœ€æ·±çš„ä¸€ä¸ªç«¯ç‚¹,ç„¶åç”¨ä»è¿™ä¸ªç«¯ç‚¹å†æœç´¢ä¸€æ¬¡.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eÂ Â å› ä¸º js åœ¨ \u003ca href=\"https://www.spoj.com\"\u003ehttps://www.spoj.com\u003c/a\u003e è·‘ä¸è¿‡, åœ¨\u003ca href=\"http://codeforces.com\"\u003ehttp://codeforces.com\u003c/a\u003e å¯ä»¥è·‘ä½†æ˜¯æ²¡æ‰¾åˆ°é¢˜ç›®,ç„¶åå°±é€‰ç”¨äº†c++ \u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eåœ¨codeforces jsè¾“å…¥è¾“å‡º\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://codeforces.com/blog/entry/10594\"\u003ehttp://codeforces.com/blog/entry/10594\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"http://codeforces.com/blog/entry/64707\"\u003ehttp://codeforces.com/blog/entry/64707\u003c/a\u003e\u003c/p\u003e\n\u003chr\u003e\n\u003cpre class=\"language-c++\"\u003e\u003ccode class=\"language-c++\"\u003e// u å¼€å§‹ç‚¹ p çˆ¶èŠ‚ç‚¹\npair\u003cint, int\u003e dfs(int u, int p = -1) {\n  // z first é•¿åº¦ z second æœ€æ·±ç‚¹\n  // first += 1 second ä¸º u\n  pair\u003cint, int\u003e z = {0, u};\n  // for edge u çš„ è¾¹\n  for(auto v: edge[u]) {\n    // å¦‚æœæ˜¯çˆ¶çº§ç‚¹ è·³è¿‡\n    if (v == p) continue;\n    z = max(z, dfs(v, u));\n  }\n  // è¾¹+1\n  z.first += 1;\n  return z;\n}\u003c/code\u003e\u003c/pre\u003e\u003cdetails\u003e\n\u003csummary\u003eæŸ¥çœ‹æ‰€æœ‰ä»£ç \u003c/summary\u003e\n\n\n\u003cpre class=\"language-c++\"\u003e\u003ccode class=\"language-c++\"\u003e#include \u003ciostream\u003e\n#include \u003cvector\u003e\nusing namespace std;\n\nconst int N = 1e6;\nvector\u003cint\u003e edge[N];\n\n// u å¼€å§‹ç‚¹ p çˆ¶èŠ‚ç‚¹\npair\u003cint, int\u003e dfs(int u, int p = -1) {\n  // z first é•¿åº¦ z second æœ€æ·±ç‚¹\n  // first += 1 second ä¸º u\n  pair\u003cint, int\u003e z = {0, u};\n  // for edge u çš„ è¾¹\n  for(auto v: edge[u]) {\n    // å¦‚æœæ˜¯çˆ¶çº§ç‚¹ è·³è¿‡\n    if (v == p) continue;\n    z = max(z, dfs(v, u));\n  }\n  // è¾¹+1\n  z.first += 1;\n  return z;\n}\n\n\nint main() {\n  int n;\n  // è¾“å…¥\n  cin \u003e\u003e n;\n  \n  // è¾“å…¥ç«¯ç‚¹å¾ªç¯ä¸‹é¢çš„è¾¹\n  for(int i = 0; i \u003c n - 1; i++) {\n    int v, u;\n    cin \u003e\u003e v \u003e\u003e u;\n    edge[v].push_back(u);\n    edge[u].push_back(v);\n  }\n  \n  // å¾—åˆ°æœ€æ·±çš„ç«¯ç‚¹\n  pair\u003cint, int\u003e z = dfs(1);\n  // ä»æœ€æ·±çš„ç«¯ç‚¹æœç´¢\n  z = dfs(z.second);\n\n  // è¾¹-1\n  cout \u003c\u003c z.first-1 \u003c\u003c endl;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/details\u003e\n\n\n\u003cp\u003eå¸Œæœ›çœ‹åˆ°çš„å¤§ä½¬å¯ä»¥å¤šå¤šæŒ‡ç‚¹è¿·æ´¥!!! å³è¾¹æœ‰æˆ‘çš„è”ç³»æ–¹å¼ğŸ’—ğŸ’—\u003c/p\u003e\n","attributes":{}},"themeConfig":{"title":"Blog(issues)","links":[{"title":"GitHub","url":"https://github.com/xiaotiandada/blog"},{"title":"Twitter","url":"https://twitter.com/XiaoTianIsMe"}]}},"__N_SSG":true},"page":"/[...path]","query":{"path":["MDU6SXNzdWU3ODg3NDMzNzQ="]},"buildId":"YPEk3V-eoVeml18YoUSCM","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>