<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>vueå¾®ä¿¡åˆ†äº« - Blog(issues)</title><meta property="og:type" content="artical"/><meta property="og:title" content="vueå¾®ä¿¡åˆ†äº«"/><meta property="og:image" content="
        https://og-image.vercel.app/vueå¾®ä¿¡åˆ†äº«.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fvercel-triangle-black.svg
      "/><meta property="article:published_time" content="2021-01-19T06:29:54Z"/><meta property="article:author" content="xiaotiandada"/><meta name="twitter:card" content="vueå¾®ä¿¡åˆ†äº«"/><meta name="twitter:title" content="vueå¾®ä¿¡åˆ†äº«"/><meta name="twitter:image" content="
        https://og-image.vercel.app/vueå¾®ä¿¡åˆ†äº«.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fvercel-triangle-black.svg
      "/><meta name="next-head-count" content="4"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""/><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&amp;display=swap" rel="stylesheet"/><link rel="preload" href="/_next/static/css/b78bfc7021c6877d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b78bfc7021c6877d.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-2190439a97dca295.js" defer=""></script><script src="/_next/static/chunks/pages/_app-2aac380799256b7f.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...path%5D-e0b96643230aac68.js" defer=""></script><script src="/_next/static/YPEk3V-eoVeml18YoUSCM/_buildManifest.js" defer=""></script><script src="/_next/static/YPEk3V-eoVeml18YoUSCM/_ssgManifest.js" defer=""></script><script src="/_next/static/YPEk3V-eoVeml18YoUSCM/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div><div class="container mx-auto mt-24 max-w-2xl px-4 sm:px-0"><div><div class="flex my-8 font-bold"><a href="/">Blog(issues)</a></div></div><div class="mb-8"><div class="text-3xl font-medium">vueå¾®ä¿¡åˆ†äº«</div><div class="flex mt-4 items-center gap-2"><img class="w-8 h-8 rounded-full" src="https://avatars.githubusercontent.com/u/24250627?u=51a93e07957381123eb9fbdd6407de36033b578d&amp;v=4"/><a target="_blank" href="https://github.com/xiaotiandada">xiaotiandada</a><a class="underline text-sm" target="_blank" href="https://github.com/xiaotiandada/blog/issues/39">View on GitHub</a></div><div class="my-8"><div class="flex gap-4 flex-wrap"></div></div></div><div class="post-body"><p>2019-11-02 00:30:30</p>
<p><a href="https://xiaotiandada.github.io/2019/10/23/%E6%9C%AC%E5%9C%B0%E8%B0%83%E8%AF%95%E5%BE%AE%E4%BF%A1SDK/">ä¸Šæ–‡ é…ç½®ç¯å¢ƒ</a></p>
<p>è¿™ç¯‡ä¸»è¦æ˜¯åˆ†äº«vueåšå¾®ä¿¡åˆ†äº«</p>
<!-- more -->

<p>å‡è®¾æœ¬åœ°çš„å¼€å‘ç¯å¢ƒå·²ç»å‡†å¤‡å¥½äº†!!! ğŸ‘ å¹¶ä¸”ä½ æœ‰ä¸€ä¸ªå¥½çš„åŒäº‹ä¸ºä½ å†™å¥½äº†æ¥å£ğŸ˜Š</p>
<p>npmçš„åœ°å€</p>
<p><a href="https://www.npmjs.com/package/weixin-js-sdk">sdk</a>
<a href="https://www.npmjs.com/package/axios">axios</a></p>
<pre class="language-bash"><code class="language-bash">npm install weixin-js-sdk #å¾®ä¿¡å®˜æ–¹js-sdk

npm install axios #åŸºäºPromiseçš„HTTPå®¢æˆ·ç«¯ï¼Œç”¨äºæµè§ˆå™¨å’Œnode.js</code></pre><p>æ–°å»ºä¸€ä¸ªjsæ–‡ä»¶(å‡å¦‚ä»–å«wechat_share.js)</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">import</span> wx <span class="token keyword">from</span> <span class="token string">'weixin-js-sdk'</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> title<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> link<span class="token punctuation">,</span> imgUrl <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> defaultTitle <span class="token operator">=</span> <span class="token string">'é»˜è®¤æ ‡é¢˜'</span>
  <span class="token keyword">let</span> defaultDesc <span class="token operator">=</span> <span class="token string">'é»˜è®¤æè¿°'</span>
  <span class="token keyword">let</span> defaultLink <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href
  <span class="token keyword">let</span> defaultimgUrl <span class="token operator">=</span><span class="token string">'é»˜è®¤å›¾ç‰‡'</span>
  <span class="token comment">// é€šè¿‡æ¥å£è·å–ç­¾åä¿¡æ¯, ä¼ é€’urlè¿‡å», url éœ€è¦ encodeURIComponent</span>
  axios
    <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/xxx/sign?url=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>defaultLink<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> <span class="token string">'å…¶ä»–åˆ¤æ–­'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> <span class="token punctuation">{</span> hash<span class="token punctuation">,</span> timestamp<span class="token punctuation">,</span> nonce <span class="token punctuation">}</span> <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data
        wx<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">debug</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// å¼€å¯è°ƒè¯•æ¨¡å¼,è°ƒç”¨çš„æ‰€æœ‰apiçš„è¿”å›å€¼ä¼šåœ¨å®¢æˆ·ç«¯alertå‡ºæ¥ï¼Œè‹¥è¦æŸ¥çœ‹ä¼ å…¥çš„å‚æ•°ï¼Œå¯ä»¥åœ¨pcç«¯æ‰“å¼€ï¼Œå‚æ•°ä¿¡æ¯ä¼šé€šè¿‡logæ‰“å‡ºï¼Œä»…åœ¨pcç«¯æ—¶æ‰ä¼šæ‰“å°ã€‚</span>
          <span class="token literal-property property">appId</span><span class="token operator">:</span> <span class="token string">'xxxxxx'</span><span class="token punctuation">,</span> <span class="token comment">// å¿…å¡«ï¼Œå…¬ä¼—å·çš„å”¯ä¸€æ ‡è¯†</span>
          timestamp<span class="token punctuation">,</span> <span class="token comment">// å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„æ—¶é—´æˆ³</span>
          <span class="token literal-property property">nonceStr</span><span class="token operator">:</span> nonce<span class="token punctuation">,</span> <span class="token comment">// å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„éšæœºä¸²</span>
          <span class="token literal-property property">signature</span><span class="token operator">:</span> hash<span class="token punctuation">,</span> <span class="token comment">// å¿…å¡«ï¼Œç­¾å</span>
          <span class="token literal-property property">jsApiList</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">'updateAppMessageShareData'</span><span class="token punctuation">,</span>
            <span class="token string">'updateTimelineShareData'</span><span class="token punctuation">,</span>
            <span class="token string">'onMenuShareAppMessage'</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        wx<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'wechat error'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        wx<span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          wx<span class="token punctuation">.</span><span class="token function">updateAppMessageShareData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span> title <span class="token operator">||</span> defaultTitle<span class="token punctuation">,</span>
            <span class="token literal-property property">desc</span><span class="token operator">:</span> desc <span class="token operator">||</span> defaultDesc<span class="token punctuation">,</span>
            <span class="token literal-property property">link</span><span class="token operator">:</span> link <span class="token operator">||</span> defaultLink<span class="token punctuation">,</span>
            <span class="token literal-property property">imgUrl</span><span class="token operator">:</span> imgUrl <span class="token operator">||</span> defaultimgUrl<span class="token punctuation">,</span>
            <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'wechat share success updateAppMessageShareData'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          wx<span class="token punctuation">.</span><span class="token function">updateTimelineShareData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span> title <span class="token operator">||</span> desc <span class="token operator">||</span> defaultTitle<span class="token punctuation">,</span>
            <span class="token literal-property property">link</span><span class="token operator">:</span> link <span class="token operator">||</span> defaultLink<span class="token punctuation">,</span>
            <span class="token literal-property property">imgUrl</span><span class="token operator">:</span> imgUrl <span class="token operator">||</span> defaultimgUrl<span class="token punctuation">,</span>
            <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'wechat share success updateTimelineShareData'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token comment">// å³å°†åºŸå¼ƒï¼Œé€‚é…ç”µè„‘ç‰ˆå¾®ä¿¡ï¼Œå‚è€ƒï¼šhttps://mp.weixin.qq.com/wiki?action=doc&amp;id=mp1421141115#10</span>
          wx<span class="token punctuation">.</span><span class="token function">onMenuShareAppMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span> title <span class="token operator">||</span> defaultTitle<span class="token punctuation">,</span>
            <span class="token literal-property property">desc</span><span class="token operator">:</span> desc <span class="token operator">||</span> defaultDesc<span class="token punctuation">,</span>
            <span class="token literal-property property">link</span><span class="token operator">:</span> link <span class="token operator">||</span> defaultLink<span class="token punctuation">,</span>
            <span class="token literal-property property">imgUrl</span><span class="token operator">:</span> imgUrl <span class="token operator">||</span> defaultimgUrl<span class="token punctuation">,</span>
            <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'wechat share success onMenuShareAppMessage'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre><p>å°è£…äº†ä¸€ä¸ªç®€å•çš„æ–¹æ³•, ç”¨æˆ·åšå¾®ä¿¡åˆ†äº« æˆ‘ä»¬åªéœ€è¦è°ƒç”¨æ–¹æ³•, å¹¶ä¸”ä¼ é€’ä¿¡æ¯å³å¯, é‡Œé¢çš„æ ‡é¢˜ä¿¡æ¯å¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µä¿®æ”¹!!!</p>
<p>æ¥ä¸‹æ¥åªéœ€è¦åœ¨ä½¿ç”¨çš„åœ°æ–¹è°ƒç”¨å³å¯(æˆ‘åœ¨å…¨å±€å†™äº†ä¸€ä¸ª)</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// main.js</span>
<span class="token keyword">import</span> wechatShare <span class="token keyword">from</span> <span class="token string">'wechat_share'</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$wechatShare <span class="token operator">=</span> wechatShare

<span class="token comment">// other.vue xxx used</span>

<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$wechatShare</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>å¦‚æœæ¯ä¸ªé¡µé¢éƒ½è°ƒç”¨ä¸€æ¬¡é‚£å°±å¤ªéº»çƒ¦äº†, åˆ©ç”¨routerçš„é’©å­å‡½æ•°, ç„¶åæŠŠæ–¹æ³•æ”¾å…¥router.js é‡Œé¢, ä½¿ç”¨ router.afterEach æ–¹æ³•(<a href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E5%85%A8%E5%B1%80%E5%90%8E%E7%BD%AE%E9%92%A9%E5%AD%90">å…¨å±€åç½®é’©å­</a>)</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// router.js</span>
<span class="token keyword">import</span> wechatShare <span class="token keyword">from</span> <span class="token string">'wechat_share'</span>

router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token function">wechatShare</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>ç„¶åæ¯ä¸ªé¡µé¢éƒ½ä¼šæ‹¥æœ‰åˆ†äº«åŠŸèƒ½(ğŸ˜„ğŸ˜„ğŸ˜„ğŸ˜„)</p>
<hr>
<p>ä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜âš ï¸ï¸ï¸ï¸ï¸âš ï¸ï¸ï¸ï¸ï¸âš ï¸ï¸ï¸ï¸ï¸, åˆ‡æ¢é¡µé¢ ç„¶åå»ç­¾åçš„æ—¶å€™, å¾®ä¿¡æŠ¥é”™è¯´æ˜¯æ— æ•ˆç­¾å!!!!</p>
<p>åŸå› æ˜¯å› ä¸ºä¼ é€’çš„localhost.hrefä¸å½“å‰é¡µé¢ä¸ç¬¦åˆ!!!</p>
<p>å› ä¸ºrouter.afterEachæ˜¯å¼‚æ­¥çš„(åˆ«äººè¿™æ ·è¯´çš„)ç„¶åéœ€è¦é€šè¿‡this.$nextTickæ¥è§£å†³(ç”¨setTimeoutä¹Ÿå¯ä»¥ ä½†æ˜¯ä¸å¤ªå¥½ ä½ æ‡‚çš„233)</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// router.js</span>
<span class="token keyword">import</span> wechatShare <span class="token keyword">from</span> <span class="token string">'wechat_share'</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>

router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  Vue<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">wechatShare</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>åœ¨routeré‡Œé¢ä½¿ç”¨è®²this.$nextTickä¿®æ”¹ä¸ºVue.nextTick(è¿™æ ·å°±å¯ä»¥è§£å†³, router.afterEachè·å–çš„localhost.hrefä¸å½“å‰é¡µé¢ä¸ç¬¦åˆçš„é—®é¢˜</p>
<p>ç„¶åå°±æ˜¯ä¸€ä¸ªä¸ªåˆ«é¡µé¢, éœ€è¦å®šåˆ¶åŒ–å†…å®¹åˆ†äº«, è°ƒç”¨æ–¹æ³•å³å¯</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// å¼‚æ­¥</span>
<span class="token keyword">async</span> <span class="token function">xx</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> <span class="token function">xx</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$wechatShare</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        title<span class="token punctuation">,</span>
        desc<span class="token punctuation">,</span>
        imgUrl
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// åŒæ­¥</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$wechatShare</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  title<span class="token punctuation">,</span>
  desc<span class="token punctuation">,</span>
  imgUrl
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>å¦‚æœæ˜¯å¼‚æ­¥çš„åªéœ€è¦åœ¨è°ƒç”¨å®Œæ–¹æ³•ä¹‹å, è°ƒç”¨å†™å…¥å†…å®¹å³å¯(ğŸš€ğŸš€ğŸš€)</p>
<hr>
<p>å¦‚æœæ¯ä¸ªé¡µé¢éƒ½æƒ³è®¾ç½®æ€ä¹ˆåŠ???</p>
<p>è§£å†³æ–¹æ¡ˆ åœ¨routerçš„metaé‡Œé¢é…ç½®ä¸€äº›ç®€å•çš„ä¿¡æ¯å³å¯</p>
<pre class="language-js"><code class="language-js"><span class="token operator">...</span>
<span class="token literal-property property">router</span><span class="token operator">:</span> <span class="token punctuation">[</span>
     <span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'index'</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: "index" */</span> <span class="token string">'index.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'xxxxxxxxxx'</span>
        <span class="token operator">...</span><span class="token punctuation">.</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
<span class="token operator">...</span>

router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  Vue<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">wechatShare</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>åœ¨é’©å­å‡½æ•°afterEaché‡Œé¢è®¾ç½®é»˜è®¤çš„title: to.meta.title ğŸ‘ ğŸš€ ğŸ”¥</p>
<p>æ•ˆæœå›¾</p>
<p><a href="https://matataki.io/">ä½“éªŒåœ°å€</a> å¾®ä¿¡æ‰“å¼€ä¼šè‡ªåŠ¨è·³è½¬çš„</p>
<p><a href="https://matataki.io/">https://matataki.io/</a></p>
<p><img src="vue%E5%BE%AE%E4%BF%A1%E5%88%86%E4%BA%AB/1.png" alt="æ•ˆæœå›¾"></p>
</div><hr class="my-12"/><div class="font-sans"><div class="mb-12"><a target="_blank" href="https://github.com/xiaotiandada/blog/issues/39" class="font-medium border border-gray-700 hover:bg-gray-700 hover:text-gray-100 transition-all text-gray-700 text-sm rounded px-4 py-2">Add comment</a></div></div><div class="my-12"><div class="text-sm">Powered by <a class="underline" target="_blank" href="https://github.com/djyde/sairin">Sairin</a></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"MDU6SXNzdWU3ODg3NDY1NDg=","url":"https://github.com/xiaotiandada/blog/issues/39","title":"vueå¾®ä¿¡åˆ†äº«","updatedAt":"2021-01-19T06:29:54Z","createdAt":"2021-01-19T06:29:54Z","body":"2019-11-02 00:30:30\r\n\r\n[ä¸Šæ–‡ é…ç½®ç¯å¢ƒ](https://xiaotiandada.github.io/2019/10/23/%E6%9C%AC%E5%9C%B0%E8%B0%83%E8%AF%95%E5%BE%AE%E4%BF%A1SDK/)\r\n\r\nè¿™ç¯‡ä¸»è¦æ˜¯åˆ†äº«vueåšå¾®ä¿¡åˆ†äº«\r\n\r\n\u003c!-- more --\u003e\r\n\r\nå‡è®¾æœ¬åœ°çš„å¼€å‘ç¯å¢ƒå·²ç»å‡†å¤‡å¥½äº†!!! ğŸ‘ å¹¶ä¸”ä½ æœ‰ä¸€ä¸ªå¥½çš„åŒäº‹ä¸ºä½ å†™å¥½äº†æ¥å£ğŸ˜Š\r\n\r\n\r\nnpmçš„åœ°å€\r\n\r\n[sdk](https://www.npmjs.com/package/weixin-js-sdk)\r\n[axios](https://www.npmjs.com/package/axios)\r\n\r\n```bash\r\nnpm install weixin-js-sdk #å¾®ä¿¡å®˜æ–¹js-sdk\r\n\r\nnpm install axios #åŸºäºPromiseçš„HTTPå®¢æˆ·ç«¯ï¼Œç”¨äºæµè§ˆå™¨å’Œnode.js\r\n```\r\n\r\næ–°å»ºä¸€ä¸ªjsæ–‡ä»¶(å‡å¦‚ä»–å«wechat_share.js)\r\n\r\n```js\r\nimport wx from 'weixin-js-sdk'\r\nimport axios from 'axios'\r\n\r\nexport default ({ title, desc, link, imgUrl }) =\u003e {\r\n  let defaultTitle = 'é»˜è®¤æ ‡é¢˜'\r\n  let defaultDesc = 'é»˜è®¤æè¿°'\r\n  let defaultLink = window.location.href\r\n  let defaultimgUrl ='é»˜è®¤å›¾ç‰‡'\r\n  // é€šè¿‡æ¥å£è·å–ç­¾åä¿¡æ¯, ä¼ é€’urlè¿‡å», url éœ€è¦ encodeURIComponent\r\n  axios\r\n    .get(`/xxx/sign?url=${encodeURIComponent(defaultLink)}`)\r\n    .then(res =\u003e {\r\n      if (res.status === 200 \u0026\u0026 'å…¶ä»–åˆ¤æ–­') {\r\n        let { hash, timestamp, nonce } = res.data.data\r\n        wx.config({\r\n          debug: false, // å¼€å¯è°ƒè¯•æ¨¡å¼,è°ƒç”¨çš„æ‰€æœ‰apiçš„è¿”å›å€¼ä¼šåœ¨å®¢æˆ·ç«¯alertå‡ºæ¥ï¼Œè‹¥è¦æŸ¥çœ‹ä¼ å…¥çš„å‚æ•°ï¼Œå¯ä»¥åœ¨pcç«¯æ‰“å¼€ï¼Œå‚æ•°ä¿¡æ¯ä¼šé€šè¿‡logæ‰“å‡ºï¼Œä»…åœ¨pcç«¯æ—¶æ‰ä¼šæ‰“å°ã€‚\r\n          appId: 'xxxxxx', // å¿…å¡«ï¼Œå…¬ä¼—å·çš„å”¯ä¸€æ ‡è¯†\r\n          timestamp, // å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„æ—¶é—´æˆ³\r\n          nonceStr: nonce, // å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„éšæœºä¸²\r\n          signature: hash, // å¿…å¡«ï¼Œç­¾å\r\n          jsApiList: [\r\n            'updateAppMessageShareData',\r\n            'updateTimelineShareData',\r\n            'onMenuShareAppMessage'\r\n          ]\r\n        })\r\n        wx.error(function(res) {\r\n          console.log('wechat error', res)\r\n        })\r\n        wx.ready(function() {\r\n          wx.updateAppMessageShareData({\r\n            title: title || defaultTitle,\r\n            desc: desc || defaultDesc,\r\n            link: link || defaultLink,\r\n            imgUrl: imgUrl || defaultimgUrl,\r\n            success: function() {\r\n              console.log('wechat share success updateAppMessageShareData')\r\n            }\r\n          })\r\n          wx.updateTimelineShareData({\r\n            title: title || desc || defaultTitle,\r\n            link: link || defaultLink,\r\n            imgUrl: imgUrl || defaultimgUrl,\r\n            success: function() {\r\n              console.log('wechat share success updateTimelineShareData')\r\n            }\r\n          })\r\n          // å³å°†åºŸå¼ƒï¼Œé€‚é…ç”µè„‘ç‰ˆå¾®ä¿¡ï¼Œå‚è€ƒï¼šhttps://mp.weixin.qq.com/wiki?action=doc\u0026id=mp1421141115#10\r\n          wx.onMenuShareAppMessage({\r\n            title: title || defaultTitle,\r\n            desc: desc || defaultDesc,\r\n            link: link || defaultLink,\r\n            imgUrl: imgUrl || defaultimgUrl,\r\n            success: function() {\r\n              console.log('wechat share success onMenuShareAppMessage')\r\n            }\r\n          })\r\n        })\r\n      }\r\n    })\r\n}\r\n```\r\n\r\nå°è£…äº†ä¸€ä¸ªç®€å•çš„æ–¹æ³•, ç”¨æˆ·åšå¾®ä¿¡åˆ†äº« æˆ‘ä»¬åªéœ€è¦è°ƒç”¨æ–¹æ³•, å¹¶ä¸”ä¼ é€’ä¿¡æ¯å³å¯, é‡Œé¢çš„æ ‡é¢˜ä¿¡æ¯å¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µä¿®æ”¹!!!\r\n\r\næ¥ä¸‹æ¥åªéœ€è¦åœ¨ä½¿ç”¨çš„åœ°æ–¹è°ƒç”¨å³å¯(æˆ‘åœ¨å…¨å±€å†™äº†ä¸€ä¸ª)\r\n\r\n```js\r\n// main.js\r\nimport wechatShare from 'wechat_share'\r\nVue.prototype.$wechatShare = wechatShare\r\n\r\n// other.vue xxx used\r\n\r\nthis.$wechatShare({})\r\n```\r\n\r\nå¦‚æœæ¯ä¸ªé¡µé¢éƒ½è°ƒç”¨ä¸€æ¬¡é‚£å°±å¤ªéº»çƒ¦äº†, åˆ©ç”¨routerçš„é’©å­å‡½æ•°, ç„¶åæŠŠæ–¹æ³•æ”¾å…¥router.js é‡Œé¢, ä½¿ç”¨ router.afterEach æ–¹æ³•([å…¨å±€åç½®é’©å­](https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E5%85%A8%E5%B1%80%E5%90%8E%E7%BD%AE%E9%92%A9%E5%AD%90))\r\n\r\n```js\r\n// router.js\r\nimport wechatShare from 'wechat_share'\r\n\r\nrouter.afterEach((to, from) =\u003e {\r\n  wechatShare({})\r\n})\r\n```\r\nç„¶åæ¯ä¸ªé¡µé¢éƒ½ä¼šæ‹¥æœ‰åˆ†äº«åŠŸèƒ½(ğŸ˜„ğŸ˜„ğŸ˜„ğŸ˜„)\r\n\r\n---\r\n\r\nä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜\bâš ï¸ï¸ï¸ï¸ï¸\bâš ï¸ï¸ï¸ï¸ï¸\bâš ï¸ï¸ï¸ï¸ï¸, åˆ‡æ¢é¡µé¢ ç„¶åå»ç­¾åçš„æ—¶å€™, å¾®ä¿¡æŠ¥é”™è¯´æ˜¯æ— æ•ˆç­¾å!!!!\r\n\r\nåŸå› æ˜¯å› ä¸ºä¼ é€’çš„localhost.hrefä¸å½“å‰é¡µé¢ä¸ç¬¦åˆ!!!\r\n\r\nå› ä¸ºrouter.afterEachæ˜¯å¼‚æ­¥çš„(åˆ«äººè¿™æ ·è¯´çš„)ç„¶åéœ€è¦é€šè¿‡this.$nextTickæ¥è§£å†³(ç”¨setTimeoutä¹Ÿå¯ä»¥ ä½†æ˜¯ä¸å¤ªå¥½ ä½ æ‡‚çš„233)\r\n```js\r\n// router.js\r\nimport wechatShare from 'wechat_share'\r\nimport Vue from 'vue'\r\n\r\nrouter.afterEach((to, from) =\u003e {\r\n  Vue.nextTick(() =\u003e {\r\n    wechatShare({})\r\n  })\r\n})\r\n```\r\n\r\nåœ¨routeré‡Œé¢ä½¿ç”¨è®²this.$nextTickä¿®æ”¹ä¸ºVue.nextTick(è¿™æ ·å°±å¯ä»¥è§£å†³, router.afterEachè·å–çš„localhost.hrefä¸å½“å‰é¡µé¢ä¸ç¬¦åˆçš„é—®é¢˜\r\n\r\nç„¶åå°±æ˜¯ä¸€ä¸ªä¸ªåˆ«é¡µé¢, éœ€è¦å®šåˆ¶åŒ–å†…å®¹åˆ†äº«, è°ƒç”¨æ–¹æ³•å³å¯\r\n\r\n```js\r\n// å¼‚æ­¥\r\nasync xx() {\r\n  await xx().then(() =\u003e {\r\n      this.$wechatShare({\r\n        title,\r\n        desc,\r\n        imgUrl\r\n      })\r\n  })\r\n}\r\n\r\n// åŒæ­¥\r\nthis.$wechatShare({\r\n  title,\r\n  desc,\r\n  imgUrl\r\n})\r\n```\r\n\r\nå¦‚æœæ˜¯å¼‚æ­¥çš„åªéœ€è¦åœ¨è°ƒç”¨å®Œæ–¹æ³•ä¹‹å, è°ƒç”¨å†™å…¥å†…å®¹å³å¯(ğŸš€ğŸš€ğŸš€)\r\n\r\n---\r\n\r\nå¦‚æœæ¯ä¸ªé¡µé¢éƒ½æƒ³è®¾ç½®æ€ä¹ˆåŠ???\r\n\r\nè§£å†³æ–¹æ¡ˆ åœ¨routerçš„metaé‡Œé¢é…ç½®ä¸€äº›ç®€å•çš„ä¿¡æ¯å³å¯\r\n\r\n```js\r\n...\r\nrouter: [\r\n     {\r\n      path: '/',\r\n      name: 'index',\r\n      component: () =\u003e import(/* webpackChunkName: \"index\" */ 'index.vue'),\r\n      meta: {\r\n        title: 'xxxxxxxxxx'\r\n        ....\r\n      }\r\n    },\r\n]\r\n...\r\n\r\nrouter.afterEach((to, from) =\u003e {\r\n  Vue.nextTick(() =\u003e {\r\n    wechatShare({\r\n      title: to.meta.title\r\n    })\r\n  })\r\n})\r\n```\r\n\r\nåœ¨é’©å­å‡½æ•°afterEaché‡Œé¢è®¾ç½®é»˜è®¤çš„title: to.meta.title ğŸ‘ ğŸš€ ğŸ”¥\r\n\r\næ•ˆæœå›¾\r\n\r\n[ä½“éªŒåœ°å€](https://matataki.io/) å¾®ä¿¡æ‰“å¼€ä¼šè‡ªåŠ¨è·³è½¬çš„\r\n\r\nhttps://matataki.io/\r\n\r\n![æ•ˆæœå›¾](vueå¾®ä¿¡åˆ†äº«/1.png)\r\n\r\n","comments":{"nodes":[]},"reactionGroups":[{"content":"THUMBS_UP","reactors":{"totalCount":0}},{"content":"THUMBS_DOWN","reactors":{"totalCount":0}},{"content":"LAUGH","reactors":{"totalCount":0}},{"content":"HOORAY","reactors":{"totalCount":0}},{"content":"CONFUSED","reactors":{"totalCount":0}},{"content":"HEART","reactors":{"totalCount":0}},{"content":"ROCKET","reactors":{"totalCount":0}},{"content":"EYES","reactors":{"totalCount":0}}],"author":{"login":"xiaotiandada","url":"https://github.com/xiaotiandada","avatarUrl":"https://avatars.githubusercontent.com/u/24250627?u=51a93e07957381123eb9fbdd6407de36033b578d\u0026v=4"},"html":"\u003cp\u003e2019-11-02 00:30:30\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://xiaotiandada.github.io/2019/10/23/%E6%9C%AC%E5%9C%B0%E8%B0%83%E8%AF%95%E5%BE%AE%E4%BF%A1SDK/\"\u003eä¸Šæ–‡ é…ç½®ç¯å¢ƒ\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eè¿™ç¯‡ä¸»è¦æ˜¯åˆ†äº«vueåšå¾®ä¿¡åˆ†äº«\u003c/p\u003e\n\u003c!-- more --\u003e\n\n\u003cp\u003eå‡è®¾æœ¬åœ°çš„å¼€å‘ç¯å¢ƒå·²ç»å‡†å¤‡å¥½äº†!!! ğŸ‘ å¹¶ä¸”ä½ æœ‰ä¸€ä¸ªå¥½çš„åŒäº‹ä¸ºä½ å†™å¥½äº†æ¥å£ğŸ˜Š\u003c/p\u003e\n\u003cp\u003enpmçš„åœ°å€\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.npmjs.com/package/weixin-js-sdk\"\u003esdk\u003c/a\u003e\n\u003ca href=\"https://www.npmjs.com/package/axios\"\u003eaxios\u003c/a\u003e\u003c/p\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003enpm install weixin-js-sdk #å¾®ä¿¡å®˜æ–¹js-sdk\n\nnpm install axios #åŸºäºPromiseçš„HTTPå®¢æˆ·ç«¯ï¼Œç”¨äºæµè§ˆå™¨å’Œnode.js\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eæ–°å»ºä¸€ä¸ªjsæ–‡ä»¶(å‡å¦‚ä»–å«wechat_share.js)\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e wx \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e'weixin-js-sdk'\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e axios \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e'axios'\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e title\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e desc\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e link\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e imgUrl \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e defaultTitle \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e'é»˜è®¤æ ‡é¢˜'\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e defaultDesc \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e'é»˜è®¤æè¿°'\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e defaultLink \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e window\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003elocation\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ehref\n  \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e defaultimgUrl \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e'é»˜è®¤å›¾ç‰‡'\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e// é€šè¿‡æ¥å£è·å–ç­¾åä¿¡æ¯, ä¼ é€’urlè¿‡å», url éœ€è¦ encodeURIComponent\u003c/span\u003e\n  axios\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eget\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token string\"\u003e/xxx/sign?url=\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003e\u003cspan class=\"token function\"\u003eencodeURIComponent\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003edefaultLink\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ethen\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003eres\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eres\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003estatus \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token number\"\u003e200\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"token string\"\u003e'å…¶ä»–åˆ¤æ–­'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e hash\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e timestamp\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e nonce \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e res\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003edata\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003edata\n        wx\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003econfig\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n          \u003cspan class=\"token literal-property property\"\u003edebug\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// å¼€å¯è°ƒè¯•æ¨¡å¼,è°ƒç”¨çš„æ‰€æœ‰apiçš„è¿”å›å€¼ä¼šåœ¨å®¢æˆ·ç«¯alertå‡ºæ¥ï¼Œè‹¥è¦æŸ¥çœ‹ä¼ å…¥çš„å‚æ•°ï¼Œå¯ä»¥åœ¨pcç«¯æ‰“å¼€ï¼Œå‚æ•°ä¿¡æ¯ä¼šé€šè¿‡logæ‰“å‡ºï¼Œä»…åœ¨pcç«¯æ—¶æ‰ä¼šæ‰“å°ã€‚\u003c/span\u003e\n          \u003cspan class=\"token literal-property property\"\u003eappId\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'xxxxxx'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// å¿…å¡«ï¼Œå…¬ä¼—å·çš„å”¯ä¸€æ ‡è¯†\u003c/span\u003e\n          timestamp\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„æ—¶é—´æˆ³\u003c/span\u003e\n          \u003cspan class=\"token literal-property property\"\u003enonceStr\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e nonce\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„éšæœºä¸²\u003c/span\u003e\n          \u003cspan class=\"token literal-property property\"\u003esignature\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e hash\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// å¿…å¡«ï¼Œç­¾å\u003c/span\u003e\n          \u003cspan class=\"token literal-property property\"\u003ejsApiList\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n            \u003cspan class=\"token string\"\u003e'updateAppMessageShareData'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token string\"\u003e'updateTimelineShareData'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token string\"\u003e'onMenuShareAppMessage'\u003c/span\u003e\n          \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        wx\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eerror\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003eres\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n          console\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'wechat error'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e res\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        wx\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eready\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n          wx\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eupdateAppMessageShareData\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token literal-property property\"\u003etitle\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e title \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e defaultTitle\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token literal-property property\"\u003edesc\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e desc \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e defaultDesc\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token literal-property property\"\u003elink\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e link \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e defaultLink\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token literal-property property\"\u003eimgUrl\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e imgUrl \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e defaultimgUrl\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token function-variable function\"\u003esuccess\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n              console\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'wechat share success updateAppMessageShareData'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n          \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n          wx\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eupdateTimelineShareData\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token literal-property property\"\u003etitle\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e title \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e desc \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e defaultTitle\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token literal-property property\"\u003elink\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e link \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e defaultLink\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token literal-property property\"\u003eimgUrl\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e imgUrl \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e defaultimgUrl\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token function-variable function\"\u003esuccess\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n              console\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'wechat share success updateTimelineShareData'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n          \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n          \u003cspan class=\"token comment\"\u003e// å³å°†åºŸå¼ƒï¼Œé€‚é…ç”µè„‘ç‰ˆå¾®ä¿¡ï¼Œå‚è€ƒï¼šhttps://mp.weixin.qq.com/wiki?action=doc\u0026amp;id=mp1421141115#10\u003c/span\u003e\n          wx\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eonMenuShareAppMessage\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"token literal-property property\"\u003etitle\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e title \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e defaultTitle\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token literal-property property\"\u003edesc\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e desc \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e defaultDesc\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token literal-property property\"\u003elink\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e link \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e defaultLink\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token literal-property property\"\u003eimgUrl\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e imgUrl \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e defaultimgUrl\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token function-variable function\"\u003esuccess\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n              console\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003elog\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'wechat share success onMenuShareAppMessage'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n            \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n          \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eå°è£…äº†ä¸€ä¸ªç®€å•çš„æ–¹æ³•, ç”¨æˆ·åšå¾®ä¿¡åˆ†äº« æˆ‘ä»¬åªéœ€è¦è°ƒç”¨æ–¹æ³•, å¹¶ä¸”ä¼ é€’ä¿¡æ¯å³å¯, é‡Œé¢çš„æ ‡é¢˜ä¿¡æ¯å¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µä¿®æ”¹!!!\u003c/p\u003e\n\u003cp\u003eæ¥ä¸‹æ¥åªéœ€è¦åœ¨ä½¿ç”¨çš„åœ°æ–¹è°ƒç”¨å³å¯(æˆ‘åœ¨å…¨å±€å†™äº†ä¸€ä¸ª)\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token comment\"\u003e// main.js\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e wechatShare \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e'wechat_share'\u003c/span\u003e\n\u003cspan class=\"token class-name\"\u003eVue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eprototype\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e$wechatShare \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e wechatShare\n\n\u003cspan class=\"token comment\"\u003e// other.vue xxx used\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003e$wechatShare\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eå¦‚æœæ¯ä¸ªé¡µé¢éƒ½è°ƒç”¨ä¸€æ¬¡é‚£å°±å¤ªéº»çƒ¦äº†, åˆ©ç”¨routerçš„é’©å­å‡½æ•°, ç„¶åæŠŠæ–¹æ³•æ”¾å…¥router.js é‡Œé¢, ä½¿ç”¨ router.afterEach æ–¹æ³•(\u003ca href=\"https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E5%85%A8%E5%B1%80%E5%90%8E%E7%BD%AE%E9%92%A9%E5%AD%90\"\u003eå…¨å±€åç½®é’©å­\u003c/a\u003e)\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token comment\"\u003e// router.js\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e wechatShare \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e'wechat_share'\u003c/span\u003e\n\nrouter\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eafterEach\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003eto\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token function\"\u003ewechatShare\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eç„¶åæ¯ä¸ªé¡µé¢éƒ½ä¼šæ‹¥æœ‰åˆ†äº«åŠŸèƒ½(ğŸ˜„ğŸ˜„ğŸ˜„ğŸ˜„)\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜\bâš ï¸ï¸ï¸ï¸ï¸\bâš ï¸ï¸ï¸ï¸ï¸\bâš ï¸ï¸ï¸ï¸ï¸, åˆ‡æ¢é¡µé¢ ç„¶åå»ç­¾åçš„æ—¶å€™, å¾®ä¿¡æŠ¥é”™è¯´æ˜¯æ— æ•ˆç­¾å!!!!\u003c/p\u003e\n\u003cp\u003eåŸå› æ˜¯å› ä¸ºä¼ é€’çš„localhost.hrefä¸å½“å‰é¡µé¢ä¸ç¬¦åˆ!!!\u003c/p\u003e\n\u003cp\u003eå› ä¸ºrouter.afterEachæ˜¯å¼‚æ­¥çš„(åˆ«äººè¿™æ ·è¯´çš„)ç„¶åéœ€è¦é€šè¿‡this.$nextTickæ¥è§£å†³(ç”¨setTimeoutä¹Ÿå¯ä»¥ ä½†æ˜¯ä¸å¤ªå¥½ ä½ æ‡‚çš„233)\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token comment\"\u003e// router.js\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e wechatShare \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e'wechat_share'\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e Vue \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e'vue'\u003c/span\u003e\n\nrouter\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eafterEach\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003eto\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  Vue\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003enextTick\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token function\"\u003ewechatShare\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eåœ¨routeré‡Œé¢ä½¿ç”¨è®²this.$nextTickä¿®æ”¹ä¸ºVue.nextTick(è¿™æ ·å°±å¯ä»¥è§£å†³, router.afterEachè·å–çš„localhost.hrefä¸å½“å‰é¡µé¢ä¸ç¬¦åˆçš„é—®é¢˜\u003c/p\u003e\n\u003cp\u003eç„¶åå°±æ˜¯ä¸€ä¸ªä¸ªåˆ«é¡µé¢, éœ€è¦å®šåˆ¶åŒ–å†…å®¹åˆ†äº«, è°ƒç”¨æ–¹æ³•å³å¯\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token comment\"\u003e// å¼‚æ­¥\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"token function\"\u003exx\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"token function\"\u003exx\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ethen\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003e$wechatShare\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        title\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n        desc\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n        imgUrl\n      \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e// åŒæ­¥\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003e$wechatShare\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  title\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  desc\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  imgUrl\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eå¦‚æœæ˜¯å¼‚æ­¥çš„åªéœ€è¦åœ¨è°ƒç”¨å®Œæ–¹æ³•ä¹‹å, è°ƒç”¨å†™å…¥å†…å®¹å³å¯(ğŸš€ğŸš€ğŸš€)\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eå¦‚æœæ¯ä¸ªé¡µé¢éƒ½æƒ³è®¾ç½®æ€ä¹ˆåŠ???\u003c/p\u003e\n\u003cp\u003eè§£å†³æ–¹æ¡ˆ åœ¨routerçš„metaé‡Œé¢é…ç½®ä¸€äº›ç®€å•çš„ä¿¡æ¯å³å¯\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token operator\"\u003e...\u003c/span\u003e\n\u003cspan class=\"token literal-property property\"\u003erouter\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n     \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token literal-property property\"\u003epath\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'/'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"token literal-property property\"\u003ename\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'index'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"token function-variable function\"\u003ecomponent\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token comment\"\u003e/* webpackChunkName: \"index\" */\u003c/span\u003e \u003cspan class=\"token string\"\u003e'index.vue'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"token literal-property property\"\u003emeta\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token literal-property property\"\u003etitle\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'xxxxxxxxxx'\u003c/span\u003e\n        \u003cspan class=\"token operator\"\u003e...\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n\u003cspan class=\"token operator\"\u003e...\u003c/span\u003e\n\nrouter\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eafterEach\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token parameter\"\u003eto\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  Vue\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003enextTick\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token function\"\u003ewechatShare\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token literal-property property\"\u003etitle\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e to\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003emeta\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etitle\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eåœ¨é’©å­å‡½æ•°afterEaché‡Œé¢è®¾ç½®é»˜è®¤çš„title: to.meta.title ğŸ‘ ğŸš€ ğŸ”¥\u003c/p\u003e\n\u003cp\u003eæ•ˆæœå›¾\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://matataki.io/\"\u003eä½“éªŒåœ°å€\u003c/a\u003e å¾®ä¿¡æ‰“å¼€ä¼šè‡ªåŠ¨è·³è½¬çš„\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://matataki.io/\"\u003ehttps://matataki.io/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"vue%E5%BE%AE%E4%BF%A1%E5%88%86%E4%BA%AB/1.png\" alt=\"æ•ˆæœå›¾\"\u003e\u003c/p\u003e\n","attributes":{}},"themeConfig":{"title":"Blog(issues)","links":[{"title":"GitHub","url":"https://github.com/xiaotiandada/blog"},{"title":"Twitter","url":"https://twitter.com/XiaoTianIsMe"}]}},"__N_SSG":true},"page":"/[...path]","query":{"path":["MDU6SXNzdWU3ODg3NDY1NDg="]},"buildId":"YPEk3V-eoVeml18YoUSCM","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>