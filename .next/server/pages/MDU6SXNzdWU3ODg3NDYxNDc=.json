{"pageProps":{"post":{"id":"MDU6SXNzdWU3ODg3NDYxNDc=","url":"https://github.com/xiaotiandada/blog/issues/37","title":"本地调试微信SDK","updatedAt":"2021-01-19T06:29:04Z","createdAt":"2021-01-19T06:29:04Z","body":"2019-10-23 13:05:50\r\n\r\n这里使用vue(其他道理应该也是一样的), 因为微信的sdk只能在他的域名下才能正常使用, 我们又不能去服务端开发然后build, 所有在本地调试微信sdk就很有必要了,(微信分享在另一篇会写)\r\n\r\n<!-- more -->\r\n\r\n首选假设你有一个备案并且在微信设置好了域名(自己配置, 或者有一个好的同事👍)\r\n\r\n假如你的域名是**www.wx.com**\r\n\r\n## 工具\r\n\r\nNginx\r\n\r\niHost(mac一个修改host的软件)\r\n\r\n调试器 微信开发工具(Google搜索 官网下载)\r\n\r\n[微信SDk文档](https://qydev.weixin.qq.com/wiki/index.php?title=%E5%BE%AE%E4%BF%A1JS-SDK%E6%8E%A5%E5%8F%A3)\r\n\r\n\r\n## go\r\n\r\n首先需要了解一下什么是[host](https://baike.baidu.com/item/hosts), 然后我们要做的就是修改本地host文件, 访问 www.wx.com 的时候访问我们自定义的ip地址\r\n\r\n```\r\n127.0.0.1\twww.wx.com\r\n```\r\n\r\nsave之后 我们访问 www.wx.com 会访问本地的 127.0.0.1 (懒得截图)\r\n\r\n启动一个vue demo(省略N字)\r\n\r\n```bash\r\nvue create *\r\n\r\n# ...\r\n\r\nyarn serve #这里会跑一个http服务, 端口可能是8080也可能是任意其他\r\n```\r\n\r\n然后再回到访问www.wx.com页面(还是无法正常访问本地的vue demo项目), 原因是默认的端口是80, 而我们的服务是8080, 这时候我们需要吧80端口代理到8080(使用nginx)\r\n\r\n\r\n```bash\r\n# N种安装方法之一\r\n\r\nbrew install nginx\r\n```\r\n\r\n安装完成之后\r\n\r\n```\r\nnginx\r\n```\r\n\r\n发现会有一个默认的Nginx页面(这里就说明你安装成功了👍) (懒得截图)\r\n\r\n```bash\r\nnginx -s stop # 我们停掉它\r\n```\r\n\r\n然后找到config文件, nginx的配置文件叫 nginx.conf, 我本地的路径为 /usr/local/etc/nginx (其他平台Google搜索, 查看配置文件在哪儿)\r\n\r\n```\r\nserver {\r\n\tlisten 80;\r\n\tserver_name sstest.frontenduse.top;\r\n\r\n  location / {\r\n    proxy_pass http://localhost:8080;\r\n  }\r\n}\r\n```\r\n可以又多个 server\r\n\r\n通过 proxy_pass 代理80端口到8080端口(如果默认的80端口暂用, 可以改为别的比如8081 随意)\r\n\r\n```bash\r\nnginx # 此时访问localhost, 会进入之前启动的vue demo页面\r\n```\r\n\r\n然后去vue demo里面引入微信的sdk 出现如下类似的图就算正常了\r\n\r\n具体怎么引入看官方文档(下篇文章会写)\r\n\r\nscript 或者 import, 然后按照微信的文章配置就好了[微信SDk文档](https://qydev.weixin.qq.com/wiki/index.php?title=%E5%BE%AE%E4%BF%A1JS-SDK%E6%8E%A5%E5%8F%A3)\r\n\r\n![网图](本地调试微信SDK/1.jpg)\r\n\r\n网图","comments":{"nodes":[]},"reactionGroups":[{"content":"THUMBS_UP","reactors":{"totalCount":0}},{"content":"THUMBS_DOWN","reactors":{"totalCount":0}},{"content":"LAUGH","reactors":{"totalCount":0}},{"content":"HOORAY","reactors":{"totalCount":0}},{"content":"CONFUSED","reactors":{"totalCount":0}},{"content":"HEART","reactors":{"totalCount":0}},{"content":"ROCKET","reactors":{"totalCount":0}},{"content":"EYES","reactors":{"totalCount":0}}],"author":{"login":"xiaotiandada","url":"https://github.com/xiaotiandada","avatarUrl":"https://avatars.githubusercontent.com/u/24250627?u=51a93e07957381123eb9fbdd6407de36033b578d&v=4"},"html":"<p>2019-10-23 13:05:50</p>\n<p>这里使用vue(其他道理应该也是一样的), 因为微信的sdk只能在他的域名下才能正常使用, 我们又不能去服务端开发然后build, 所有在本地调试微信sdk就很有必要了,(微信分享在另一篇会写)</p>\n<!-- more -->\n\n<p>首选假设你有一个备案并且在微信设置好了域名(自己配置, 或者有一个好的同事👍)</p>\n<p>假如你的域名是<strong><a href=\"http://www.wx.com\">www.wx.com</a></strong></p>\n<h2 id=\"工具\">工具</h2>\n<p>Nginx</p>\n<p>iHost(mac一个修改host的软件)</p>\n<p>调试器 微信开发工具(Google搜索 官网下载)</p>\n<p><a href=\"https://qydev.weixin.qq.com/wiki/index.php?title=%E5%BE%AE%E4%BF%A1JS-SDK%E6%8E%A5%E5%8F%A3\">微信SDk文档</a></p>\n<h2 id=\"go\">go</h2>\n<p>首先需要了解一下什么是<a href=\"https://baike.baidu.com/item/hosts\">host</a>, 然后我们要做的就是修改本地host文件, 访问 <a href=\"http://www.wx.com\">www.wx.com</a> 的时候访问我们自定义的ip地址</p>\n<pre><code>127.0.0.1\twww.wx.com</code></pre><p>save之后 我们访问 <a href=\"http://www.wx.com\">www.wx.com</a> 会访问本地的 127.0.0.1 (懒得截图)</p>\n<p>启动一个vue demo(省略N字)</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">vue create *\n\n# ...\n\nyarn serve #这里会跑一个http服务, 端口可能是8080也可能是任意其他</code></pre><p>然后再回到访问<a href=\"http://www.wx.com%E9%A1%B5%E9%9D%A2\">www.wx.com页面</a>(还是无法正常访问本地的vue demo项目), 原因是默认的端口是80, 而我们的服务是8080, 这时候我们需要吧80端口代理到8080(使用nginx)</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"># N种安装方法之一\n\nbrew install nginx</code></pre><p>安装完成之后</p>\n<pre><code>nginx</code></pre><p>发现会有一个默认的Nginx页面(这里就说明你安装成功了👍) (懒得截图)</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">nginx -s stop # 我们停掉它</code></pre><p>然后找到config文件, nginx的配置文件叫 nginx.conf, 我本地的路径为 /usr/local/etc/nginx (其他平台Google搜索, 查看配置文件在哪儿)</p>\n<pre><code>server {\n    listen 80;\n    server_name sstest.frontenduse.top;\n\n  location / {\n    proxy_pass http://localhost:8080;\n  }\n}</code></pre><p>可以又多个 server</p>\n<p>通过 proxy_pass 代理80端口到8080端口(如果默认的80端口暂用, 可以改为别的比如8081 随意)</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">nginx # 此时访问localhost, 会进入之前启动的vue demo页面</code></pre><p>然后去vue demo里面引入微信的sdk 出现如下类似的图就算正常了</p>\n<p>具体怎么引入看官方文档(下篇文章会写)</p>\n<p>script 或者 import, 然后按照微信的文章配置就好了<a href=\"https://qydev.weixin.qq.com/wiki/index.php?title=%E5%BE%AE%E4%BF%A1JS-SDK%E6%8E%A5%E5%8F%A3\">微信SDk文档</a></p>\n<p><img src=\"%E6%9C%AC%E5%9C%B0%E8%B0%83%E8%AF%95%E5%BE%AE%E4%BF%A1SDK/1.jpg\" alt=\"网图\"></p>\n<p>网图</p>\n","attributes":{}},"themeConfig":{"title":"Blog(issues)","links":[{"title":"GitHub","url":"https://github.com/xiaotiandada/blog"},{"title":"Twitter","url":"https://twitter.com/XiaoTianIsMe"}]}},"__N_SSG":true}