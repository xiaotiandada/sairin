{"pageProps":{"post":{"id":"MDU6SXNzdWU3ODg3MDc5Njg=","url":"https://github.com/xiaotiandada/blog/issues/13","title":"把AE动画转换成Web原生动画","updatedAt":"2021-01-19T05:00:37Z","createdAt":"2021-01-19T05:00:37Z","body":" 2018-06-26 12:00:07\r\n\r\n# 把AE动画转换成Web原生动画\r\n\r\n> 先贴效果图\r\n\r\n> [预览地址 pc 端食用更佳](https://xiaotiandada.github.io/ife/%E8%AE%BE%E8%AE%A1%E5%B8%88%E5%AD%A6%E9%99%A2/No.8/)\r\n\r\n> [模仿san官网效果文章地址](https://juejin.im/post/5aff09ee6fb9a07a9b36365b)\r\n\r\n> [博客地址](https://xiaotiandada.github.io/)\r\n\r\n<!-- more -->\r\n\r\n\r\n![img](把AE动画转换成Web原生动画/1.png)\r\n\r\n![img](把AE动画转换成Web原生动画/2.png)\r\n\r\n> 右边这个动画会一直动 在firefox可以直接打开 其他浏览器需要服务环境\r\n\r\n> 正经分割线\r\n\r\n---\r\n\r\n\r\n- [ife](http://ife.baidu.com/course/detail/id/35?t=1529985511134#learn)\r\n- [官网效果](http://vis.baidu.com/)\r\n- [仓库地址](https://github.com/xiaotiandada/ife)\r\n- [lottie库](https://xiaotiandada.github.io/)\r\n  https://github.com/airbnb/lottie-web\r\n- [博客地址](https://xiaotiandada.github.io/)\r\n\r\n大家其实看第一个就知道怎么弄了 这个我之前写过一个vue-lottie 的时候说过类似的实现方法\r\n\r\n[文章地址](https://juejin.im/post/5b180a706fb9a01e780a49d4)\r\n\r\n---\r\n\r\n## 页面布局\r\n\r\n```html\r\n<div class=\"home-banner\">\r\n    <div class=\"home-banner-left\">\r\n        <h1>\r\n            <b>ECharts</b>数据可视化实验室</h1>\r\n        <p>由百度 ECharts 团队创建，联合公司内外众多数据可视化从业人组成的技术研究虚拟组织，致力于数据可视化的相关研究、教育普及、产品研发及生态建设。</p>\r\n    </div>\r\n    <div class=\"home-banner-right\">\r\n        <div id=\"bm\"></div>\r\n    </div>\r\n</div>\r\n```\r\n\r\n### 页面样式\r\n\r\n``` css\r\n*,\r\n*::after,\r\n*::before {\r\n    box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n    padding: 0;\r\n    margin: 0;\r\n\r\n    background-color: #102131;\r\n\r\n    min-height: 100%;\r\n}\r\n\r\n.home-banner {\r\n    max-width: 1130px;\r\n    margin: 0 auto;\r\n    position: relative;\r\n\r\n    padding-top: 8%;\r\n\r\n}\r\n\r\n\r\n.home-banner-left {\r\n    width: 54%;\r\n    vertical-align: top;\r\n    display: inline-block;\r\n    position: relative;\r\n\r\n}\r\n\r\n.home-banner-left h1 {\r\n    font-size: 48px;\r\n    line-height: 62px;\r\n    color: #fff;\r\n    font-weight: 800;\r\n    margin: 0;\r\n    margin-bottom: 30px;\r\n}\r\n\r\n.home-banner-left h1 b {\r\n    font-size: 53px;\r\n    margin-right: 5px;\r\n}\r\n\r\n.home-banner-left p {\r\n    color: rgba(255, 255, 255, .7);\r\n    font-size: 15px;\r\n    padding-right: 47px;\r\n    padding-left: 5px;\r\n    font-weight: 200;\r\n    line-height: 30px;\r\n    letter-spacing: 2px;\r\n}\r\n\r\n.home-banner-right {\r\n    width: 62%;\r\n    margin-left: -8%;\r\n    margin-right: -300px;\r\n    vertical-align: top;\r\n    display: inline-block;\r\n    position: relative;\r\n}\r\n\r\n#bm {\r\n    max-width: 700px;\r\n    display: block;\r\n}\r\n@media screen and (max-width: 768px) {\r\n    .home-banner {\r\n        padding-top: 2%;\r\n    }\r\n\r\n    .home-banner-left {\r\n        text-align: center;\r\n        display: block;\r\n        width: 100%;\r\n        box-sizing: border-box;\r\n        padding: 0 20px;\r\n    }\r\n\r\n        .home-banner-right {\r\n        display: block;\r\n        width: 100%;\r\n        margin: 0;\r\n    }\r\n}\r\n\r\n````\r\n\r\n## 功能实现\r\n\r\n``` js\r\n<script src=\"./lottie.min.js\"></script>\r\n<script>\r\n    var animation = lottie.loadAnimation({\r\n        container: document.getElementById('bm'), // the dom element that will contain the animation\r\n        renderer: 'svg',\r\n        loop: true,\r\n        autoplay: true,\r\n        path: 'test.json' // the path to the animation json\r\n    });\r\n</script>\r\n```\r\n\r\n其实这里复制粘贴就好了2333\r\n\r\n[预览地址 pc 端食用更佳](https://xiaotiandada.github.io/ife/%E8%AE%BE%E8%AE%A1%E5%B8%88%E5%AD%A6%E9%99%A2/No.8/)\r\n\r\nife No.8下面还有一个模仿san官网效果的 结果发现之前已经模仿了2333机缘啊哈哈哈\r\n\r\n[模仿san官网效果文章地址](","comments":{"nodes":[]},"reactionGroups":[{"content":"THUMBS_UP","reactors":{"totalCount":0}},{"content":"THUMBS_DOWN","reactors":{"totalCount":0}},{"content":"LAUGH","reactors":{"totalCount":0}},{"content":"HOORAY","reactors":{"totalCount":0}},{"content":"CONFUSED","reactors":{"totalCount":0}},{"content":"HEART","reactors":{"totalCount":0}},{"content":"ROCKET","reactors":{"totalCount":0}},{"content":"EYES","reactors":{"totalCount":0}}],"author":{"login":"xiaotiandada","url":"https://github.com/xiaotiandada","avatarUrl":"https://avatars.githubusercontent.com/u/24250627?u=51a93e07957381123eb9fbdd6407de36033b578d&v=4"},"html":"<p> 2018-06-26 12:00:07</p>\n<h1 id=\"把ae动画转换成web原生动画\">把AE动画转换成Web原生动画</h1>\n<blockquote>\n<p>先贴效果图</p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://xiaotiandada.github.io/ife/%E8%AE%BE%E8%AE%A1%E5%B8%88%E5%AD%A6%E9%99%A2/No.8/\">预览地址 pc 端食用更佳</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://juejin.im/post/5aff09ee6fb9a07a9b36365b\">模仿san官网效果文章地址</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://xiaotiandada.github.io/\">博客地址</a></p>\n</blockquote>\n<!-- more -->\n\n\n<p><img src=\"%E6%8A%8AAE%E5%8A%A8%E7%94%BB%E8%BD%AC%E6%8D%A2%E6%88%90Web%E5%8E%9F%E7%94%9F%E5%8A%A8%E7%94%BB/1.png\" alt=\"img\"></p>\n<p><img src=\"%E6%8A%8AAE%E5%8A%A8%E7%94%BB%E8%BD%AC%E6%8D%A2%E6%88%90Web%E5%8E%9F%E7%94%9F%E5%8A%A8%E7%94%BB/2.png\" alt=\"img\"></p>\n<blockquote>\n<p>右边这个动画会一直动 在firefox可以直接打开 其他浏览器需要服务环境</p>\n</blockquote>\n<blockquote>\n<p>正经分割线</p>\n</blockquote>\n<hr>\n<ul>\n<li><a href=\"http://ife.baidu.com/course/detail/id/35?t=1529985511134#learn\">ife</a></li>\n<li><a href=\"http://vis.baidu.com/\">官网效果</a></li>\n<li><a href=\"https://github.com/xiaotiandada/ife\">仓库地址</a></li>\n<li><a href=\"https://xiaotiandada.github.io/\">lottie库</a>\n<a href=\"https://github.com/airbnb/lottie-web\">https://github.com/airbnb/lottie-web</a></li>\n<li><a href=\"https://xiaotiandada.github.io/\">博客地址</a></li>\n</ul>\n<p>大家其实看第一个就知道怎么弄了 这个我之前写过一个vue-lottie 的时候说过类似的实现方法</p>\n<p><a href=\"https://juejin.im/post/5b180a706fb9a01e780a49d4\">文章地址</a></p>\n<hr>\n<h2 id=\"页面布局\">页面布局</h2>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>home-banner<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>home-banner-left<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>b</span><span class=\"token punctuation\">></span></span>ECharts<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>b</span><span class=\"token punctuation\">></span></span>数据可视化实验室<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>由百度 ECharts 团队创建，联合公司内外众多数据可视化从业人组成的技术研究虚拟组织，致力于数据可视化的相关研究、教育普及、产品研发及生态建设。<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>home-banner-right<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>bm<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre><h3 id=\"页面样式\">页面样式</h3>\n<pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">*,\n*::after,\n*::before</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">box-sizing</span><span class=\"token punctuation\">:</span> border-box<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n\n    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #102131<span class=\"token punctuation\">;</span>\n\n    <span class=\"token property\">min-height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.home-banner</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> 1130px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0 auto<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n\n    <span class=\"token property\">padding-top</span><span class=\"token punctuation\">:</span> 8%<span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token selector\">.home-banner-left</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 54%<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">vertical-align</span><span class=\"token punctuation\">:</span> top<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> inline-block<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.home-banner-left h1</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 48px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span> 62px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #fff<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> 800<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">margin-bottom</span><span class=\"token punctuation\">:</span> 30px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.home-banner-left h1 b</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 53px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">margin-right</span><span class=\"token punctuation\">:</span> 5px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.home-banner-left p</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>255<span class=\"token punctuation\">,</span> 255<span class=\"token punctuation\">,</span> 255<span class=\"token punctuation\">,</span> .7<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 15px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">padding-right</span><span class=\"token punctuation\">:</span> 47px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">padding-left</span><span class=\"token punctuation\">:</span> 5px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> 200<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span> 30px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">letter-spacing</span><span class=\"token punctuation\">:</span> 2px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.home-banner-right</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 62%<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">margin-left</span><span class=\"token punctuation\">:</span> -8%<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">margin-right</span><span class=\"token punctuation\">:</span> -300px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">vertical-align</span><span class=\"token punctuation\">:</span> top<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> inline-block<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">#bm</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> 700px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token atrule\"><span class=\"token rule\">@media</span> screen <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span><span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> 768px<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token selector\">.home-banner</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">padding-top</span><span class=\"token punctuation\">:</span> 2%<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token selector\">.home-banner-left</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">box-sizing</span><span class=\"token punctuation\">:</span> border-box<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0 20px<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n        <span class=\"token selector\">.home-banner-right</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n        <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre><h2 id=\"功能实现\">功能实现</h2>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"./lottie.min.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span>\n    <span class=\"token keyword\">var</span> animation <span class=\"token operator\">=</span> lottie<span class=\"token punctuation\">.</span><span class=\"token function\">loadAnimation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">container</span><span class=\"token operator\">:</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bm'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// the dom element that will contain the animation</span>\n        <span class=\"token literal-property property\">renderer</span><span class=\"token operator\">:</span> <span class=\"token string\">'svg'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">loop</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">autoplay</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">'test.json'</span> <span class=\"token comment\">// the path to the animation json</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></code></pre><p>其实这里复制粘贴就好了2333</p>\n<p><a href=\"https://xiaotiandada.github.io/ife/%E8%AE%BE%E8%AE%A1%E5%B8%88%E5%AD%A6%E9%99%A2/No.8/\">预览地址 pc 端食用更佳</a></p>\n<p>ife No.8下面还有一个模仿san官网效果的 结果发现之前已经模仿了2333机缘啊哈哈哈</p>\n<p>[模仿san官网效果文章地址](</p>\n","attributes":{}},"themeConfig":{"title":"Blog(issues)","links":[{"title":"GitHub","url":"https://github.com/xiaotiandada/blog"},{"title":"Twitter","url":"https://twitter.com/XiaoTianIsMe"}]}},"__N_SSG":true}