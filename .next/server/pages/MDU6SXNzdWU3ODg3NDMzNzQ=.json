{"pageProps":{"post":{"id":"MDU6SXNzdWU3ODg3NDMzNzQ=","url":"https://github.com/xiaotiandada/blog/issues/28","title":" dfs æ·±åº¦ä¼˜å…ˆæœç´¢ã€jsã€‘","updatedAt":"2021-01-19T06:23:14Z","createdAt":"2021-01-19T06:23:14Z","body":"2019-08-19 12:32:52\r\n\r\n# èµ„æ–™\r\n\r\né¢˜ç›®: https://www.spoj.com/problems/PT07Z/\r\n\r\n\r\nhttps://zh.wikipedia.org/wiki/%E6%A0%91_(%E5%9B%BE%E8%AE%BA)\r\n\r\nè°¢è°¢å²›è€å¸ˆçš„æ•™å­¦\r\n\r\n[å²›å¨˜blog](http://www.shuizilong.com/house/)\r\n\r\n[å²›å¨˜Github](https://github.com/lychees)\r\n\r\n[å²›å¨˜Youtube](https://www.youtube.com/channel/UCkGmTVYI7xNW-ffuh5oV71Q)\r\n\r\n[code source](https://github.com/xiaotiandada/algorithm)\r\n\r\n\r\n# Go\r\n\r\nä¸‹é¢æ ¹æ®ä¸Šé¢èµ„æ–™çš„wikiå›¾æ¥ç”Ÿæˆçš„ç‚¹å’Œè¾¹ çœ‹ä¸è§å¯èƒ½éœ€è¦ç§‘å­¦ä¸Šç½‘\r\n\r\n<img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/2/24/Tree_graph.svg/360px-Tree_graph.svg.png\">\r\n\r\nç‚¹: 1 2 3 4 5 6\r\n\r\nè¾¹: 14 24 34 45 56\r\n\r\n## è®¾ç½®é¡¶ç‚¹\r\n\r\nä½¿ç”¨ Map https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map\r\n\r\n```js\r\nlet vertexLen = 6; // é¡¶ç‚¹æ•°\r\nlet vertex = new Map(); // é¡¶ç‚¹æ•°æ®é›†åˆ map å¯ä»¥è®¾ç½®é”®å¯¹å€¼ 0 1 2 3 4 5 or 1 2 3 4 5 6 or A B C D E F G ... ...\r\n```\r\n\r\n## è®¾ç½®é¡¶ç‚¹å’Œè¾¹\r\n\r\n```js\r\n/**\r\n * è®¾ç½®é¡¶ç‚¹\r\n * @param {String || Number} v é¡¶ç‚¹\r\n */\r\nconst setVertex = v => vertex.set(v, []);\r\n/**\r\n * è®¾ç½®è¾¹\r\n * @param {String || Number} v1 ç‚¹\r\n * @param {String || Number} v2 ç‚¹\r\n */\r\nconst setVertexEdge = (v1, v2) => {\r\n  vertex.get(v1).push(v2);\r\n  vertex.get(v2).push(v1);\r\n};\r\n\r\n// è®¾ç½®ç‚¹\r\nfor (let i = 1; i <= vertexLen; i++) setVertex(i);\r\n\r\n// å®šä¹‰è¾¹\r\nlet vertexEdge = [[1, 4], [2, 4], [3, 4], [4, 5], [5, 6]];\r\n\r\n// è®¾ç½®è¾¹\r\nfor (let i = 0; i < vertexEdge.length; i++)\r\n  setVertexEdge(vertexEdge[i][0], vertexEdge[i][1]);\r\n\r\n```\r\n\r\nå¾—åˆ°çš„é›†åˆ\r\n\r\n```js\r\nMap {\r\n  1 => [ 4 ],\r\n  2 => [ 4 ],\r\n  3 => [ 4 ],\r\n  4 => [ 1, 2, 3, 5 ],\r\n  5 => [ 4, 6 ],\r\n  6 => [ 5 ] }\r\n```\r\n\r\n## dfs\r\n\r\nvertex ç»“æ„ç›®å‰æ˜¯è¿™æ ·ç‚¹ â¬†ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ â¬†ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ â¬†ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸\r\n\r\n\r\nè¿™ä¸ªæ–¹æ³•ä¸»è¦é€šè¿‡å­˜æ”¾ä¸€ä¸ªmapä¿å­˜è®¿é—®çŠ¶æ€\r\n\r\nå‚è€ƒåœ°å€ https://www.geeksforgeeks.org/implementation-graph-javascript/\r\n\r\n``` js\r\n/**\r\n * dfs\r\n * @param {String || Number} startNode å¼€å§‹ç‚¹\r\n */\r\nconst dfs = startNode => {\r\n  let visited = new Map(); // ä¿æŒå’Œé¡¶ç‚¹ç»“æ„ä¸€æ ·\r\n  for (let i = 1; i <= vertexLen; i++) visited.set(i, false); // è®¾ç½®è®¿é—®çŠ¶æ€\r\n\r\n  // dfs æ–¹æ³•\r\n  const dfsFunc = (startNode, visited) => {\r\n    let z = 0; // é•¿åº¦\r\n    visited.set(startNode, true); // ç¬¬ä¸€ä¸ªç‚¹è®¾ç½®å·²è®¿é—®\r\n    let get_next = vertex.get(startNode); // è·å¾—é¡¶ç‚¹çš„æ‰€æœ‰ä¸´æ¥ç‚¹\r\n    for (let i = 0; i < get_next.length; i++) {\r\n      // å¾ªç¯ä¸´æ¥ç‚¹\r\n      let get_elem = get_next[i]; // å¾—åˆ°å…ƒç´ \r\n      if (!visited.get(get_elem)) {\r\n        // æ˜¯å¦è®¿é—®\r\n        z = Math.max(z, dfsFunc(get_elem, visited) + 1); // å¢åŠ è¾¹æ•°\r\n      }\r\n    }\r\n    return z;\r\n  };\r\n  return dfsFunc(startNode, visited);\r\n};\r\n```\r\n\r\n## dfs\r\n\r\nä¸‹é¢è¿™ä¸ªæ˜¯å²›è€å¸ˆğŸ‘¨â€ğŸ«æ•™æˆ‘æ–¹æ³•\r\n\r\nä¸»è¦é€šè¿‡å­˜çˆ¶èŠ‚ç‚¹æ¥åˆ¤æ–­\r\n\r\n``` js\r\n/**\r\n * dfs\r\n * @param {String || Number} startNode å¼€å§‹ç‚¹\r\n */\r\nconst dfs1 = startNode => {\r\n  // è®°å½•å¼€å§‹ç‚¹å’Œçˆ¶çº§èŠ‚ç‚¹\r\n  const dfsFunc = (startNode, parentNode = -1) => {\r\n    let z = 0; // è®°å½•é•¿åº¦\r\n    let get_next = vertex.get(startNode); // å¾—åˆ°ç›¸é‚»èŠ‚ç‚¹\r\n    for (let i = 0; i < get_next.length; i++) { // å¾ªç¯ç‚¹\r\n      let get_elem = get_next[i]; // å¾—åˆ°ç‚¹\r\n      if (get_elem === parentNode) continue; // å¦‚æœæ˜¯çˆ¶èŠ‚ç‚¹ è·³è¿‡\r\n      z = Math.max(z, dfsFunc(get_elem, startNode) + 1); // é€’å½’æ·»åŠ é•¿åº¦\r\n    }\r\n    return z;\r\n  };\r\n  return dfsFunc(startNode);\r\n};\r\n\r\n```\r\n\r\n\r\n<details>\r\n<summary>æŸ¥çœ‹æ‰€æœ‰ä»£ç </summary>\r\n\r\n\r\n``` js\r\nlet vertexLen = 6; // é¡¶ç‚¹æ•°\r\nlet vertex = new Map(); // é¡¶ç‚¹æ•°æ®é›†åˆ map å¯ä»¥è®¾ç½®é”®å¯¹å€¼ 0 1 2 3 4 5 or 1 2 3 4 5 6 or A B C D E F G ... ...\r\n\r\n/**\r\n * è®¾ç½®é¡¶ç‚¹\r\n * @param {String || Number} v é¡¶ç‚¹\r\n */\r\nconst setVertex = v => vertex.set(v, []);\r\n/**\r\n * è®¾ç½®è¾¹\r\n * @param {String || Number} v1 ç‚¹\r\n * @param {String || Number} v2 ç‚¹\r\n */\r\nconst setVertexEdge = (v1, v2) => {\r\n  vertex.get(v1).push(v2);\r\n  vertex.get(v2).push(v1);\r\n};\r\n\r\n// è®¾ç½®ç‚¹\r\nfor (let i = 1; i <= vertexLen; i++) setVertex(i);\r\n\r\n// å®šä¹‰è¾¹\r\nlet vertexEdge = [[1, 4], [2, 4], [3, 4], [4, 5], [5, 6]];\r\n\r\n// è®¾ç½®è¾¹\r\nfor (let i = 0; i < vertexEdge.length; i++)\r\n  setVertexEdge(vertexEdge[i][0], vertexEdge[i][1]);\r\n\r\n/**\r\n * dfs\r\n * @param {String || Number} startNode å¼€å§‹ç‚¹\r\n */\r\nconst dfs = startNode => {\r\n  let visited = new Map(); // ä¿æŒå’Œé¡¶ç‚¹ç»“æ„ä¸€æ ·\r\n  for (let i = 1; i <= vertexLen; i++) visited.set(i, false); // è®¾ç½®è®¿é—®çŠ¶æ€\r\n\r\n  // dfs æ–¹æ³•\r\n  const dfsFunc = (startNode, visited) => {\r\n    let z = 0; // é•¿åº¦\r\n    visited.set(startNode, true); // ç¬¬ä¸€ä¸ªç‚¹è®¾ç½®å·²è®¿é—®\r\n    let get_next = vertex.get(startNode); // è·å¾—é¡¶ç‚¹çš„æ‰€æœ‰ä¸´æ¥ç‚¹\r\n    for (let i = 0; i < get_next.length; i++) {\r\n      // å¾ªç¯ä¸´æ¥ç‚¹\r\n      let get_elem = get_next[i]; // å¾—åˆ°å…ƒç´ \r\n      if (!visited.get(get_elem)) {\r\n        // æ˜¯å¦è®¿é—®\r\n        z = Math.max(z, dfsFunc(get_elem, visited) + 1); // å¢åŠ è¾¹æ•°\r\n      }\r\n    }\r\n    return z;\r\n  };\r\n  return dfsFunc(startNode, visited);\r\n};\r\n\r\n/**\r\n * dfs\r\n * @param {String || Number} startNode å¼€å§‹ç‚¹\r\n */\r\nconst dfs1 = startNode => {\r\n  // è®°å½•å¼€å§‹ç‚¹å’Œçˆ¶çº§èŠ‚ç‚¹\r\n  const dfsFunc = (startNode, parentNode = -1) => {\r\n    let z = 0; // è®°å½•é•¿åº¦\r\n    let get_next = vertex.get(startNode); // å¾—åˆ°ç›¸é‚»èŠ‚ç‚¹\r\n    for (let i = 0; i < get_next.length; i++) { // å¾ªç¯ç‚¹\r\n      let get_elem = get_next[i]; // å¾—åˆ°ç‚¹\r\n      if (get_elem === parentNode) continue; // å¦‚æœæ˜¯çˆ¶èŠ‚ç‚¹ è·³è¿‡\r\n      z = Math.max(z, dfsFunc(get_elem, startNode) + 1); // é€’å½’æ·»åŠ é•¿åº¦\r\n    }\r\n    return z;\r\n  };\r\n  return dfsFunc(startNode);\r\n};\r\n\r\nlet z = dfs(1);\r\nconsole.log(z);\r\n\r\nlet z1 = dfs1(1);\r\nconsole.log(z1);\r\n\r\nconsole.log(vertex);\r\n\r\n```\r\n\r\n</details>\r\n\r\n------\r\n\r\n\r\n--- åˆ†å‰²çº¿ ---\r\n\r\nå¾ˆé—æ†¾ä¸Šé¢çš„æ˜¯æœ‰é—®é¢˜çš„\r\n\r\n[å²›è€å¸ˆçš„ä½œä¸šæ‰¹æ”¹](http://www.shuizilong.com/house/archives/pt07z/)\r\n\r\n- æ•°æ®æ²¡æœ‰ä» IO è¯»å…¥è¯»å‡ºã€‚\r\n\r\n- ç¬¬ä¸€ä¸ª dfs æ±‚å‡ºçš„ä¸æ˜¯æœ€è¿œçš„ç«¯ç‚¹ã€‚\r\n\r\n\r\næ­£ç¡®çš„è§£æ³•åº”è¯¥æ˜¯å…ˆæ±‚æœ€æ·±çš„ä¸€ä¸ªç«¯ç‚¹,ç„¶åç”¨ä»è¿™ä¸ªç«¯ç‚¹å†æœç´¢ä¸€æ¬¡.\r\n\r\n> Â Â å› ä¸º js åœ¨ https://www.spoj.com è·‘ä¸è¿‡, åœ¨http://codeforces.com å¯ä»¥è·‘ä½†æ˜¯æ²¡æ‰¾åˆ°é¢˜ç›®,ç„¶åå°±é€‰ç”¨äº†c++ \r\n\r\nåœ¨codeforces jsè¾“å…¥è¾“å‡º\r\n\r\nhttp://codeforces.com/blog/entry/10594\r\n\r\nhttp://codeforces.com/blog/entry/64707\r\n\r\n\r\n---\r\n\r\n``` c++\r\n// u å¼€å§‹ç‚¹ p çˆ¶èŠ‚ç‚¹\r\npair<int, int> dfs(int u, int p = -1) {\r\n  // z first é•¿åº¦ z second æœ€æ·±ç‚¹\r\n  // first += 1 second ä¸º u\r\n  pair<int, int> z = {0, u};\r\n  // for edge u çš„ è¾¹\r\n  for(auto v: edge[u]) {\r\n    // å¦‚æœæ˜¯çˆ¶çº§ç‚¹ è·³è¿‡\r\n    if (v == p) continue;\r\n    z = max(z, dfs(v, u));\r\n  }\r\n  // è¾¹+1\r\n  z.first += 1;\r\n  return z;\r\n}\r\n```\r\n\r\n<details>\r\n<summary>æŸ¥çœ‹æ‰€æœ‰ä»£ç </summary>\r\n\r\n\r\n``` c++\r\n#include <iostream>\r\n#include <vector>\r\nusing namespace std;\r\n\r\nconst int N = 1e6;\r\nvector<int> edge[N];\r\n\r\n// u å¼€å§‹ç‚¹ p çˆ¶èŠ‚ç‚¹\r\npair<int, int> dfs(int u, int p = -1) {\r\n  // z first é•¿åº¦ z second æœ€æ·±ç‚¹\r\n  // first += 1 second ä¸º u\r\n  pair<int, int> z = {0, u};\r\n  // for edge u çš„ è¾¹\r\n  for(auto v: edge[u]) {\r\n    // å¦‚æœæ˜¯çˆ¶çº§ç‚¹ è·³è¿‡\r\n    if (v == p) continue;\r\n    z = max(z, dfs(v, u));\r\n  }\r\n  // è¾¹+1\r\n  z.first += 1;\r\n  return z;\r\n}\r\n\r\n\r\nint main() {\r\n  int n;\r\n  // è¾“å…¥\r\n  cin >> n;\r\n  \r\n  // è¾“å…¥ç«¯ç‚¹å¾ªç¯ä¸‹é¢çš„è¾¹\r\n  for(int i = 0; i < n - 1; i++) {\r\n    int v, u;\r\n    cin >> v >> u;\r\n    edge[v].push_back(u);\r\n    edge[u].push_back(v);\r\n  }\r\n  \r\n  // å¾—åˆ°æœ€æ·±çš„ç«¯ç‚¹\r\n  pair<int, int> z = dfs(1);\r\n  // ä»æœ€æ·±çš„ç«¯ç‚¹æœç´¢\r\n  z = dfs(z.second);\r\n\r\n  // è¾¹-1\r\n  cout << z.first-1 << endl;\r\n}\r\n\r\n```\r\n\r\n</details>\r\n\r\n\r\nå¸Œæœ›çœ‹åˆ°çš„å¤§ä½¬å¯ä»¥å¤šå¤šæŒ‡ç‚¹è¿·æ´¥!!! å³è¾¹æœ‰æˆ‘çš„è”ç³»æ–¹å¼ğŸ’—ğŸ’—","comments":{"nodes":[]},"reactionGroups":[{"content":"THUMBS_UP","reactors":{"totalCount":0}},{"content":"THUMBS_DOWN","reactors":{"totalCount":0}},{"content":"LAUGH","reactors":{"totalCount":0}},{"content":"HOORAY","reactors":{"totalCount":0}},{"content":"CONFUSED","reactors":{"totalCount":0}},{"content":"HEART","reactors":{"totalCount":0}},{"content":"ROCKET","reactors":{"totalCount":0}},{"content":"EYES","reactors":{"totalCount":0}}],"author":{"login":"xiaotiandada","url":"https://github.com/xiaotiandada","avatarUrl":"https://avatars.githubusercontent.com/u/24250627?u=51a93e07957381123eb9fbdd6407de36033b578d&v=4"},"html":"<p>2019-08-19 12:32:52</p>\n<h1 id=\"èµ„æ–™\">èµ„æ–™</h1>\n<p>é¢˜ç›®: <a href=\"https://www.spoj.com/problems/PT07Z/\">https://www.spoj.com/problems/PT07Z/</a></p>\n<p><a href=\"https://zh.wikipedia.org/wiki/%E6%A0%91_(%E5%9B%BE%E8%AE%BA)\">https://zh.wikipedia.org/wiki/%E6%A0%91_(%E5%9B%BE%E8%AE%BA)</a></p>\n<p>è°¢è°¢å²›è€å¸ˆçš„æ•™å­¦</p>\n<p><a href=\"http://www.shuizilong.com/house/\">å²›å¨˜blog</a></p>\n<p><a href=\"https://github.com/lychees\">å²›å¨˜Github</a></p>\n<p><a href=\"https://www.youtube.com/channel/UCkGmTVYI7xNW-ffuh5oV71Q\">å²›å¨˜Youtube</a></p>\n<p><a href=\"https://github.com/xiaotiandada/algorithm\">code source</a></p>\n<h1 id=\"go\">Go</h1>\n<p>ä¸‹é¢æ ¹æ®ä¸Šé¢èµ„æ–™çš„wikiå›¾æ¥ç”Ÿæˆçš„ç‚¹å’Œè¾¹ çœ‹ä¸è§å¯èƒ½éœ€è¦ç§‘å­¦ä¸Šç½‘</p>\n<img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/2/24/Tree_graph.svg/360px-Tree_graph.svg.png\">\n\n<p>ç‚¹: 1 2 3 4 5 6</p>\n<p>è¾¹: 14 24 34 45 56</p>\n<h2 id=\"è®¾ç½®é¡¶ç‚¹\">è®¾ç½®é¡¶ç‚¹</h2>\n<p>ä½¿ç”¨ Map <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map\">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map</a></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> vertexLen <span class=\"token operator\">=</span> <span class=\"token number\">6</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// é¡¶ç‚¹æ•°</span>\n<span class=\"token keyword\">let</span> vertex <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// é¡¶ç‚¹æ•°æ®é›†åˆ map å¯ä»¥è®¾ç½®é”®å¯¹å€¼ 0 1 2 3 4 5 or 1 2 3 4 5 6 or A B C D E F G ... ...</span></code></pre><h2 id=\"è®¾ç½®é¡¶ç‚¹å’Œè¾¹\">è®¾ç½®é¡¶ç‚¹å’Œè¾¹</h2>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * è®¾ç½®é¡¶ç‚¹\n * @param {String || Number} v é¡¶ç‚¹\n */</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">setVertex</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">v</span> <span class=\"token operator\">=></span> vertex<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/**\n * è®¾ç½®è¾¹\n * @param {String || Number} v1 ç‚¹\n * @param {String || Number} v2 ç‚¹\n */</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">setVertexEdge</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">v1<span class=\"token punctuation\">,</span> v2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  vertex<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>v1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>v2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  vertex<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>v2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>v1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// è®¾ç½®ç‚¹</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> vertexLen<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token function\">setVertex</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// å®šä¹‰è¾¹</span>\n<span class=\"token keyword\">let</span> vertexEdge <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// è®¾ç½®è¾¹</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> vertexEdge<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">setVertexEdge</span><span class=\"token punctuation\">(</span>vertexEdge<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> vertexEdge<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><p>å¾—åˆ°çš„é›†åˆ</p>\n<pre class=\"language-js\"><code class=\"language-js\">Map <span class=\"token punctuation\">{</span>\n  <span class=\"token number\">1</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token number\">2</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token number\">3</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token number\">4</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token number\">5</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token number\">6</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span> <span class=\"token number\">5</span> <span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span></code></pre><h2 id=\"dfs\">dfs</h2>\n<p>vertex ç»“æ„ç›®å‰æ˜¯è¿™æ ·ç‚¹ â¬†ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ â¬†ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ â¬†ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸ï¸</p>\n<p>è¿™ä¸ªæ–¹æ³•ä¸»è¦é€šè¿‡å­˜æ”¾ä¸€ä¸ªmapä¿å­˜è®¿é—®çŠ¶æ€</p>\n<p>å‚è€ƒåœ°å€ <a href=\"https://www.geeksforgeeks.org/implementation-graph-javascript/\">https://www.geeksforgeeks.org/implementation-graph-javascript/</a></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * dfs\n * @param {String || Number} startNode å¼€å§‹ç‚¹\n */</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">dfs</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">startNode</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> visited <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ä¿æŒå’Œé¡¶ç‚¹ç»“æ„ä¸€æ ·</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> vertexLen<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> visited<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è®¾ç½®è®¿é—®çŠ¶æ€</span>\n\n  <span class=\"token comment\">// dfs æ–¹æ³•</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">dfsFunc</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">startNode<span class=\"token punctuation\">,</span> visited</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> z <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// é•¿åº¦</span>\n    visited<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>startNode<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ç¬¬ä¸€ä¸ªç‚¹è®¾ç½®å·²è®¿é—®</span>\n    <span class=\"token keyword\">let</span> get_next <span class=\"token operator\">=</span> vertex<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>startNode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è·å¾—é¡¶ç‚¹çš„æ‰€æœ‰ä¸´æ¥ç‚¹</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> get_next<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// å¾ªç¯ä¸´æ¥ç‚¹</span>\n      <span class=\"token keyword\">let</span> get_elem <span class=\"token operator\">=</span> get_next<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å¾—åˆ°å…ƒç´ </span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>visited<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>get_elem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// æ˜¯å¦è®¿é—®</span>\n        z <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span>z<span class=\"token punctuation\">,</span> <span class=\"token function\">dfsFunc</span><span class=\"token punctuation\">(</span>get_elem<span class=\"token punctuation\">,</span> visited<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å¢åŠ è¾¹æ•°</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> z<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">dfsFunc</span><span class=\"token punctuation\">(</span>startNode<span class=\"token punctuation\">,</span> visited<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre><h2 id=\"dfs-1\">dfs</h2>\n<p>ä¸‹é¢è¿™ä¸ªæ˜¯å²›è€å¸ˆğŸ‘¨â€ğŸ«æ•™æˆ‘æ–¹æ³•</p>\n<p>ä¸»è¦é€šè¿‡å­˜çˆ¶èŠ‚ç‚¹æ¥åˆ¤æ–­</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * dfs\n * @param {String || Number} startNode å¼€å§‹ç‚¹\n */</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">dfs1</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">startNode</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// è®°å½•å¼€å§‹ç‚¹å’Œçˆ¶çº§èŠ‚ç‚¹</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">dfsFunc</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">startNode<span class=\"token punctuation\">,</span> parentNode <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> z <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è®°å½•é•¿åº¦</span>\n    <span class=\"token keyword\">let</span> get_next <span class=\"token operator\">=</span> vertex<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>startNode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å¾—åˆ°ç›¸é‚»èŠ‚ç‚¹</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> get_next<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// å¾ªç¯ç‚¹</span>\n      <span class=\"token keyword\">let</span> get_elem <span class=\"token operator\">=</span> get_next<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å¾—åˆ°ç‚¹</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>get_elem <span class=\"token operator\">===</span> parentNode<span class=\"token punctuation\">)</span> <span class=\"token keyword\">continue</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å¦‚æœæ˜¯çˆ¶èŠ‚ç‚¹ è·³è¿‡</span>\n      z <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span>z<span class=\"token punctuation\">,</span> <span class=\"token function\">dfsFunc</span><span class=\"token punctuation\">(</span>get_elem<span class=\"token punctuation\">,</span> startNode<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// é€’å½’æ·»åŠ é•¿åº¦</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> z<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">dfsFunc</span><span class=\"token punctuation\">(</span>startNode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre><details>\n<summary>æŸ¥çœ‹æ‰€æœ‰ä»£ç </summary>\n\n\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> vertexLen <span class=\"token operator\">=</span> <span class=\"token number\">6</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// é¡¶ç‚¹æ•°</span>\n<span class=\"token keyword\">let</span> vertex <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// é¡¶ç‚¹æ•°æ®é›†åˆ map å¯ä»¥è®¾ç½®é”®å¯¹å€¼ 0 1 2 3 4 5 or 1 2 3 4 5 6 or A B C D E F G ... ...</span>\n\n<span class=\"token comment\">/**\n * è®¾ç½®é¡¶ç‚¹\n * @param {String || Number} v é¡¶ç‚¹\n */</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">setVertex</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">v</span> <span class=\"token operator\">=></span> vertex<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/**\n * è®¾ç½®è¾¹\n * @param {String || Number} v1 ç‚¹\n * @param {String || Number} v2 ç‚¹\n */</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">setVertexEdge</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">v1<span class=\"token punctuation\">,</span> v2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  vertex<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>v1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>v2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  vertex<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>v2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>v1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// è®¾ç½®ç‚¹</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> vertexLen<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token function\">setVertex</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// å®šä¹‰è¾¹</span>\n<span class=\"token keyword\">let</span> vertexEdge <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// è®¾ç½®è¾¹</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> vertexEdge<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n  <span class=\"token function\">setVertexEdge</span><span class=\"token punctuation\">(</span>vertexEdge<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> vertexEdge<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n * dfs\n * @param {String || Number} startNode å¼€å§‹ç‚¹\n */</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">dfs</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">startNode</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> visited <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ä¿æŒå’Œé¡¶ç‚¹ç»“æ„ä¸€æ ·</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> vertexLen<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> visited<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è®¾ç½®è®¿é—®çŠ¶æ€</span>\n\n  <span class=\"token comment\">// dfs æ–¹æ³•</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">dfsFunc</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">startNode<span class=\"token punctuation\">,</span> visited</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> z <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// é•¿åº¦</span>\n    visited<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>startNode<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ç¬¬ä¸€ä¸ªç‚¹è®¾ç½®å·²è®¿é—®</span>\n    <span class=\"token keyword\">let</span> get_next <span class=\"token operator\">=</span> vertex<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>startNode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è·å¾—é¡¶ç‚¹çš„æ‰€æœ‰ä¸´æ¥ç‚¹</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> get_next<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// å¾ªç¯ä¸´æ¥ç‚¹</span>\n      <span class=\"token keyword\">let</span> get_elem <span class=\"token operator\">=</span> get_next<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å¾—åˆ°å…ƒç´ </span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>visited<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>get_elem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// æ˜¯å¦è®¿é—®</span>\n        z <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span>z<span class=\"token punctuation\">,</span> <span class=\"token function\">dfsFunc</span><span class=\"token punctuation\">(</span>get_elem<span class=\"token punctuation\">,</span> visited<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å¢åŠ è¾¹æ•°</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> z<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">dfsFunc</span><span class=\"token punctuation\">(</span>startNode<span class=\"token punctuation\">,</span> visited<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n * dfs\n * @param {String || Number} startNode å¼€å§‹ç‚¹\n */</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">dfs1</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">startNode</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// è®°å½•å¼€å§‹ç‚¹å’Œçˆ¶çº§èŠ‚ç‚¹</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">dfsFunc</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">startNode<span class=\"token punctuation\">,</span> parentNode <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> z <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è®°å½•é•¿åº¦</span>\n    <span class=\"token keyword\">let</span> get_next <span class=\"token operator\">=</span> vertex<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>startNode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å¾—åˆ°ç›¸é‚»èŠ‚ç‚¹</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> get_next<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// å¾ªç¯ç‚¹</span>\n      <span class=\"token keyword\">let</span> get_elem <span class=\"token operator\">=</span> get_next<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å¾—åˆ°ç‚¹</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>get_elem <span class=\"token operator\">===</span> parentNode<span class=\"token punctuation\">)</span> <span class=\"token keyword\">continue</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// å¦‚æœæ˜¯çˆ¶èŠ‚ç‚¹ è·³è¿‡</span>\n      z <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span>z<span class=\"token punctuation\">,</span> <span class=\"token function\">dfsFunc</span><span class=\"token punctuation\">(</span>get_elem<span class=\"token punctuation\">,</span> startNode<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// é€’å½’æ·»åŠ é•¿åº¦</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> z<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">dfsFunc</span><span class=\"token punctuation\">(</span>startNode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> z <span class=\"token operator\">=</span> <span class=\"token function\">dfs</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>z<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> z1 <span class=\"token operator\">=</span> <span class=\"token function\">dfs1</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>z1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>vertex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></details>\n\n<hr>\n<p>--- åˆ†å‰²çº¿ ---</p>\n<p>å¾ˆé—æ†¾ä¸Šé¢çš„æ˜¯æœ‰é—®é¢˜çš„</p>\n<p><a href=\"http://www.shuizilong.com/house/archives/pt07z/\">å²›è€å¸ˆçš„ä½œä¸šæ‰¹æ”¹</a></p>\n<ul>\n<li><p>æ•°æ®æ²¡æœ‰ä» IO è¯»å…¥è¯»å‡ºã€‚</p>\n</li>\n<li><p>ç¬¬ä¸€ä¸ª dfs æ±‚å‡ºçš„ä¸æ˜¯æœ€è¿œçš„ç«¯ç‚¹ã€‚</p>\n</li>\n</ul>\n<p>æ­£ç¡®çš„è§£æ³•åº”è¯¥æ˜¯å…ˆæ±‚æœ€æ·±çš„ä¸€ä¸ªç«¯ç‚¹,ç„¶åç”¨ä»è¿™ä¸ªç«¯ç‚¹å†æœç´¢ä¸€æ¬¡.</p>\n<blockquote>\n<p>Â Â å› ä¸º js åœ¨ <a href=\"https://www.spoj.com\">https://www.spoj.com</a> è·‘ä¸è¿‡, åœ¨<a href=\"http://codeforces.com\">http://codeforces.com</a> å¯ä»¥è·‘ä½†æ˜¯æ²¡æ‰¾åˆ°é¢˜ç›®,ç„¶åå°±é€‰ç”¨äº†c++ </p>\n</blockquote>\n<p>åœ¨codeforces jsè¾“å…¥è¾“å‡º</p>\n<p><a href=\"http://codeforces.com/blog/entry/10594\">http://codeforces.com/blog/entry/10594</a></p>\n<p><a href=\"http://codeforces.com/blog/entry/64707\">http://codeforces.com/blog/entry/64707</a></p>\n<hr>\n<pre class=\"language-c++\"><code class=\"language-c++\">// u å¼€å§‹ç‚¹ p çˆ¶èŠ‚ç‚¹\npair<int, int> dfs(int u, int p = -1) {\n  // z first é•¿åº¦ z second æœ€æ·±ç‚¹\n  // first += 1 second ä¸º u\n  pair<int, int> z = {0, u};\n  // for edge u çš„ è¾¹\n  for(auto v: edge[u]) {\n    // å¦‚æœæ˜¯çˆ¶çº§ç‚¹ è·³è¿‡\n    if (v == p) continue;\n    z = max(z, dfs(v, u));\n  }\n  // è¾¹+1\n  z.first += 1;\n  return z;\n}</code></pre><details>\n<summary>æŸ¥çœ‹æ‰€æœ‰ä»£ç </summary>\n\n\n<pre class=\"language-c++\"><code class=\"language-c++\">#include <iostream>\n#include <vector>\nusing namespace std;\n\nconst int N = 1e6;\nvector<int> edge[N];\n\n// u å¼€å§‹ç‚¹ p çˆ¶èŠ‚ç‚¹\npair<int, int> dfs(int u, int p = -1) {\n  // z first é•¿åº¦ z second æœ€æ·±ç‚¹\n  // first += 1 second ä¸º u\n  pair<int, int> z = {0, u};\n  // for edge u çš„ è¾¹\n  for(auto v: edge[u]) {\n    // å¦‚æœæ˜¯çˆ¶çº§ç‚¹ è·³è¿‡\n    if (v == p) continue;\n    z = max(z, dfs(v, u));\n  }\n  // è¾¹+1\n  z.first += 1;\n  return z;\n}\n\n\nint main() {\n  int n;\n  // è¾“å…¥\n  cin >> n;\n  \n  // è¾“å…¥ç«¯ç‚¹å¾ªç¯ä¸‹é¢çš„è¾¹\n  for(int i = 0; i < n - 1; i++) {\n    int v, u;\n    cin >> v >> u;\n    edge[v].push_back(u);\n    edge[u].push_back(v);\n  }\n  \n  // å¾—åˆ°æœ€æ·±çš„ç«¯ç‚¹\n  pair<int, int> z = dfs(1);\n  // ä»æœ€æ·±çš„ç«¯ç‚¹æœç´¢\n  z = dfs(z.second);\n\n  // è¾¹-1\n  cout << z.first-1 << endl;\n}\n</code></pre></details>\n\n\n<p>å¸Œæœ›çœ‹åˆ°çš„å¤§ä½¬å¯ä»¥å¤šå¤šæŒ‡ç‚¹è¿·æ´¥!!! å³è¾¹æœ‰æˆ‘çš„è”ç³»æ–¹å¼ğŸ’—ğŸ’—</p>\n","attributes":{}},"themeConfig":{"title":"Blog(issues)","links":[{"title":"GitHub","url":"https://github.com/xiaotiandada/blog"},{"title":"Twitter","url":"https://twitter.com/XiaoTianIsMe"}]}},"__N_SSG":true}