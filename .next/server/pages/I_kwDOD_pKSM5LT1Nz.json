{"pageProps":{"post":{"id":"I_kwDOD_pKSM5LT1Nz","url":"https://github.com/xiaotiandada/blog/issues/112","title":"Cross-Origin-Opener-Policy","updatedAt":"2022-06-07T15:36:44Z","createdAt":"2022-06-07T15:34:31Z","body":"- https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cross-Origin-Opener-Policy\r\n\r\n```ts\r\n[\r\n  {\r\n    key: 'Cross-Origin-Embedder-Policy',\r\n    value: 'require-corp',\r\n  },\r\n  {\r\n    key: 'Cross-Origin-Opener-Policy',\r\n    value: 'same-origin',\r\n  },\r\n]\r\n```\r\n\r\n如果需要浏览器支持 [SharedArrayBuffer](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer) 需要设置 header `same-origin`\r\n\r\n```ts\r\nCross-Origin-Opener-Policy: same-origin\r\nCross-Origin-Embedder-Policy: require-corp\r\n```\r\n\r\n- https://web.dev/why-coop-coep/?utm_source=devtools\r\n- https://developer.chrome.com/docs/extensions/mv3/cross-origin-isolation/\r\n- https://github.com/camillelamy/explainers/blob/main/anonymous_iframes.md\r\n- https://developer.chrome.com/origintrials/#/register_trial/303992974847508481\r\n- https://blog.agektmr.com/2021/11/cross-origin-isolation.html\r\n- https://first-party-test.glitch.me/\r\n- https://stackoverflow.com/questions/70535752/enable-sharedarraybuffer-on-localhost\r\n\r\n","comments":{"nodes":[]},"reactionGroups":[{"content":"THUMBS_UP","reactors":{"totalCount":0}},{"content":"THUMBS_DOWN","reactors":{"totalCount":0}},{"content":"LAUGH","reactors":{"totalCount":0}},{"content":"HOORAY","reactors":{"totalCount":0}},{"content":"CONFUSED","reactors":{"totalCount":0}},{"content":"HEART","reactors":{"totalCount":0}},{"content":"ROCKET","reactors":{"totalCount":0}},{"content":"EYES","reactors":{"totalCount":0}}],"author":{"login":"xiaotiandada","url":"https://github.com/xiaotiandada","avatarUrl":"https://avatars.githubusercontent.com/u/24250627?u=51a93e07957381123eb9fbdd6407de36033b578d&v=4"},"html":"<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cross-Origin-Opener-Policy\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cross-Origin-Opener-Policy</a></li>\n</ul>\n<pre class=\"language-ts\"><code class=\"language-ts\">[\n  {\n    key: 'Cross-Origin-Embedder-Policy',\n    value: 'require-corp',\n  },\n  {\n    key: 'Cross-Origin-Opener-Policy',\n    value: 'same-origin',\n  },\n]</code></pre><p>如果需要浏览器支持 <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer\">SharedArrayBuffer</a> 需要设置 header <code>same-origin</code></p>\n<pre class=\"language-ts\"><code class=\"language-ts\">Cross-Origin-Opener-Policy: same-origin\nCross-Origin-Embedder-Policy: require-corp</code></pre><ul>\n<li><a href=\"https://web.dev/why-coop-coep/?utm_source=devtools\">https://web.dev/why-coop-coep/?utm_source=devtools</a></li>\n<li><a href=\"https://developer.chrome.com/docs/extensions/mv3/cross-origin-isolation/\">https://developer.chrome.com/docs/extensions/mv3/cross-origin-isolation/</a></li>\n<li><a href=\"https://github.com/camillelamy/explainers/blob/main/anonymous_iframes.md\">https://github.com/camillelamy/explainers/blob/main/anonymous_iframes.md</a></li>\n<li><a href=\"https://developer.chrome.com/origintrials/#/register_trial/303992974847508481\">https://developer.chrome.com/origintrials/#/register_trial/303992974847508481</a></li>\n<li><a href=\"https://blog.agektmr.com/2021/11/cross-origin-isolation.html\">https://blog.agektmr.com/2021/11/cross-origin-isolation.html</a></li>\n<li><a href=\"https://first-party-test.glitch.me/\">https://first-party-test.glitch.me/</a></li>\n<li><a href=\"https://stackoverflow.com/questions/70535752/enable-sharedarraybuffer-on-localhost\">https://stackoverflow.com/questions/70535752/enable-sharedarraybuffer-on-localhost</a></li>\n</ul>\n","attributes":{}},"themeConfig":{"title":"Blog(issues)","links":[{"title":"GitHub","url":"https://github.com/xiaotiandada/blog"},{"title":"Twitter","url":"https://twitter.com/XiaoTianIsMe"}]}},"__N_SSG":true}