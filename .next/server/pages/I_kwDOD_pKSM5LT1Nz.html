<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Cross-Origin-Opener-Policy - Blog(issues)</title><meta property="og:type" content="artical"/><meta property="og:title" content="Cross-Origin-Opener-Policy"/><meta property="og:image" content="
        https://og-image.vercel.app/Cross-Origin-Opener-Policy.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fvercel-triangle-black.svg
      "/><meta property="article:published_time" content="2022-06-07T15:34:31Z"/><meta property="article:author" content="xiaotiandada"/><meta name="twitter:card" content="Cross-Origin-Opener-Policy"/><meta name="twitter:title" content="Cross-Origin-Opener-Policy"/><meta name="twitter:image" content="
        https://og-image.vercel.app/Cross-Origin-Opener-Policy.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fvercel-triangle-black.svg
      "/><meta name="next-head-count" content="4"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""/><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&amp;display=swap" rel="stylesheet"/><link rel="preload" href="/_next/static/css/b78bfc7021c6877d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b78bfc7021c6877d.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-2190439a97dca295.js" defer=""></script><script src="/_next/static/chunks/pages/_app-2aac380799256b7f.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...path%5D-e0b96643230aac68.js" defer=""></script><script src="/_next/static/YPEk3V-eoVeml18YoUSCM/_buildManifest.js" defer=""></script><script src="/_next/static/YPEk3V-eoVeml18YoUSCM/_ssgManifest.js" defer=""></script><script src="/_next/static/YPEk3V-eoVeml18YoUSCM/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div><div class="container mx-auto mt-24 max-w-2xl px-4 sm:px-0"><div><div class="flex my-8 font-bold"><a href="/">Blog(issues)</a></div></div><div class="mb-8"><div class="text-3xl font-medium">Cross-Origin-Opener-Policy</div><div class="flex mt-4 items-center gap-2"><img class="w-8 h-8 rounded-full" src="https://avatars.githubusercontent.com/u/24250627?u=51a93e07957381123eb9fbdd6407de36033b578d&amp;v=4"/><a target="_blank" href="https://github.com/xiaotiandada">xiaotiandada</a><a class="underline text-sm" target="_blank" href="https://github.com/xiaotiandada/blog/issues/112">View on GitHub</a></div><div class="my-8"><div class="flex gap-4 flex-wrap"></div></div></div><div class="post-body"><ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cross-Origin-Opener-Policy">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cross-Origin-Opener-Policy</a></li>
</ul>
<pre class="language-ts"><code class="language-ts">[
  {
    key: 'Cross-Origin-Embedder-Policy',
    value: 'require-corp',
  },
  {
    key: 'Cross-Origin-Opener-Policy',
    value: 'same-origin',
  },
]</code></pre><p>如果需要浏览器支持 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer">SharedArrayBuffer</a> 需要设置 header <code>same-origin</code></p>
<pre class="language-ts"><code class="language-ts">Cross-Origin-Opener-Policy: same-origin
Cross-Origin-Embedder-Policy: require-corp</code></pre><ul>
<li><a href="https://web.dev/why-coop-coep/?utm_source=devtools">https://web.dev/why-coop-coep/?utm_source=devtools</a></li>
<li><a href="https://developer.chrome.com/docs/extensions/mv3/cross-origin-isolation/">https://developer.chrome.com/docs/extensions/mv3/cross-origin-isolation/</a></li>
<li><a href="https://github.com/camillelamy/explainers/blob/main/anonymous_iframes.md">https://github.com/camillelamy/explainers/blob/main/anonymous_iframes.md</a></li>
<li><a href="https://developer.chrome.com/origintrials/#/register_trial/303992974847508481">https://developer.chrome.com/origintrials/#/register_trial/303992974847508481</a></li>
<li><a href="https://blog.agektmr.com/2021/11/cross-origin-isolation.html">https://blog.agektmr.com/2021/11/cross-origin-isolation.html</a></li>
<li><a href="https://first-party-test.glitch.me/">https://first-party-test.glitch.me/</a></li>
<li><a href="https://stackoverflow.com/questions/70535752/enable-sharedarraybuffer-on-localhost">https://stackoverflow.com/questions/70535752/enable-sharedarraybuffer-on-localhost</a></li>
</ul>
</div><hr class="my-12"/><div class="font-sans"><div class="mb-12"><a target="_blank" href="https://github.com/xiaotiandada/blog/issues/112" class="font-medium border border-gray-700 hover:bg-gray-700 hover:text-gray-100 transition-all text-gray-700 text-sm rounded px-4 py-2">Add comment</a></div></div><div class="my-12"><div class="text-sm">Powered by <a class="underline" target="_blank" href="https://github.com/djyde/sairin">Sairin</a></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"I_kwDOD_pKSM5LT1Nz","url":"https://github.com/xiaotiandada/blog/issues/112","title":"Cross-Origin-Opener-Policy","updatedAt":"2022-06-07T15:36:44Z","createdAt":"2022-06-07T15:34:31Z","body":"- https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cross-Origin-Opener-Policy\r\n\r\n```ts\r\n[\r\n  {\r\n    key: 'Cross-Origin-Embedder-Policy',\r\n    value: 'require-corp',\r\n  },\r\n  {\r\n    key: 'Cross-Origin-Opener-Policy',\r\n    value: 'same-origin',\r\n  },\r\n]\r\n```\r\n\r\n如果需要浏览器支持 [SharedArrayBuffer](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer) 需要设置 header `same-origin`\r\n\r\n```ts\r\nCross-Origin-Opener-Policy: same-origin\r\nCross-Origin-Embedder-Policy: require-corp\r\n```\r\n\r\n- https://web.dev/why-coop-coep/?utm_source=devtools\r\n- https://developer.chrome.com/docs/extensions/mv3/cross-origin-isolation/\r\n- https://github.com/camillelamy/explainers/blob/main/anonymous_iframes.md\r\n- https://developer.chrome.com/origintrials/#/register_trial/303992974847508481\r\n- https://blog.agektmr.com/2021/11/cross-origin-isolation.html\r\n- https://first-party-test.glitch.me/\r\n- https://stackoverflow.com/questions/70535752/enable-sharedarraybuffer-on-localhost\r\n\r\n","comments":{"nodes":[]},"reactionGroups":[{"content":"THUMBS_UP","reactors":{"totalCount":0}},{"content":"THUMBS_DOWN","reactors":{"totalCount":0}},{"content":"LAUGH","reactors":{"totalCount":0}},{"content":"HOORAY","reactors":{"totalCount":0}},{"content":"CONFUSED","reactors":{"totalCount":0}},{"content":"HEART","reactors":{"totalCount":0}},{"content":"ROCKET","reactors":{"totalCount":0}},{"content":"EYES","reactors":{"totalCount":0}}],"author":{"login":"xiaotiandada","url":"https://github.com/xiaotiandada","avatarUrl":"https://avatars.githubusercontent.com/u/24250627?u=51a93e07957381123eb9fbdd6407de36033b578d\u0026v=4"},"html":"\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cross-Origin-Opener-Policy\"\u003ehttps://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cross-Origin-Opener-Policy\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre class=\"language-ts\"\u003e\u003ccode class=\"language-ts\"\u003e[\n  {\n    key: 'Cross-Origin-Embedder-Policy',\n    value: 'require-corp',\n  },\n  {\n    key: 'Cross-Origin-Opener-Policy',\n    value: 'same-origin',\n  },\n]\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e如果需要浏览器支持 \u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer\"\u003eSharedArrayBuffer\u003c/a\u003e 需要设置 header \u003ccode\u003esame-origin\u003c/code\u003e\u003c/p\u003e\n\u003cpre class=\"language-ts\"\u003e\u003ccode class=\"language-ts\"\u003eCross-Origin-Opener-Policy: same-origin\nCross-Origin-Embedder-Policy: require-corp\u003c/code\u003e\u003c/pre\u003e\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://web.dev/why-coop-coep/?utm_source=devtools\"\u003ehttps://web.dev/why-coop-coep/?utm_source=devtools\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://developer.chrome.com/docs/extensions/mv3/cross-origin-isolation/\"\u003ehttps://developer.chrome.com/docs/extensions/mv3/cross-origin-isolation/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/camillelamy/explainers/blob/main/anonymous_iframes.md\"\u003ehttps://github.com/camillelamy/explainers/blob/main/anonymous_iframes.md\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://developer.chrome.com/origintrials/#/register_trial/303992974847508481\"\u003ehttps://developer.chrome.com/origintrials/#/register_trial/303992974847508481\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://blog.agektmr.com/2021/11/cross-origin-isolation.html\"\u003ehttps://blog.agektmr.com/2021/11/cross-origin-isolation.html\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://first-party-test.glitch.me/\"\u003ehttps://first-party-test.glitch.me/\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://stackoverflow.com/questions/70535752/enable-sharedarraybuffer-on-localhost\"\u003ehttps://stackoverflow.com/questions/70535752/enable-sharedarraybuffer-on-localhost\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n","attributes":{}},"themeConfig":{"title":"Blog(issues)","links":[{"title":"GitHub","url":"https://github.com/xiaotiandada/blog"},{"title":"Twitter","url":"https://twitter.com/XiaoTianIsMe"}]}},"__N_SSG":true},"page":"/[...path]","query":{"path":["I_kwDOD_pKSM5LT1Nz"]},"buildId":"YPEk3V-eoVeml18YoUSCM","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>