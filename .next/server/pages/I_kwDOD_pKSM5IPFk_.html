<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Next - Blog(issues)</title><meta property="og:type" content="artical"/><meta property="og:title" content="Next"/><meta property="og:image" content="
        https://og-image.vercel.app/Next.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fvercel-triangle-black.svg
      "/><meta property="article:published_time" content="2022-04-22T07:09:49Z"/><meta property="article:author" content="xiaotiandada"/><meta name="twitter:card" content="Next"/><meta name="twitter:title" content="Next"/><meta name="twitter:image" content="
        https://og-image.vercel.app/Next.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fvercel-triangle-black.svg
      "/><meta name="next-head-count" content="4"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""/><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&amp;display=swap" rel="stylesheet"/><link rel="preload" href="/_next/static/css/b78bfc7021c6877d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b78bfc7021c6877d.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-2190439a97dca295.js" defer=""></script><script src="/_next/static/chunks/pages/_app-2aac380799256b7f.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...path%5D-e0b96643230aac68.js" defer=""></script><script src="/_next/static/YPEk3V-eoVeml18YoUSCM/_buildManifest.js" defer=""></script><script src="/_next/static/YPEk3V-eoVeml18YoUSCM/_ssgManifest.js" defer=""></script><script src="/_next/static/YPEk3V-eoVeml18YoUSCM/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div><div class="container mx-auto mt-24 max-w-2xl px-4 sm:px-0"><div><div class="flex my-8 font-bold"><a href="/">Blog(issues)</a></div></div><div class="mb-8"><div class="text-3xl font-medium">Next</div><div class="flex mt-4 items-center gap-2"><img class="w-8 h-8 rounded-full" src="https://avatars.githubusercontent.com/u/24250627?u=51a93e07957381123eb9fbdd6407de36033b578d&amp;v=4"/><a target="_blank" href="https://github.com/xiaotiandada">xiaotiandada</a><a class="underline text-sm" target="_blank" href="https://github.com/xiaotiandada/blog/issues/100">View on GitHub</a></div><div class="my-8"><div class="flex gap-4 flex-wrap"></div></div></div><div class="post-body"><ul>
<li><a href="https://nextjs.org/learn/foundations/about-nextjs">https://nextjs.org/learn/foundations/about-nextjs</a></li>
</ul>
<h3 id="nextimage">next/image</h3>
<ul>
<li><a href="https://nextjs.org/docs/messages/sharp-missing-in-production">https://nextjs.org/docs/messages/sharp-missing-in-production</a></li>
<li><a href="https://www.npmjs.com/package/sharp">https://www.npmjs.com/package/sharp</a></li>
<li><a href="https://www.npmjs.com/package/@squoosh/lib">https://www.npmjs.com/package/@squoosh/lib</a></li>
</ul>
<h3 id="seo">SEO</h3>
<ul>
<li><a href="https://nextjs.org/learn/seo/introduction-to-seo">https://nextjs.org/learn/seo/introduction-to-seo</a> （TODO）</li>
<li><a href="https://github.com/garmeeh/next-seo">https://github.com/garmeeh/next-seo</a></li>
<li><a href="https://nextjs.org/docs/advanced-features/measuring-performance">https://nextjs.org/docs/advanced-features/measuring-performance</a></li>
</ul>
<p>next-seo images 参数是一个数组，大部分情况都是使用最后一张作为封面。如果需要特定图片作为封面可只设置一张。</p>
<ul>
<li><a href="https://github.com/xiaotiandada/blog/issues/107">https://github.com/xiaotiandada/blog/issues/107</a> seo 部分可以参考</li>
</ul>
<h3 id="pwa">PWA</h3>
<ul>
<li><a href="https://github.com/shadowwalker/next-pwa">https://github.com/shadowwalker/next-pwa</a></li>
<li><a href="https://lavas-project.github.io/pwa-book/chapter06/1-manifest-json.html">https://lavas-project.github.io/pwa-book/chapter06/1-manifest-json.html</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/Progressive_web_apps/Add_to_home_screen">https://developer.mozilla.org/zh-CN/docs/Web/Progressive_web_apps/Add_to_home_screen</a></li>
</ul>
<blockquote>
<p>Tip: Put the viewport head meta tag into _app.js rather than in _document.js if you need it.</p>
</blockquote>
<ul>
<li><a href="https://github.com/shadowwalker/next-pwa/issues/99">https://github.com/shadowwalker/next-pwa/issues/99</a></li>
</ul>
<h3 id="layout">Layout</h3>
<ul>
<li><a href="https://nextjs.org/docs/basic-features/layouts">https://nextjs.org/docs/basic-features/layouts</a></li>
<li><a href="https://github.com/vercel/next.js/tree/canary/examples/layout-component">https://github.com/vercel/next.js/tree/canary/examples/layout-component</a></li>
<li><a href="https://adamwathan.me/2019/10/17/persistent-layout-patterns-in-nextjs/">https://adamwathan.me/2019/10/17/persistent-layout-patterns-in-nextjs/</a></li>
</ul>
<h3 id="vercel">Vercel</h3>
<p>λ  (Server)  server-side renders at runtime (uses getInitialProps or getServerSideProps)
○  (Static)  automatically rendered as static HTML (uses no initial props)
●  (SSG)     automatically generated as static HTML + JSON (uses getStaticProps)</p>
<blockquote>
<p>Error: No more than 12 Serverless Functions can be added to a Deployment on the Hobby plan. Create a team (Pro plan) to deploy more. Learn More: <a href="https://vercel.link/function-count-limit">https://vercel.link/function-count-limit</a></p>
</blockquote>
<h3 id="sharedarraybuffer">SharedArrayBuffer</h3>
<ul>
<li><a href="https://nextjs.org/docs/advanced-features/security-headers">https://nextjs.org/docs/advanced-features/security-headers</a></li>
</ul>
<p>父级开启了</p>
<pre class="language-js"><code class="language-js"><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'Cross-Origin-Embedder-Policy'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'require-corp'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'Cross-Origin-Opener-Policy'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'same-origin'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span></code></pre><p>iframe 源也开启了会被拒绝链接</p>
<img width="1388" alt="image" src="https://user-images.githubusercontent.com/24250627/172151602-4adaaf23-49c2-410c-bb2e-43b887e68371.png">

</div><hr class="my-12"/><div class="font-sans"><div class="mb-12"><a target="_blank" href="https://github.com/xiaotiandada/blog/issues/100" class="font-medium border border-gray-700 hover:bg-gray-700 hover:text-gray-100 transition-all text-gray-700 text-sm rounded px-4 py-2">Add comment</a></div></div><div class="my-12"><div class="text-sm">Powered by <a class="underline" target="_blank" href="https://github.com/djyde/sairin">Sairin</a></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"I_kwDOD_pKSM5IPFk_","url":"https://github.com/xiaotiandada/blog/issues/100","title":"Next","updatedAt":"2022-06-06T15:01:43Z","createdAt":"2022-04-22T07:09:49Z","body":"- https://nextjs.org/learn/foundations/about-nextjs\r\n\r\n### next/image\r\n- https://nextjs.org/docs/messages/sharp-missing-in-production\r\n- https://www.npmjs.com/package/sharp\r\n- https://www.npmjs.com/package/@squoosh/lib\r\n\r\n### SEO\r\n- https://nextjs.org/learn/seo/introduction-to-seo （TODO）\r\n- https://github.com/garmeeh/next-seo\r\n- https://nextjs.org/docs/advanced-features/measuring-performance\r\n\r\nnext-seo images 参数是一个数组，大部分情况都是使用最后一张作为封面。如果需要特定图片作为封面可只设置一张。\r\n\r\n- https://github.com/xiaotiandada/blog/issues/107 seo 部分可以参考\r\n\r\n### PWA\r\n- https://github.com/shadowwalker/next-pwa\r\n- https://lavas-project.github.io/pwa-book/chapter06/1-manifest-json.html\r\n- https://developer.mozilla.org/zh-CN/docs/Web/Progressive_web_apps/Add_to_home_screen\r\n\r\n\u003e Tip: Put the viewport head meta tag into _app.js rather than in _document.js if you need it.\r\n- https://github.com/shadowwalker/next-pwa/issues/99\r\n\r\n### Layout\r\n- https://nextjs.org/docs/basic-features/layouts\r\n- https://github.com/vercel/next.js/tree/canary/examples/layout-component\r\n- https://adamwathan.me/2019/10/17/persistent-layout-patterns-in-nextjs/\r\n\r\n### Vercel\r\n\r\nλ  (Server)  server-side renders at runtime (uses getInitialProps or getServerSideProps)\r\n○  (Static)  automatically rendered as static HTML (uses no initial props)\r\n●  (SSG)     automatically generated as static HTML + JSON (uses getStaticProps)\r\n\r\n\u003eError: No more than 12 Serverless Functions can be added to a Deployment on the Hobby plan. Create a team (Pro plan) to deploy more. Learn More: https://vercel.link/function-count-limit\r\n\r\n### SharedArrayBuffer\r\n\r\n- https://nextjs.org/docs/advanced-features/security-headers\r\n\r\n\r\n父级开启了\r\n\r\n```js\r\n[\r\n  {\r\n    key: 'Cross-Origin-Embedder-Policy',\r\n    value: 'require-corp',\r\n  },\r\n  {\r\n    key: 'Cross-Origin-Opener-Policy',\r\n    value: 'same-origin',\r\n  },\r\n]\r\n```\r\n\r\niframe 源也开启了会被拒绝链接\r\n\r\n\u003cimg width=\"1388\" alt=\"image\" src=\"https://user-images.githubusercontent.com/24250627/172151602-4adaaf23-49c2-410c-bb2e-43b887e68371.png\"\u003e\r\n\r\n","comments":{"nodes":[]},"reactionGroups":[{"content":"THUMBS_UP","reactors":{"totalCount":0}},{"content":"THUMBS_DOWN","reactors":{"totalCount":0}},{"content":"LAUGH","reactors":{"totalCount":0}},{"content":"HOORAY","reactors":{"totalCount":0}},{"content":"CONFUSED","reactors":{"totalCount":0}},{"content":"HEART","reactors":{"totalCount":0}},{"content":"ROCKET","reactors":{"totalCount":0}},{"content":"EYES","reactors":{"totalCount":0}}],"author":{"login":"xiaotiandada","url":"https://github.com/xiaotiandada","avatarUrl":"https://avatars.githubusercontent.com/u/24250627?u=51a93e07957381123eb9fbdd6407de36033b578d\u0026v=4"},"html":"\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://nextjs.org/learn/foundations/about-nextjs\"\u003ehttps://nextjs.org/learn/foundations/about-nextjs\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"nextimage\"\u003enext/image\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://nextjs.org/docs/messages/sharp-missing-in-production\"\u003ehttps://nextjs.org/docs/messages/sharp-missing-in-production\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.npmjs.com/package/sharp\"\u003ehttps://www.npmjs.com/package/sharp\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.npmjs.com/package/@squoosh/lib\"\u003ehttps://www.npmjs.com/package/@squoosh/lib\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"seo\"\u003eSEO\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://nextjs.org/learn/seo/introduction-to-seo\"\u003ehttps://nextjs.org/learn/seo/introduction-to-seo\u003c/a\u003e （TODO）\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/garmeeh/next-seo\"\u003ehttps://github.com/garmeeh/next-seo\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://nextjs.org/docs/advanced-features/measuring-performance\"\u003ehttps://nextjs.org/docs/advanced-features/measuring-performance\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003enext-seo images 参数是一个数组，大部分情况都是使用最后一张作为封面。如果需要特定图片作为封面可只设置一张。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/xiaotiandada/blog/issues/107\"\u003ehttps://github.com/xiaotiandada/blog/issues/107\u003c/a\u003e seo 部分可以参考\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"pwa\"\u003ePWA\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/shadowwalker/next-pwa\"\u003ehttps://github.com/shadowwalker/next-pwa\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://lavas-project.github.io/pwa-book/chapter06/1-manifest-json.html\"\u003ehttps://lavas-project.github.io/pwa-book/chapter06/1-manifest-json.html\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://developer.mozilla.org/zh-CN/docs/Web/Progressive_web_apps/Add_to_home_screen\"\u003ehttps://developer.mozilla.org/zh-CN/docs/Web/Progressive_web_apps/Add_to_home_screen\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003eTip: Put the viewport head meta tag into _app.js rather than in _document.js if you need it.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/shadowwalker/next-pwa/issues/99\"\u003ehttps://github.com/shadowwalker/next-pwa/issues/99\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"layout\"\u003eLayout\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://nextjs.org/docs/basic-features/layouts\"\u003ehttps://nextjs.org/docs/basic-features/layouts\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/vercel/next.js/tree/canary/examples/layout-component\"\u003ehttps://github.com/vercel/next.js/tree/canary/examples/layout-component\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://adamwathan.me/2019/10/17/persistent-layout-patterns-in-nextjs/\"\u003ehttps://adamwathan.me/2019/10/17/persistent-layout-patterns-in-nextjs/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"vercel\"\u003eVercel\u003c/h3\u003e\n\u003cp\u003eλ  (Server)  server-side renders at runtime (uses getInitialProps or getServerSideProps)\n○  (Static)  automatically rendered as static HTML (uses no initial props)\n●  (SSG)     automatically generated as static HTML + JSON (uses getStaticProps)\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eError: No more than 12 Serverless Functions can be added to a Deployment on the Hobby plan. Create a team (Pro plan) to deploy more. Learn More: \u003ca href=\"https://vercel.link/function-count-limit\"\u003ehttps://vercel.link/function-count-limit\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3 id=\"sharedarraybuffer\"\u003eSharedArrayBuffer\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://nextjs.org/docs/advanced-features/security-headers\"\u003ehttps://nextjs.org/docs/advanced-features/security-headers\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e父级开启了\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token literal-property property\"\u003ekey\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'Cross-Origin-Embedder-Policy'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token literal-property property\"\u003evalue\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'require-corp'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token literal-property property\"\u003ekey\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'Cross-Origin-Opener-Policy'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token literal-property property\"\u003evalue\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'same-origin'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eiframe 源也开启了会被拒绝链接\u003c/p\u003e\n\u003cimg width=\"1388\" alt=\"image\" src=\"https://user-images.githubusercontent.com/24250627/172151602-4adaaf23-49c2-410c-bb2e-43b887e68371.png\"\u003e\n\n","attributes":{}},"themeConfig":{"title":"Blog(issues)","links":[{"title":"GitHub","url":"https://github.com/xiaotiandada/blog"},{"title":"Twitter","url":"https://twitter.com/XiaoTianIsMe"}]}},"__N_SSG":true},"page":"/[...path]","query":{"path":["I_kwDOD_pKSM5IPFk_"]},"buildId":"YPEk3V-eoVeml18YoUSCM","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>