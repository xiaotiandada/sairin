{"pageProps":{"post":{"id":"MDU6SXNzdWU3ODg3MDkxMzA=","url":"https://github.com/xiaotiandada/blog/issues/18","title":"Echarts系列之复制粘贴大法","updatedAt":"2021-01-19T05:03:32Z","createdAt":"2021-01-19T05:03:32Z","body":"2018-12-17 20:33:08\r\n\r\n# Echarts 系列之复制粘贴大法\r\n\r\n> 最近在耍 Echarts 稍微有点小经验，写(熬)篇文章记录一下下~\r\n>\r\n> 话不多说，直接开始(开始复制粘贴) hhhhh~~\r\n>\r\n> 开发中也有找类似的图表直接修改 附上链接\r\n> [官方链接](http://echarts.baidu.com/examples/#chart-type-pie) > [社区-GALLERY](http://gallery.echartsjs.com/explore.html#sort=rank~timeframe=all~author=all)\r\n>\r\n> [仓库地址](https://github.com/xiaotiandada/Case) [预览地址](https://xiaotiandada.github.io/Case/Echarts/) [文章地址](https://xiaotiandada.github.io/2018/12/17/Echarts%E7%B3%BB%E5%88%97%E4%B9%8B%E5%A4%8D%E5%88%B6%E7%B2%98%E8%B4%B4%E5%A4%A7%E6%B3%95/#more)\r\n\r\n<!-- more -->\r\n\r\n## 饼图\r\n\r\n### Doughnut Chart\r\n\r\n> [链接](http://www.echartsjs.com/examples/editor.html?c=pie-doughnut)\r\n\r\n<div align='center'>\r\n  <img width=\"360px\" src='Echarts系列之复制粘贴大法/DoughnutChart.png' />\r\n</div>\r\n\r\n\r\n官方给出了 demo 其实也还挺好看的，只是不适合直接放在业务里面(需要变变色，变色大小什么的)\r\n\r\n让我们一步步改造他吧。\r\n\r\n```js\r\nlet json = {\r\n  ...\r\n   legend: {\r\n     ...\r\n    icon: \"circle\",  // legend icon形状 也可以自定义\r\n  },\r\n  series: [{\r\n    name: \"甜甜圈\",\r\n    type: \"pie\",\r\n    radius: [\"30%\", \"60%\"], // 'radius' 扇区圆心角展现数据的百分比，半径展现数据的大小。\r\n    center: [\"50%\", \"50%\"], // 饼图的中心（圆心）坐标，数组的第一项是横坐标，第二项是纵坐标。\r\n    color: [\"#1976D2\", \"#2196F3\", \"#03A9F4\"], // 颜色\r\n    ...\r\n  }]\r\n}\r\n```\r\n\r\n<div align='center'>\r\n  <img width=\"360px\" src='Echarts系列之复制粘贴大法/DoughnutChart1.png' />\r\n</div>\r\n\r\n\r\n> 是不是很简单！感觉都没什么好写的 23333(继续改，后面使用上面的 json)。\r\n>\r\n> [仓库地址](https://github.com/xiaotiandada/Case)\r\n>\r\n> 有时候会遇到这种空心圆中间放 icon 图片的时候 于是就有下图\r\n\r\n<div align='center'>\r\n  <img width=\"360px\" src='Echarts系列之复制粘贴大法/DoughnutChart2.png' />\r\n</div>\r\n\r\n\r\n```js\r\nlet json = {\r\n  ...\r\n    // graphic 是原生图形元素组件。可以支持的图形元素包括：\r\n    // image, text, circle, sector, ring, polygon, polyline, rect, line, bezierCurve, arc, group,\r\n   graphic: {\r\n    type: \"image\",\r\n    left: \"center\",  // 位置\r\n    top: \"center\",   // 位置\r\n    style: {\r\n      image: \"chartsGraphic.png\",  // 路径\r\n      width: 100,                  // 宽高\r\n      height: 100\r\n    }\r\n  },\r\n  ...\r\n}\r\n```\r\n\r\n[文档地址](http://www.echartsjs.com/option.html#graphic)\r\n\r\n继续复制粘贴 emmmm\r\n\r\n如果很多个标题，设计稿放在两边！ （xiaochangmian）\r\n\r\n<div align='center'>\r\n  <img width=\"360px\" src='Echarts系列之复制粘贴大法/DoughnutChart3.png' />\r\n</div>\r\n\r\n\r\n```js\r\nlet json = {\r\n  ...\r\n  // 将legend 变成数组形式，左右各一个\r\n    legend: [{\r\n      x: \"left\",\r\n      itemGap: 30,\r\n      icon: \"circle\",\r\n      data: []      // 里面存放名字\r\n    },\r\n    {\r\n      x: \"right\",\r\n      itemGap: 30,\r\n      icon: \"circle\",\r\n      data: []   // 里面存放名字\r\n    }\r\n  ],\r\n  ...\r\n}\r\n\r\n// 我自己写了一个方法存进去，可供参考\r\n// 传入数据和 json 配置\r\n// 数字可以抽离出来，大家可以自行改造(或者取长度/2 需要算上单数情况)\r\nfunction setChartsAreaLength(areaName, json) {\r\nlet arr1 = [],\r\narr2 = [];\r\nareaName.map((item, index) => {\r\nindex < 8 ? (arr1 = [...arr1, item]) : (arr2 = [...arr2, item]);\r\n});\r\njson.legend[0].data = arr1;\r\njson.legend[1].data = arr2;\r\n}\r\n\r\n```\r\n\r\n### Referer of a website\r\n\r\n于是继续搞\r\n\r\n这个同第一个 改改颜色就好了 然后隐藏标线和文字\r\n\r\n<div align='center'>\r\n  <img width=\"360px\" src='Echarts系列之复制粘贴大法/DoughnutChart4.png' />\r\n</div>\r\n\r\n\r\n```js\r\nlet json = {\r\n  ...\r\n   series: [{\r\n    data: [],\r\n    label: {\r\n      show: false // 是否显示标示文字\r\n    },\r\n    labelLine: {\r\n      show: false // 是否显示视觉引导线\r\n    }\r\n  }]\r\n  ...\r\n};\r\n```\r\n\r\n### Nested Pies\r\n\r\n> 嵌套饼图\r\n\r\n<div align='center'>\r\n  <img width=\"360px\" src='Echarts系列之复制粘贴大法/DoughnutChart5.png' />\r\n</div>\r\n\r\n\r\n```js\r\nlet json = {\r\n  ...\r\n  // 将legend 变成数组形式，左右各一个\r\n    legend: [{\r\n      data: ['白天', '晚上']\r\n    },\r\n    {\r\n      data: ['上班', '游戏', '休息']\r\n    }\r\n  ],\r\n   series: [{\r\n      radius: [0, '36%'],    // 饼图大小  内饼图 从0-36%\r\n      data: [{\r\n          value: 12,\r\n          name: '白天',\r\n        },\r\n        {\r\n          value: 12,\r\n          name: '晚上'\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      name: '分类',\r\n      type: 'pie',\r\n      radius: ['44%', '72%'],  // 饼图大小  内饼图 从44%-75%\r\n      data: [{\r\n          value: 335,\r\n          name: '上班'\r\n        },\r\n        {\r\n          value: 310,\r\n          name: '游戏'\r\n        }, {\r\n          value: 300,\r\n          name: '休息'\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n  ...\r\n}\r\n```\r\n\r\n> 2018-12-24 更\r\n\r\n嵌套饼图有时候可能文字需要在图表上面,让我们一起来改造改造\r\n\r\n<div align='center'>\r\n  <img width=\"360px\" src='Echarts系列之复制粘贴大法/DoughnutChart6.png' />\r\n</div>\r\n\r\n\r\n```js\r\nlet json = {\r\n  ...\r\n  // 配置和上一个饼图一模一样\r\n   series: [{\r\n     label: {\r\n        show: true,            // 显示折线文字(好像默认显示)\r\n        color: '#fff',        // 文字颜色\r\n        position: 'inside'    // 显示位置\r\n      },\r\n      labelLine: {\r\n        show: false          // 内饼图文字在图上方 不需要折线\r\n      },\r\n    },\r\n    {\r\n    label: {\r\n          show: true,       // 同上\r\n          color: '#fff'\r\n        },\r\n        labelLine: {\r\n          show: true,       // 需要折线(可自行扩展)\r\n        },\r\n      }\r\n  ]\r\n  ...\r\n}\r\n\r\n```\r\n\r\n> 大家也可以自行发挥，我看社区里面的大佬发的饼图非常强大也很好看，开发中都可以直接拿过去用(节省开发时间)hhh,\r\n> 后面我还会继续更新这篇文章的，目前在公司一直都是 jq 所以这些都是原生的，后面也会出 Vue Or React 里面使用的(hhh)\r\n\r\n如果阅读中，有什么不明白的 可以问我，也可以去群里交流\r\n\r\nQq：952822399\r\n\r\nQq 群 iD 718639024\r\n\r\n大家也可以进来互相交流~\r\n\r\n最后就是厚脸皮的一步(觉得不错可以点个 star 哦~~~) [仓库地址](https://github.com/xiaotiandada/E-video)\r\n\r\n同时也欢迎 Pr 帮我修复不正确的地方！！","comments":{"nodes":[]},"reactionGroups":[{"content":"THUMBS_UP","reactors":{"totalCount":0}},{"content":"THUMBS_DOWN","reactors":{"totalCount":0}},{"content":"LAUGH","reactors":{"totalCount":0}},{"content":"HOORAY","reactors":{"totalCount":0}},{"content":"CONFUSED","reactors":{"totalCount":0}},{"content":"HEART","reactors":{"totalCount":0}},{"content":"ROCKET","reactors":{"totalCount":0}},{"content":"EYES","reactors":{"totalCount":0}}],"author":{"login":"xiaotiandada","url":"https://github.com/xiaotiandada","avatarUrl":"https://avatars.githubusercontent.com/u/24250627?u=51a93e07957381123eb9fbdd6407de36033b578d&v=4"},"html":"<p>2018-12-17 20:33:08</p>\n<h1 id=\"echarts-系列之复制粘贴大法\">Echarts 系列之复制粘贴大法</h1>\n<blockquote>\n<p>最近在耍 Echarts 稍微有点小经验，写(熬)篇文章记录一下下~</p>\n<p>话不多说，直接开始(开始复制粘贴) hhhhh~~</p>\n<p>开发中也有找类似的图表直接修改 附上链接\n<a href=\"http://echarts.baidu.com/examples/#chart-type-pie\">官方链接</a> &gt; <a href=\"http://gallery.echartsjs.com/explore.html#sort=rank~timeframe=all~author=all\">社区-GALLERY</a></p>\n<p><a href=\"https://github.com/xiaotiandada/Case\">仓库地址</a> <a href=\"https://xiaotiandada.github.io/Case/Echarts/\">预览地址</a> <a href=\"https://xiaotiandada.github.io/2018/12/17/Echarts%E7%B3%BB%E5%88%97%E4%B9%8B%E5%A4%8D%E5%88%B6%E7%B2%98%E8%B4%B4%E5%A4%A7%E6%B3%95/#more\">文章地址</a></p>\n</blockquote>\n<!-- more -->\n\n<h2 id=\"饼图\">饼图</h2>\n<h3 id=\"doughnut-chart\">Doughnut Chart</h3>\n<blockquote>\n<p><a href=\"http://www.echartsjs.com/examples/editor.html?c=pie-doughnut\">链接</a></p>\n</blockquote>\n<div align='center'>\n  <img width=\"360px\" src='Echarts系列之复制粘贴大法/DoughnutChart.png' />\n</div>\n\n\n<p>官方给出了 demo 其实也还挺好看的，只是不适合直接放在业务里面(需要变变色，变色大小什么的)</p>\n<p>让我们一步步改造他吧。</p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> json <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n   <span class=\"token literal-property property\">legend</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token operator\">...</span>\n    <span class=\"token literal-property property\">icon</span><span class=\"token operator\">:</span> <span class=\"token string\">\"circle\"</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">// legend icon形状 也可以自定义</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">series</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"甜甜圈\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"pie\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">radius</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"30%\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"60%\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 'radius' 扇区圆心角展现数据的百分比，半径展现数据的大小。</span>\n    <span class=\"token literal-property property\">center</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"50%\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"50%\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 饼图的中心（圆心）坐标，数组的第一项是横坐标，第二项是纵坐标。</span>\n    <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"#1976D2\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"#2196F3\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"#03A9F4\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 颜色</span>\n    <span class=\"token operator\">...</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre><div align='center'>\n  <img width=\"360px\" src='Echarts系列之复制粘贴大法/DoughnutChart1.png' />\n</div>\n\n\n<blockquote>\n<p>是不是很简单！感觉都没什么好写的 23333(继续改，后面使用上面的 json)。</p>\n<p><a href=\"https://github.com/xiaotiandada/Case\">仓库地址</a></p>\n<p>有时候会遇到这种空心圆中间放 icon 图片的时候 于是就有下图</p>\n</blockquote>\n<div align='center'>\n  <img width=\"360px\" src='Echarts系列之复制粘贴大法/DoughnutChart2.png' />\n</div>\n\n\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> json <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n    <span class=\"token comment\">// graphic 是原生图形元素组件。可以支持的图形元素包括：</span>\n    <span class=\"token comment\">// image, text, circle, sector, ring, polygon, polyline, rect, line, bezierCurve, arc, group,</span>\n   <span class=\"token literal-property property\">graphic</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"image\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">left</span><span class=\"token operator\">:</span> <span class=\"token string\">\"center\"</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">// 位置</span>\n    <span class=\"token literal-property property\">top</span><span class=\"token operator\">:</span> <span class=\"token string\">\"center\"</span><span class=\"token punctuation\">,</span>   <span class=\"token comment\">// 位置</span>\n    <span class=\"token literal-property property\">style</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">image</span><span class=\"token operator\">:</span> <span class=\"token string\">\"chartsGraphic.png\"</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">// 路径</span>\n      <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span>                  <span class=\"token comment\">// 宽高</span>\n      <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token number\">100</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span></code></pre><p><a href=\"http://www.echartsjs.com/option.html#graphic\">文档地址</a></p>\n<p>继续复制粘贴 emmmm</p>\n<p>如果很多个标题，设计稿放在两边！ （xiaochangmian）</p>\n<div align='center'>\n  <img width=\"360px\" src='Echarts系列之复制粘贴大法/DoughnutChart3.png' />\n</div>\n\n\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> json <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n  <span class=\"token comment\">// 将legend 变成数组形式，左右各一个</span>\n    <span class=\"token literal-property property\">legend</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> <span class=\"token string\">\"left\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">itemGap</span><span class=\"token operator\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">icon</span><span class=\"token operator\">:</span> <span class=\"token string\">\"circle\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>      <span class=\"token comment\">// 里面存放名字</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> <span class=\"token string\">\"right\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">itemGap</span><span class=\"token operator\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">icon</span><span class=\"token operator\">:</span> <span class=\"token string\">\"circle\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>   <span class=\"token comment\">// 里面存放名字</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 我自己写了一个方法存进去，可供参考</span>\n<span class=\"token comment\">// 传入数据和 json 配置</span>\n<span class=\"token comment\">// 数字可以抽离出来，大家可以自行改造(或者取长度/2 需要算上单数情况)</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">setChartsAreaLength</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">areaName<span class=\"token punctuation\">,</span> json</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">let</span> arr1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\narr2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nareaName<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\nindex <span class=\"token operator\">&lt;</span> <span class=\"token number\">8</span> <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>arr1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>arr1<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>arr2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>arr2<span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\njson<span class=\"token punctuation\">.</span>legend<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>data <span class=\"token operator\">=</span> arr1<span class=\"token punctuation\">;</span>\njson<span class=\"token punctuation\">.</span>legend<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>data <span class=\"token operator\">=</span> arr2<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre><h3 id=\"referer-of-a-website\">Referer of a website</h3>\n<p>于是继续搞</p>\n<p>这个同第一个 改改颜色就好了 然后隐藏标线和文字</p>\n<div align='center'>\n  <img width=\"360px\" src='Echarts系列之复制粘贴大法/DoughnutChart4.png' />\n</div>\n\n\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> json <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n   <span class=\"token literal-property property\">series</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">label</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">show</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token comment\">// 是否显示标示文字</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">labelLine</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">show</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token comment\">// 是否显示视觉引导线</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre><h3 id=\"nested-pies\">Nested Pies</h3>\n<blockquote>\n<p>嵌套饼图</p>\n</blockquote>\n<div align='center'>\n  <img width=\"360px\" src='Echarts系列之复制粘贴大法/DoughnutChart5.png' />\n</div>\n\n\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> json <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n  <span class=\"token comment\">// 将legend 变成数组形式，左右各一个</span>\n    <span class=\"token literal-property property\">legend</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'白天'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'晚上'</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'上班'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'游戏'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'休息'</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n   <span class=\"token literal-property property\">series</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">radius</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'36%'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>    <span class=\"token comment\">// 饼图大小  内饼图 从0-36%</span>\n      <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'白天'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'晚上'</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'分类'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'pie'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">radius</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'44%'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'72%'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">// 饼图大小  内饼图 从44%-75%</span>\n      <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token number\">335</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'上班'</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token number\">310</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'游戏'</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token number\">300</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">'休息'</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span></code></pre><blockquote>\n<p>2018-12-24 更</p>\n</blockquote>\n<p>嵌套饼图有时候可能文字需要在图表上面,让我们一起来改造改造</p>\n<div align='center'>\n  <img width=\"360px\" src='Echarts系列之复制粘贴大法/DoughnutChart6.png' />\n</div>\n\n\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> json <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n  <span class=\"token comment\">// 配置和上一个饼图一模一样</span>\n   <span class=\"token literal-property property\">series</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n     <span class=\"token literal-property property\">label</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">show</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>            <span class=\"token comment\">// 显示折线文字(好像默认显示)</span>\n        <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> <span class=\"token string\">'#fff'</span><span class=\"token punctuation\">,</span>        <span class=\"token comment\">// 文字颜色</span>\n        <span class=\"token literal-property property\">position</span><span class=\"token operator\">:</span> <span class=\"token string\">'inside'</span>    <span class=\"token comment\">// 显示位置</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">labelLine</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">show</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>          <span class=\"token comment\">// 内饼图文字在图上方 不需要折线</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">label</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">show</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>       <span class=\"token comment\">// 同上</span>\n          <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> <span class=\"token string\">'#fff'</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">labelLine</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">show</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>       <span class=\"token comment\">// 需要折线(可自行扩展)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span>\n</code></pre><blockquote>\n<p>大家也可以自行发挥，我看社区里面的大佬发的饼图非常强大也很好看，开发中都可以直接拿过去用(节省开发时间)hhh,\n后面我还会继续更新这篇文章的，目前在公司一直都是 jq 所以这些都是原生的，后面也会出 Vue Or React 里面使用的(hhh)</p>\n</blockquote>\n<p>如果阅读中，有什么不明白的 可以问我，也可以去群里交流</p>\n<p>Qq：952822399</p>\n<p>Qq 群 iD 718639024</p>\n<p>大家也可以进来互相交流~</p>\n<p>最后就是厚脸皮的一步(觉得不错可以点个 star 哦~~~) <a href=\"https://github.com/xiaotiandada/E-video\">仓库地址</a></p>\n<p>同时也欢迎 Pr 帮我修复不正确的地方！！</p>\n","attributes":{}},"themeConfig":{"title":"Blog(issues)","links":[{"title":"GitHub","url":"https://github.com/xiaotiandada/blog"},{"title":"Twitter","url":"https://twitter.com/XiaoTianIsMe"}]}},"__N_SSG":true}